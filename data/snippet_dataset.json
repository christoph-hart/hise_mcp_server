[
  {
    "title": "BasicSynth",
    "category": "All",
    "tags": [
      "Best Practice",
      "Complex",
      "Featured",
      "First contact",
      "Full Project"
    ],
    "description": "\n\n\nThe hello world BasicSynth from the tutorial repository",
    "code": "/** HISE Basic Synth\n*\n*  An example project that shows the usage of HISE \n*  for a basic synth.\n*/\n\n// Set the interface size\nContent.makeFrontInterface(1024, 768);\n\n// This includes additional scripts. You can access them by clicking \n// on the \"onInit\" callback selector on top of the Code Editor. \ninclude(\"CustomCallbacks.js\");\n\n//! ================================================== Page Handling\n\n// Get these references by selecting a control in the Interface Designer\n// in Edit Mode [F4], right-click and choose \"Create script reference for selection\" and paste it here.\n \nconst var SynthPageButton = Content.getComponent(\"SynthPageButton\");\nconst var PresetButton = Content.getComponent(\"PresetButton\");\nconst var SettingsButton = Content.getComponent(\"SettingsButton\");\nconst var FXPageButton = Content.getComponent(\"FXPageButton\");\n\nconst var SynthPage = Content.getComponent(\"SynthPage\");\nconst var FXPage = Content.getComponent(\"FXPage\");\nconst var PresetBrowser = Content.getComponent(\"PresetBrowser\");\nconst var SettingsPage = Content.getComponent(\"SettingsPage\");\n\n// Put them all in an array for iterating through the pages.\nconst var pages = [SynthPage, FXPage, PresetBrowser, SettingsPage];\n\n// This function iterates the array, hides all pages and\n// only shows the given page pageToShow is a reference to the control. \ninline function handlePages(pageToShow)\n{\n    for(p in pages)\n        p.set(\"visible\", pageToShow == p);\n}\n\n// This page will be shown as default\nhandlePages(SynthPage);\n\n/* In this example the most action happens in the Interface Designer.\n   The knobs and sliders are directly connected to the Sound generators \n   inside the parameter properties, and are styled and finetuned there. \n   Have a look :).\n*/\n\n\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n    /*  This callback just calls the page handling function with the respective page.\n    *   The other custom callbacks are implemented in the onInit script.\n    */\n\tswitch(number)\n    {\n        case SynthPageButton: handlePages(SynthPage); break;\n        case FXPageButton: handlePages(FXPage); break;\n        case SettingsButton: handlePages(SettingsPage); break;\n        case PresetButton: handlePages(PresetBrowser); break;\n    }\n}\n\n"
  },
  {
    "title": "Dynamic Plugin Parameters",
    "category": "All",
    "tags": [
      "Full Project",
      "Helper Tools",
      "UI Logic"
    ],
    "description": "\nThis snippet will demonstrate how to use the macro control system to implement a dynamic plugin parameter assignment.\n\nIn order for this to work, you will need to add two preprocessor macros to your ExtraDefinitions fields in the project settings:\n\n```\nHISE_MACROS_ARE_PLUGIN_PARAMETERS=1\nHISE_NUM_MACROS=4\n```\n\n",
    "code": "/** Macro Plugin Parameter Example.\n\nThis snippet demonstrates how to use the macro control system for a dynamic plugin parameter assignment\nso that the user can assign any control to a plugin parameter.\n\nIn order for this to work, you will need to add two preprocessor macros to your ExtraDefinitions fields in the project settings:\n\nHISE_MACROS_ARE_PLUGIN_PARAMETERS=1\nHISE_NUM_MACROS=4\n\nObviously you can use any number instead of 4, but for this snippet we'll keep it lean...\n\n*/\n\nContent.makeFrontInterface(600, 400);\n\nnamespace MacroParameterHandling\n{\n\n// Use EXACTLY as many names as you define with HISE_NUM_MACROS in your extra definitions here\nEngine.setFrontendMacros([\"Slot 1\", \"Slot 2\", \"Slot 3\", \"Slot 4\"]);\n\nconst var mh = Engine.createMacroHandler();\n\n// This command will make sure that you can't assign more than one parameter to a macro slot\n// (omit this if you want to keep this, but usually you want a 1:1 connection to plugin parameters)\nmh.setExclusiveMode(true);\n\n//Note that macro assignments are part of the user preset data model, so they will be \n// restored correctly when loading a DAW session. However if you want to keep the \n// macro assignments consistent across user preset browsing, you will have to implement \n// this manually by saving and restoring the macro connection data\nconst var uph = Engine.createUserPresetHandler();\n\nreg currentMacroConnections;\n\n// This will be executed before a preset is loaded\nuph.setPreCallback(function(presetData)\n{\n\t// checks if the preset load is coming from a user trying to load a preset\n\t// (as opposed to the DAW restoring the project session)\n\tif(!uph.isInternalPresetLoad())\n\t{\n\t\t// Store the current macro connections as a JSON object.\n\t\tcurrentMacroConnections = mh.getMacroDataObject();\n\t}\n});\n\n// This will be executed after a preset load and will restore the macro connection objects\n// when the user loads a preset so they stay consistent across browsing presets.\nuph.setPostCallback(function(presetFile)\n{\n\tif(!uph.isInternalPresetLoad() && isDefined(currentMacroConnections))\n\t{\n\t\tmh.setMacroDataFromObject(currentMacroConnections);\n\t}\n});\n\t\n}\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Knob with Modulation Scaling",
    "category": "All",
    "tags": [
      "API",
      "Best Practice",
      "UI Logic",
      "Modulation"
    ],
    "description": "\n\nThis snippet shows how to use the new inbuilt modulation features to connect a pitch modulation chain to a knob and control its intensity with the mouse drag.\n\nIt will show the modulation range, the current modulation value and you can drag the modulation range of all pitch modulators using Ctrl+mouse drag!",
    "code": "Content.makeFrontInterface(200, 200);\n\nconst var Knob1 = Content.getComponent(\"Knob1\");\n\nconst var mods = Knob1.createModifiers();\n\n// Turn off fine tune\nKnob1.setModifiers(mods.FineTune, mods.disabled);\n\n// Turn off mod scaling with CTRL\nKnob1.setModifiers(mods.ScaleModulation, mods.ctrlDown);\n\nconst var SineWaveGenerator1 = Synth.getChildSynth(\"Sine Wave Generator1\");\nconst var laf = Content.createLocalLookAndFeel();\nconst var ARC = 2.3;\n\nvar lastPath;\nvar lastAlpha = 0.0;\nvar lastValue = 0.0;\n\nvar p = {};               // Pick one of these:\np.EndCapStyle = \"rounded\";   // [\"butt\", \"square\", \"rounded\"]\np.JointStyle = \"rounded\"; // [\"mitered\", \"curved\",\"beveled\"]\np.Thickness = 8.0;\n\nvar lv = 0.0;\nvar lmv = 0.0;\n\nlaf.registerFunction(\"drawRotarySlider\", function(g, obj)\n{\n\tvar paths = [];\n\t\n\tvar b = Rectangle(obj.area);\n\tvar w = obj.area[2];\n\t\n\tfor(i = 0; i < 4; i++)\n\t{\n\t\tpaths.push(Content.createPath());\n\t\tpaths[i].startNewSubPath(0, 0);\n\t\tpaths[i].startNewSubPath(b[2], b[3]);\n\t}\n\t\n\tpaths[0].addArc(b.reduced(0.1*w), -ARC, ARC);\n\t\n\tg.setColour(0x22000000);\n\tp.Thickness = 6;\n\tg.drawPath(paths[0], b, p);\n\t\n\tvar r = -ARC + obj.valueNormalized * 2 * ARC;\n\t\n\tg.setGradientFill([0xFFAAAAAA, 0.0, 0.0, 0xFF777777, 0.0, w, false]);\n\tg.rotate(r, [obj.area[2]/2, obj.area[3]/2]);\n\tg.fillEllipse(b.reduced(0.22*w));\n\tg.fillTriangle(b.withSizeKeepingCentre(0.15 * w, 0.1 * w).translated(0, -0.29 * w), 0.0);\n\tg.rotate(-r, [obj.area[2]/2, obj.area[3]/2]);\n\tg.setColour(0xAA000000);\n\tg.fillEllipse(b.reduced(0.28 * w));\n\tg.setColour(obj.textColour);\n\t\n\tpaths[1].addArc(b.reduced(0.1 * w), -ARC + obj.modMinValue * 2.0 * ARC, -ARC + obj.modMaxValue * 2.0 * ARC);\n\tg.setColour(0x22FFFFFF);\n\tg.drawPath(paths[1], b, p);\n\t\n\tif(obj.modulationActive)\n\t{\n\t\tvar mv = (obj.scaledValue + obj.addValue);\n\t\tvar lm = obj.lastModValue;\n\t\t\n\t\tlmv = lm;\n\t\tlv = mv;\n\t\t\n\t\tpaths[2].addArc(b.reduced(0.1 * w), -ARC + lm * 2.0 * ARC, -ARC + mv * 2.0 * ARC);\n\t\t\n\t\tvar brightness = mv - lm;\n\t\tvar modRange = obj.modMaxValue - obj.modMinValue;\n\t\t\n\t\tvar alpha = Math.range(1.0 - brightness / modRange, 0.0, 1.0);\n\t\tg.setColour(Colours.withAlpha(Colours.white, alpha * 0.1));\n\t\tp.Thickness = 10;\n\t\tg.drawPath(paths[2], b, p);\n\t\t\n\t\tp.Thickness = 5;\n\t\tg.setColour(Colours.white);\n\t\tg.drawPath(paths[2], b, p);\n\t\t\n\t\tg.setColour(Colours.withAlpha(Colours.white, alpha * 0.1));\n\t\tp.Thickness = 15;\n\t\t\n\t}\n\t\n\tg.setColour(Colours.white);\n\tg.drawAlignedText(obj.hover ? obj.valueAsText : obj.text, b, \"centredBottom\");\n});\n\nKnob1.setLocalLookAndFeel(laf);\nKnob1.connectToModulatedParameter(\"Sine Wave Generator1\", \"PitchModulation\");\n\n\ninline function onKnob1Control(component, value)\n{\n\tSineWaveGenerator1.setModulationInitialValue(2, value);\n};\n\nKnob1.setControlCallback(onKnob1Control);\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Horizontal Linear Slider LAF",
    "category": "All",
    "tags": [],
    "description": "\nA Horizontal Linear Slider with Rounded Corners LAF by [ulrik](https://forum.hise.audio/user/ulrik).",
    "code": "Content.makeFrontInterface(450, 100);\n\nconst var SLIDER = Content.getComponent(\"SLIDER\");\n\nconst knblaf = Content.createLocalLookAndFeel();\nknblaf.registerFunction(\"drawLinearSlider\", function(g, obj)\n{\n\tvar a = obj.area;\n\tvar handle = a[2]/6;\n\tvar n = (a[2] - handle) / a[2];\n\tvar v = obj.valueNormalized * n;\n\t\n\t//\tbg\n\tg.setColour(Colours.black);\n\tg.fillRoundedRectangle(a, a[3]*0.5);\n\t\n\t//\t\n\tg.setColour(Colours.lightgrey);\n\tg.fillRoundedRectangle([0, 0, a[2]*v + handle, a[3]], a[3]*0.5);\n\t\n\t//\thandle\n\tg.setColour(Colours.whitesmoke);\n\tg.fillRoundedRectangle([a[2]*v, 0, handle, a[3]], a[3]*0.5);\n\t\n\t//\ttext value\n\tg.setColour(Colours.black);\n\tg.drawAlignedText(Engine.doubleToString(obj.value, 2), [a[2]*v, 0, handle, a[3]], \"centred\");\n});\n\nSLIDER.setLocalLookAndFeel(knblaf);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Midi file sort by tag",
    "category": "All",
    "tags": [],
    "description": "\nThis snippet is built to sort midi files, but obviously you'll be able to modify it to sort other file types.\n\nby Matt_SF\n\n[Forum Topic](https://forum.hise.audio/topic/10227/snippet-how-to-filter-files-in-a-browser)",
    "code": "Content.makeFrontInterface(600, 600);\n\nconst MIDIPlayer1 = Synth.getMidiPlayer(\"MIDI Player1\");\nconst midiFiles = MIDIPlayer1.getMidiFileList();\nconst lblDisplayFiles = Content.getComponent(\"lblDisplayFiles\");\n\n// I'll leave you the task of handling how you want to add filters to this array... :)\n// For this example you can do it manually, but you can add as many filters as you want.\n\n\n// Manual setup\n\nconst filterArray = [];\nconst filteredFiles = filterFilesLoop(midiFiles, filterArray);\n\nConsole.print(trace(filteredFiles));\n\n\n\n// Quick implementation with a ComboBox \n\nconst var MidiFileSelector = Content.getComponent(\"MidiFileSelector\");\n\ninline function onMidiFileSelectorControl(component, value)\n{\n\tlocal filterArray = MidiFileSelector.getItemText().split(\" \");\n\t\n\tlocal filteredFiles = filterFilesLoop(midiFiles, filterArray);\n\n\tMIDIPlayer1.setFile(filteredFiles[0], 1, 1);\n};\nContent.getComponent(\"MidiFileSelector\").setControlCallback(onMidiFileSelectorControl);\n\n\ninline function onMidiPlayControl(component, value)\n{\n\tMIDIPlayer1.play(0);\n};\nContent.getComponent(\"MidiPlay\").setControlCallback(onMidiPlayControl);\n\n\ninline function onMidiStopControl(component, value)\n{\n\tMIDIPlayer1.stop(0);\n};\nContent.getComponent(\"MidiStop\").setControlCallback(onMidiStopControl);\n\n\n\n/* --------------\n\nWe'll assume a file-naming system like this : \n\"FileName_Type_Feel_Tempo_Length\"\ni.e.: \"MidiLoop1_Groove_Straight_120bpm_2bars.mid\"\n\nWhat we want is to get all files that match one or more words that we'll call 'filters' \n\nThe function goes like this : \n\n\t1 - We'll push the midiFiles array into a local array f.\n\t2 - The result of each filtering iteration i will be stored into another array into f.\n\t3 - We'll iterate through f as many times as there are filters.\n\t\t\ni.e. if there are 3 filters, we'll end up with : \n\nf[0] = allFiles;\nf[1] = allFiles - filteredFiles_1;\nf[2] = filteredFiles_1 - filteredFiles_2;\nf[3] = filteredFiles_2 - filteredFiles_3;\nfilterResult = filteredFiles_3;\n\n-------------- */\n\ninline function filterFilesLoop(files, filters)\n{\n\t// Start with f[0] = all midi files: so we begin to filter all available files.\n\tlocal f = [midiFiles];\n\t\n\t// This will contain the filtered files that we want the function to return.\n\tlocal filterResult = [];\n\t\n\t// Check: if there are no filters\n\tif(filters.length == 0)\n\t{\n\t\tfilterResult = midiFiles;\n\t}\n\telse\n\t{\n\t\tfor(i = 0; i < filters.length; i++)\n\t\t{\n\t\t\t// Add as many empty arrays as filters\n\t\t\tf.push([]);\n\t\t\t\n\t\t\t// If the filter exists\n\t\t\tif(isDefined(filters[i]))\n\t\t\t{\n\t\t\t\t// Go through each file of f[i] to check if the file contains the filter\n\t\t\t\tfor(j = 0; j < f[i].length; j++)\n\t\t\t\t{\n\t\t\t\t\t// if the file contains the filter\n\t\t\t\t\tif(f[i][j].contains(filters[i]))\n\t\t\t\t\t\t// Add the file to the next array, which will be analyzed further to filter the files even more\n\t\t\t\t\t\tf[i+1].push(f[i][j]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// the resulting array must be the last one, no matter how much filters are used\n\t\t\tfilterResult = f[i+1];\t\n\t\t}\n\t}\n\n\tlblDisplayFiles.set(\"text\", trace(filterResult));\n\treturn filterResult;\n}\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Flex AHDSR Envelope Example",
    "category": "Modules",
    "tags": [
      "Broadcaster",
      "Simple"
    ],
    "description": "\nThis example shows the usage of the new flex AHDSR envelope with its draggable display. It demonstrates how to:\n\n- connect the AHDSR to a floating tile\n- skin it using the script LAF functions\n- connect a broadcaster to update the UI knobs when you use the graph dragging to change the envelope",
    "code": "Content.makeFrontInterface(600, 400);\n\nnamespace FlexAHDSRHandler\n{\n\n\nconst var laf = Content.createLocalLookAndFeel();\n\n// These are all LAF function available for the flex envelope\nlaf.registerFunction(\"drawFlexAhdsrBackground\", function(g, obj)\n{\n\tg.fillAll(0xFF222222);\n});\n\nlaf.registerFunction(\"drawFlexAhdsrFullPath\", function(g, obj)\n{\n\tg.setColour(Colours.white);\n\tg.drawPath(obj.path, obj.pathArea, 1.0);\n});\n\nlaf.registerFunction(\"drawFlexAhdsrCurvePoint\", function(g, obj)\n{\n\tg.setColour(0xFF058294);\n\tg.fillEllipse([obj.curvePoint[0] -5, obj.curvePoint[1] - 5, 10, 10]);\n});\n\nlaf.registerFunction(\"drawFlexAhdsrSegment\", function(g, obj)\n{\n\tg.setColour(obj.active ? 0x34058294 : 0x14058294);\n\tg.fillPath(obj.path, Rectangle(obj.area).reduced(10));\n});\n\nlaf.registerFunction(\"drawFlexAhdsrPosition\", function(g, obj)\n{\n\tg.setColour(Colours.white);\n\tg.fillEllipse([obj.pointOnPath[0] -3, obj.pointOnPath[1] - 3, 6, 6]);\n});\n\nContent.getComponent(\"FlexAHDSRGraph\").setLocalLookAndFeel(laf);\n\n// Now we need to connect the draggable display to update the knobs on \n// the scripting UI. In order to do so we'll use a broadcaster that\n// we attach to all draggable parameters and update the knob values when they\n// are changed.\n\nconst var COMPONENTS = {\n\tAttack: \t  Content.getComponent(\"Attack\"),\n\tHold: \t\t  Content.getComponent(\"Hold\"),\n\tDecay: \t\t  Content.getComponent(\"Decay\"),\n\tSustain: \t  Content.getComponent(\"Sustain\"),\n\tRelease: \t  Content.getComponent(\"Release\"),\n\tDecayCurve:   Content.getComponent(\"DecayCurve\"),\n\tAttackCurve:  Content.getComponent(\"AttackCurve\"),\n\tReleaseCurve: Content.getComponent(\"ReleaseCurve\"),\n\tAttackLevel:  Content.getComponent(\"AttackLevel\")\n};\n\n// Now we build the list of parameters to pass into the broadcaster\nconst var PARAMETERS = [];\n\nfor(p in COMPONENTS)\n\tPARAMETERS.push(p);\n\n// this is the broadcaster\nconst var dragBroadcaster = Engine.createBroadcaster({\n\tid: \"flexDragBroadcaster\",\n\targs: [ \"id\", \"parameter\", \"value\"]\n});\n\n// attach it to the module parameters of the flex envelope\ndragBroadcaster.attachToModuleParameter(\"FLEX\", PARAMETERS, \"drag handler\");\n\t\n// and update the component values on parameter change. We pass in the JSON \n// object with the component references as this object for a extra neat syntax\t\ndragBroadcaster.addListener(COMPONENTS, \"update UI knobs\", function(id, p, value)\n{\n\tthis[p].setValue(value);\n});\n\t\n}\n\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Wavetable Postprocessing",
    "category": "Modules",
    "tags": [
      "Best Practice",
      "Complex",
      "Featured",
      "UI Logic"
    ],
    "description": "\nThis snippet demonstrates how to use the new post processing FX chain to modify a wavetable.",
    "code": "Content.makeFrontInterface(600, 600);\n\n\n\n// Let's create a buffer with 5 cycles\nconst var bf = Buffer.create(2048 * 5);\n\n// Fill it with a simple sine wave\nfor(i = 0; i < bf.length; i++)\n\tbf[i] = 1.0 * Math.sin(Math.PI * 2.0 * i / 2048.0);\n\n// Add a table and register it to the table slot so it can be\n// queried by the table processor\nconst var Table1 = Content.getComponent(\"Table1\");\nTable1.registerAtParent(0);\n\nconst var wt = Synth.getWavetableController(\"Wavetable Synthesiser1\");\n\n// This is the list of currently available post processors.\nconst var processorList = [\"Sin\",\n\t\t\t\t\"Warp\",\n\t\t\t\t\"FM1\",\n\t\t\t\t\"FM2\",\n\t\t\t\t\"FM3\",\n\t\t\t\t\"FM4\",\n\t\t\t\t\"Sync\",\n\t\t\t\t\"Root\",\n\t\t\t\t\"Clip\",\n\t\t\t\t\"Tanh\",\n\t\t\t\t\"Bitcrush\",\n\t\t\t\t\"SampleAndHold\",\n\t\t\t\t\"Fold\",\n\t\t\t\t\"Normalise\",\n\t\t\t\t\"Phase\"];\n\n\n// Setup a viewport to control the post processing chain\nconst var PostFX = Content.getComponent(\"PostFX\");\n\nPostFX.setTableMode({\n\tMultiColumnMode: false,\n\tHeaderHeight: 42,\n\tRowHeight: 34\n});\n\nPostFX.setTableColumns([\r\n\t{\r\n\t\tID: \"Type\",\r\n\t\tType: \"ComboBox\",\r\n\t\titems: processorList,\r\n\t\tValueMode: \"Text\",\r\n\t\tMinWidth: 150\r\n\t},\r\n\t{\r\n\t\tID: \"min\",\r\n\t\tType: \"Slider\",\r\n\t\tMinWidth: 150,\n\t\tStepSize: 0.01,\r\n\t\tMinValue: 0.0,\r\n\t\tMaxValue: 1.0\r\n\t},\r\n\t{\r\n\t\tID: \"max\",\r\n\t\tType: \"Slider\",\r\n\t\tMinWidth: 150,\r\n\t\tMinValue: 0.0,\r\n\t\tMaxValue: 1.0,\n\t\tStepSize: 0.01,\r\n\t\tSkewFactor: 1.0\r\n\t},\r\n\t{\r\n\t\tID: \"UseTable\",\r\n\t\tType: \"Button\",\n\t\tText: \"Use Table\",\n\t\tToggle: true,\r\n\t\tMinWidth: 100\r\n\t}\r\n]);\n\nPostFX.setTableRowData([]);\n\nconst var laf = Content.createLocalLookAndFeel();\n\nlaf.registerFunction(\"drawLinearSlider\", function(g, obj)\n{\n\tg.setColour(Colours.white);\n\tg.setFont(\"Lato\", 16.0);\n\tg.drawAlignedText(obj.valueAsText, obj.area, \"centred\");\n\n\tg.setColour(0x22FFFFFF);\n\tg.fillRect(Rectangle(obj.area).removeFromLeft(obj.area[2] * obj.valueNormalized));\n\t\n});\n\nPostFX.setLocalLookAndFeel(laf);\n\nPostFX.setTableCallback(function(obj)\n{\n\tcurrentData[obj.rowIndex][obj.columnID] = obj.value;\n\t\n\tif(obj.columnID == \"Type\")\n\t{\n\t\tupdateBroadcaster.resendLastMessage(false);\n\t}\n});\n\nconst var PostButtons = [Content.getComponent(\"AddButton\"),\n                         Content.getComponent(\"RemoveButton\"),\n                         Content.getComponent(\"ClearButton\")];\n\nconst var currentData = [];\n\ninline function onPostButton(component, value)\n{\n\tif(value)\n\t{\n\t\tlocal idx = PostButtons.indexOf(component);\n\t\t\n\t\tif(idx == 0) // ADD\n\t\t{\n\t\t\tcurrentData.push({\n\t\t\t\tType: \"Sin\",\n\t\t\t\tmin: 0.0,\n\t\t\t\tmax: 1.0,\n\t\t\t\tUseTable: false\n\t\t\t});\n\t\t}\n\t\tif(idx == 1) // Remove\n\t\t{\n\t\t\tcurrentData.removeElement(currentData.length - 1);\n\t\t}\n\t\tif(idx == 2) // Clear\n\t\t{\n\t\t\tcurrentData.clear();\n\t\t}\n\t\t\n\t\tPostFX.setTableRowData(currentData);\n\t}\n}\n\nfor(pb in PostButtons)\n\tpb.setControlCallback(onPostButton);\n\n\nwt.loadData(bf, 48000.0, [0, 2048]);\n\n\n// Broadcaster definition\nconst var updateBroadcaster = Engine.createBroadcaster({\n  \"id\": \"updateBroadcaster\",\n  \"args\": [\"component\", \"event\"],\n  \"tags\": []\n});\n\n// attach this broadcaster to any component that will cause a recalculation\nupdateBroadcaster.attachToComponentMouseEvents([\"PostFX\", \"ClearButton\", \"AddButton\", \"RemoveButton\", \"Table1\"], \"Clicks Only\", \"\");\n\nfunction updatePostProcessing(component, event)\n{\n\tif(event.mouseUp)\n\t{\n\t\tfor(s in currentData)\n\t\t{\n\t\t\t// We need to process the JSON\n\t\t\t// and pass in the actual properties required\n\t\t\t// by the function\n\t\t\tif(s.UseTable)\n\t\t\t{\n\t\t\t\ts.TableProcessor = \"Interface\";\n\t\t\t\ts.TableIndex = 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ts.TableProcessor = \"\";\n\t\t\t\ts.TableIndex = -1;\n\t\t\t}\n\t\t}\n\n\t\twt.setPostFXProcessors(currentData);\n\t}\n}\n\n// update the post processing stage with a small delay after the mouse up\nupdateBroadcaster.addDelayedListener(50, 0, \"\\\"update the post processing\\\"\", updatePostProcessing);\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Control current EQ band",
    "category": "Modules",
    "tags": [
      "Best Practice",
      "Broadcaster",
      "Complex",
      "UI Logic"
    ],
    "description": "\nThis snippet will demonstrate how to mirror the functionality of the knobs on the Curve EQ interface which will follow the band selection.\n\nIt uses two broadcasters to sync the Panel with the knobs.",
    "code": "Content.makeFrontInterface(500, 300);\n\nnamespace EQWatcher\n{\n\t\n// This broadcaster will notify the sliders when you click on another\n// band to update their connection\nconst var currentBandWatcher = Engine.createBroadcaster({\n  \"id\": \"currentBandWatcher\",\n  \"args\": [\"eventType\", \"value\"],\n  \"tags\": []\n});\n\n// This broadcaster will watch over the current parameters and update the\n// knobs so that they stay in sync when you drag in the panel\nconst var eqParameterWatcher = Engine.createBroadcaster({\n  \"id\": \"eqParameterWatcher\",\n  \"args\": [\"processor\", \"parameter\", \"value\"],\n  \"tags\": []\n});\n\n// We need to enable the queue so that all events will go through \n// (if you drag a handle, it will send the parameter updates for gain, frequency and Q at once)\neqParameterWatcher.setEnableQueue(true);\n\n// Grab the reference to the EQ\nconst var ParametriqEQ1 = Synth.getEffect(\"Parametriq EQ1\");\n\n// attach to event Type\ncurrentBandWatcher.attachToEqEvents([\"Parametriq EQ1\"], [\"BandAdded\", \"BandSelected\", \"BandRemoved\"], \"\");\n\n// This stores the indexes for the parameter offsets in an array that matches\n// the knob array\nconst var PARAMETER = [ParametriqEQ1.Freq, ParametriqEQ1.Q, ParametriqEQ1.Gain];\n\n// This stores the knobs in an array that matches the parameter array.\nconst var KNOB_LIST = [Content.getComponent(\"CurrentFrequency\"), Content.getComponent(\"CurrentQ\"), Content.getComponent(\"CurrentGain\")];\n\ninline function onKnobControl(component, value)\n{\n\t// Grab the index in the knob list\n\tlocal idx = KNOB_LIST.indexOf(component);\n\t\n\t// Get the parameter offset from the parameter list\n\tlocal type = PARAMETER[idx];\n\t\n\t// Calculate the actual parameter index that we send to the\n\t// EQ\n\tlocal parameter = ParametriqEQ1.BandOffset * currentBand + type;\n\t\n\t// Check that it's positive (might be -1 at the start)\n\tif(parameter >= 0)\n\t{\n\t\tParametriqEQ1.setAttribute(parameter, value);\n\t}\t\n};\n\n// Stores the current band selection\nreg currentBand = -1;\n\nfor(k in KNOB_LIST)\n\tk.setControlCallback(onKnobControl);\n\n// This will be called when the band selection changes\ninline function updateBands(unused, value)\n{\n\tcurrentBand = value;\n\n\tif(value >= 0)\n\t{\n\t\t// Calculate the parameter indexes that we want to watch\n\t\tlocal freqIndex = ParametriqEQ1.BandOffset * value + ParametriqEQ1.Freq;\n\t\tlocal qIndex = ParametriqEQ1.BandOffset * value + ParametriqEQ1.Q;\n\t\tlocal gainIndex = ParametriqEQ1.BandOffset * value + ParametriqEQ1.Gain;\n\t\n\t\t// Redirect the parameter watcher to listen to changes for the parameters\n\t\t// that are currently connected to the knobs\n\t\teqParameterWatcher.removeAllSources();\n\t\teqParameterWatcher.attachToModuleParameter(\"Parametriq EQ1\", [freqIndex, qIndex, gainIndex], \"sync the knobs\");\n\t}\n}\n\ncurrentBandWatcher.addListener(eqParameterWatcher, \"update the band\", updateBands);\n\n// This will be called when a module parameter of the currently selected band changes\ninline function updateKnob(unused, parameter, value)\n{\n\t// grab the \"raw\" parameter index\n\tlocal parameterIndex = parameter % ParametriqEQ1.BandOffset;\n\t// fetch the knob we want to update\n\tlocal knobIndex = PARAMETER.indexOf(parameterIndex);\n\t\n\t// update the knob\n\tthis[knobIndex].setValue(value);\n}\n\neqParameterWatcher.addListener(KNOB_LIST, \"update the parameter watcher\", updateKnob);\n\n}\n\n\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Global Modulator Container",
    "category": "Modules",
    "tags": [
      "Simple"
    ],
    "description": "\nShows the Global Modulator Container and its four receiver slot types:\n\n- Global Voice Start Modulator\n- Global Static Time Variant Modulator (single sampling a LFO value)\n- Global Time Variant Modulator\n- Global Envelope Modulator\n",
    "code": "Content.makeFrontInterface(600, 600);\n\n/* This demonstrates how to use the Global Modulator Container. \n  1. Create the Global Modulator container and add any type of Modulator to it\n  \n  2. Add a Global Modulator Slot to the Modulation Chain that you want to affect that\n     matches the type of Modulator you created.\n     - Global Voice Start Modulator\n     - Global Static Time Variant Modulator (for sampling of a LFO or Noise value)\n     - Global Time Variant Modulator\n     - Global Envelope Modulator\n     \n  3. Select the Global Modulator in the slots dropdown.\n*/\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Minimal Sampler Example",
    "category": "Modules",
    "tags": [
      "First contact",
      "Simple"
    ],
    "description": "\n\nLoad two different samplemaps into a single sampler using a combobox selector and displays its samples range on a keyboard.\n\n",
    "code": "Content.makeFrontInterface(600, 120);\n\n//==== Samplemap Selector Combobox \n\nconst var Sampler1 = Synth.getSampler(\"Sampler1\");\n\n// get the list off all SampleMaps that are saved in the SampleMaps project folder\nconst var list = Sampler.getSampleMapList();\n\n// Get the Combobox Widget and add all SampleMaps.xmls to the `items` list \nContent.getComponent(\"SampleMapSelector\").set(\"items\", list.join(\"\\n\"));\n\ninline function onSampleMapSelectorControl(component, value)\n{\n\tSampler1.loadSampleMap(list[value-1]);\n}\n\nContent.getComponent(\"SampleMapSelector\").setControlCallback(onSampleMapSelectorControl);\n\n// This function will refresh the key colours on the keyboard\ninline function refreshKeyColours()\n{\n\tfor (i = 0; i < 127; i++) \n\t{\n \tif (Sampler1.isNoteNumberMapped(i))\n    \tEngine.setKeyColour(i, Colours.withAlpha(Colours.white, 0));\n    else\n   \t\tEngine.setKeyColour(i, Colours.withAlpha(Colours.black, 0.6));\n    }\n}\n\n// In order to update the keyboard, we need to create a broadcaster and register it to \n// changes of the sample map. This method supercedes the old way of using a hidden Panel\n// and its setLoadingCallback() function.\nconst var sampleBroadcaster = Engine.createBroadcaster({\n\tid: \"keyboardUpdater\",\n\targs: [\"eventType\", \"samplerId\", \"data\"]\n})\n\n// This line will register the broadcaster to react to samplemap changes of the Sampler1 module\nsampleBroadcaster.attachToSampleMap(\"Sampler1\", \"SampleMapChanged\", \"\");\n\n// We don't care about any arguments here, just refresh the colours...\nsampleBroadcaster.addListener(\"\", \"update key colours\", function(u1, u2, u3)\n{\n\trefreshKeyColours();\n});\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Serum style Waterfall",
    "category": "Modules",
    "tags": [
      "Graphics API",
      "Simple",
      "UI Logic"
    ],
    "description": "\nA shameless copy of the Serum(2) waterfall display.\n\n",
    "code": "Content.makeFrontInterface(400, 200);\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Wavetable Example",
    "category": "Modules",
    "tags": [
      "First contact",
      "Simple"
    ],
    "description": "A simple example that shows how to use the wavetable synthesiser. It loads the example wavetable from the assets and displays the Wavetablewaterfall in a floating tile.",
    "code": "Content.makeFrontInterface(300, 150);\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Monophonic Glide Script",
    "category": "MIDI",
    "tags": [
      "Best Practice",
      "Complex"
    ],
    "description": "\nThis snippet contains a sine generator synth that can be played monophonically with a (fixed) glide time.\n\nIt also demonstrates the usage of the [FixObjectFactory](https://docs.hise.audio/scripting/scripting-api/fixobjectfactory/index.html) class which is a neat tool for anything related to voice logic.",
    "code": "/** Portamento & Glide Example\n\nThis example shows how to implement a monophonic synth behaviour by only keeping a single\nvoice alive and retuning the start note to the last played note number using a pitch fade event.\n\nIt also demonstrates the usage of the fix object factory which can be considered as a best practice\nfor anything related to voice logic.\n\n*/\nContent.makeFrontInterface(600, 600);\n\n// This is a constant glide time, but you can simply make this dynamic and react to pitch delta / \n// velocity or a UI element.\nconst var FADE_TIME = 100;\n\n// Usually you would put this into a script processor of a sound generator\n// but for demonstrating purposes we tuck all of this into the main Interface script\nSynth.deferCallbacks(false);\n\n// A fix object factory is created once with a JSON object as prototype and allows you to create\n// data structures with a fixed memory layout and named properties (hence the name).\nconst var f = Engine.createFixObjectFactory({\n\t\"id\": -1,\n\t\"noteNumber\": -1,\n\t\"time\": 0.0\n});\n\n// Create a stack that will hold the actively played notes.\nconst var noteStack = f.createStack(256);\n\n// This will store the note information of the first note (and all further notes\n// will use this a reference to figure out the pitch factor).\nreg startNote = f.create();\n\n// Create a single object with the prototype layout that is used\n// for inserting / removing elements from the stack. We'll modify this\n// object and then pass it to the stack so it can do native comparison\n// functions etc.\nreg scratchObject = f.create();\n\n// This function will determine which note to play if you release\n// a key while another one is still held.\ninline function findNewNote()\n{\n\t// We'll pick the simplest logic possible:\n\t// just pick the first match that comes along your way\n\t// You can implement a more fine-grained logic here (eg. use the oldest note,\n\t// use the lowest note, etc).\n\tfor(s in noteStack)\n\t{\n\t\t// the syntax is this weird so you can simply swap the condition\n\t\t// for another one...\n\t\tif(true) \n\t\t{\n\t\t\tscratchObject.noteNumber = s.noteNumber;\n\t\t\tscratchObject.id = s.id;\n\t\t\tscratchObject.time = s.time;\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\tupdatePitch();\n}\n\n// Instead of playing new notes, this function will bend the original note to whatever\n// pitch is currently played...\ninline function updatePitch()\n{\n\tlocal delta = scratchObject.noteNumber - startNote.noteNumber;\n\tSynth.addPitchFade(startNote.id, FADE_TIME, delta, 0);\n}\nfunction onNoteOn()\n{\n\t// As soon as we start messing with the length of notes\n\t// we need to make both the incoming note on and note off\n\t// messages \"artificial\" in order to avoid stuck notes.\n\tMessage.makeArtificial();\n\t\n\t// In order to insert anything into a fix object\n\t// stack we'll use a single proxy object that we \n\t// populate with the data and then pass it into \n\t// the insert call\n\tscratchObject.noteNumber = Message.getNoteNumber();\n\tscratchObject.time = Engine.getUptime();\n\tscratchObject.id = Message.getEventId();\n\n\t// Now we insert the currently played note into the stack.\n\tnoteStack.insert(scratchObject);\n\n\t// If more than one note is played, we ignore the new note\n\t// (since the glide function is implemented by applying a pitch\n\t//  fade on the first note that was started).\n\tif(noteStack.size() > 1)\t\n\t{\n\t\tMessage.ignoreEvent(true);\n\t}\n\telse\n\t{\n\t\t// We can't just copy the scratch object to the\n\t\t// start note but copy all properties manually\n\t\t// otherwise it will just clone the reference to the\n\t\t// single object.\n\t\tstartNote.id = scratchObject.id;\n\t\tstartNote.time = scratchObject.time;\n\t\tstartNote.noteNumber = scratchObject.noteNumber;\n\t}\n\t\n\t// Update the pitch to glide to the currently played note.\n\tupdatePitch();\n}\n \nfunction onNoteOff()\n{\n\t// Make the note off artificial too\n\tMessage.makeArtificial();\n\t\n\t// Remove the note from the stack\n\tfor(s in noteStack)\n\t{\n\t\tif(s.id == Message.getEventId())\n\t\t{\n\t\t\tnoteStack.remove(s);\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\t// If you release the start note while some other keys are playing\n\t// we need to keep the note alive\n\tif(startNote.id == Message.getEventId() && !noteStack.isEmpty())\n\t{\n\t\tMessage.ignoreEvent(true);\n\t}\n\t\n\t// If there is no note being pressed, we can safely kill\n\t// the start note\n\tif(noteStack.isEmpty())\n\t{\n\t\tSynth.noteOffByEventId(startNote.id);\n\t}\n\telse\n\t{\n\t\t// Calculate a new note that should be played base\n\t\t// on whatever voice allocation method you'd like\n\t\tfindNewNote();\n\t}\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Midi Player Step Sequencer",
    "category": "MIDI",
    "tags": [
      "API",
      "MIDI Player"
    ],
    "description": "\nA minimal example that shows how to use the MIDI player to implement a basic step sequencer.",
    "code": "Content.makeFrontInterface(800, 100);\n\nconst var MIDIPlayer1 = Synth.getMidiPlayer(\"MIDI Player1\");\n\n// Important: this makes the MIDI player use Ticks (960 / quarter note) instead of samples. Using this domain makes the calculation much more easy\nMIDIPlayer1.setUseTimestampInTicks(true);\n\nconst var NUM_PER_SIXTEEN = 960 / 4;\nconst var NUM_STEPS = 16;\n\n// Setup the sequence to hold 16 steps\nMIDIPlayer1.clearAllSequences();\nMIDIPlayer1.create(4, 4, NUM_STEPS / 16);\n\n// Now we'll create a minimal step sequencer consisting of 16 buttons\n// there are 100 better ways to implement this, but this is the most simple one.\nconst var STEPS = [];\n\nfor(i = 0; i < NUM_STEPS; i++)\n\tSTEPS.push(Content.addButton(\"Step\" + (i + 1), i * 50, 0));\n\nreg idx = 1;\n\ninline function rebuildSequence()\n{\n\tConsole.print(\"rebuild\");\n\t\n\t// Create a array that we'll fill with message objects\n\tlocal list = [];\n\tlocal ts = 0;\n\t\n\tfor(s in STEPS)\n\t{\n\t\tif(s.getValue())\n\t\t{\n\t\t\t// Create a note on and off message\n\t\t\tlocal on = Engine.createMessageHolder();\n\t\t\tlocal off = Engine.createMessageHolder();\n\t\t\t\n\t\t\t// set the type, note number & velocity for both\n\t\t\ton.setType(Message.NoteOn);\n\t\t\toff.setType(Message.NoteOff);\n\t\t\ton.setVelocity(127);\n\t\t\ton.setNoteNumber(64);\n\t\t\toff.setNoteNumber(64);\n\t\t\t\n\t\t\t// now we set the timestamp for both the on and off message\n\t\t\ton.setTimestamp(ts );\n\t\t\toff.setTimestamp(ts + NUM_PER_SIXTEEN * 0.5);\n\t\t\t\n\t\t\t// add both messages\n\t\t\tlist.push(on);\n\t\t\tlist.push(off);\n\t\t}\n\t\t\n\t\t// bump the timestamp\n\t\tts += NUM_PER_SIXTEEN;\n\t}\n\t\n\t// This function will create a new sequence from the given array\n\tMIDIPlayer1.flushMessageList(list);\n}\n\n// Implement a simple position visualizer\nconst var to = Engine.createTimerObject();\n\nvar lastPos = 0;\n\nto.setTimerCallback(function()\n{\n\tvar pos = parseInt(STEPS.length * MIDIPlayer1.getPlaybackPosition());\n\t\n\tif(MIDIPlayer1.getPlayState() == 0)\n\t\tpos = -1;\n\t\n\tif(lastPos == pos)\n\t\treturn;\n\t\n\tlastPos = pos;\n\t\n\tfor(i = 0; i < STEPS.length; i++)\n\t\tSTEPS[i].set(\"bgColour\", i == pos ? 0xFF999999 : 0xFF222222);\n});\n\nto.startTimer(60);\n\ninline function onButton(component, value)\n{\n\t// Note: this is not very performant and will cause the MIDI sequence to be rebuild 16 times whenever you load a preset\n\t// In a real world project you probably use a slider pack or a single ScriptPanel for the sequencer UI\n\trebuildSequence();\n}\n\nfor(s in STEPS)\n{\n\ts.set(\"width\", 50);\n\ts.set(\"height\", 50);\n\ts.set(\"text\", idx++);\n\ts.setControlCallback(onButton);\n}\n\n// Add a simple MIDI playback controller\n\nconst var PLAY = Content.addButton(\"PLAY\", 10, 60);\n\ninline function onPlay(component, value)\n{\n\tif(value)\n\t\tMIDIPlayer1.play(0);\n\telse\n\t\tMIDIPlayer1.stop(0);\n}\n\nPLAY.setControlCallback(onPlay);\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Audio Render Example",
    "category": "MIDI",
    "tags": [
      "Best Practice",
      "Complex",
      "MIDI Player"
    ],
    "description": "\n\n\n\nThis snippet demonstrates how to use the `Engine.renderAudio` callback in order to create an audio file from a MIDI sequence (just as if you would bounce the audio in the DAW).\n\n",
    "code": "/** Audio render example\n\nWritten by Bill Evans (and slightly refactored by Christoph Hart)\n\nThis snippet demonstrates how to use the Engine.renderAudio() callback in order to bounce \nthe sequence of a single MIDI player to a audio file.\n\nThis is a rather simplified use case and you probably need to implement a more complicated \nsystem if you have multiple MIDI players which send their message to different child sound \ngenerators (in that case it's recommended to hook them up to a global transport handler and \nthen just send a start and a stop message that will control all MIDI players at once)\n*/\n\nContent.makeFrontInterface(510, 160);\n\n// Set this to true if you want to delete the temp file. If you're using it in a real project\n// this might be a bit cleaner, since most DAWs will create a copy of the file (or if you want \n// you can make a better file handling system than using a single file in the temp folder, but \n// for this example we'll set it to false so that you can just drag it over to the audio waveform.\nconst var DELETE_TEMP_FILE = false;\n\n// Get backing panel references.\nconst var SeqView = Content.addPanel(\"SeqView\", 0, 90);\nSeqView.set(\"width\", 210);\n\n// Get drag panel references.\nconst var AudioDragger = Content.addPanel(\"Dragger\", 0, 32);\nAudioDragger.set(\"width\", 210);\n\nAudioDragger.set(\"allowCallbacks\", \"Clicks & Hover\");\n\n// Add the MIDI player.\nconst var MidiPlayer = Synth.getMidiPlayer(\"MIDI Player1\");\n\n// Usually we can use the embedded assets, however since you might want\n// to test exporting this as plugin we'll rather create the sequence programmatically...\nMidiPlayer.create(4, 4, 1);\nvar eventList = [];\n\n/** Adds a note to the event list. */\ninline function addNote(eventListToUse, noteNumber, startQuarter, durationQuarter)\n{\n\tlocal start_ts = MidiPlayer.getTicksPerQuarter() * startQuarter;\n\tlocal end_ts = start_ts + MidiPlayer.getTicksPerQuarter() * durationQuarter;\n\t\n\tlocal on = Engine.createMessageHolder();\n\ton.setType(1);\t\t\t   // note on\n\ton.setNoteNumber(noteNumber);  // note number\n\ton.setChannel(1);\t\t   // first channel\n\ton.setVelocity(127);\t   // full velocity\t\n\ton.setTimestamp(start_ts); // timestamp at note start\n\t\n\teventListToUse.push(on);\n\t\n\tlocal off = Engine.createMessageHolder();\n\toff.setType(2);\t\t\t   // note on\n\toff.setNoteNumber(noteNumber);  // note number\n\toff.setChannel(1);\t\t   // first channel\n\toff.setTimestamp(end_ts); // timestamp at note start\n\t\n\teventListToUse.push(off);\n}\n\n// C-Minor 7\nconst var CHORD = [48, 51, 55, 58];\n\n\n// Push the notes to the event list.\nfor(i = 0; i < 4; i++)\n{\n\taddNote(eventList, CHORD[i], i, 0.9);\n}\n\n// Now that is slightly annoying: if you export this as a plugin, the sample rate \n// is not properly initialised when this script runs. There are many ways to fix\n// this issue, but the easiest might be to just swap to the MIDI tick domain for the\n// MIDI creation\nMidiPlayer.setUseTimestampInTicks(true);\n\nMidiPlayer.flushMessageList(eventList);\n\n// And now swap back so that the `getEventList()` call returns the timestamps in the\n// required samples domain for the audio export.\nMidiPlayer.setUseTimestampInTicks(false);\n\nAudioDragger.setMouseCallback(function(event) \n{\n\tthis.data.hover = event.hover;\n\tthis.repaint();\n\n\t// Check whether the user has clicked on Render yet\n\t// (In a real project this would be handled better using the `enabled` property)\n\tif (event.clicked) \n\t{ \n\t\tif(isDefined(this.data.tempFile))\n\t\t{\n\t\t\t// The external file drag callback will be executed asynchronously \n\t\t\t// (after the user has dropped) the file, so in order to delete the temp file \n\t\t\t// we need to use the lambda concept to pass local variables into callbacks.\n\t\t\tvar fToDelete = this.data.tempFile;\n\n\t\t\t// Enable the dragging UI system. Set true to copy the file because the DAW will need access.\n\t\t\tthis.startExternalFileDrag(this.data.tempFile, true, function [fToDelete]()\n\t\t\t{\n\t\t\t\tif(DELETE_TEMP_FILE)\n\t\t\t\t{\n\t\t\t\t\tConsole.print(\"DELETE \" + fToDelete.toString(0));\n\t\t\t\t\tfToDelete.deleteFileOrDirectory();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// HISE Protip 2000: Prepend a ! before your console statement to make it appear as error...\n\t\t\tConsole.print(\"! You need to click on render first.\");\n\t\t}\n\t}\n});\n\n// ============================================= Button to Begin Rendering\n\nconst var Button1 = Content.addButton(\"Button1\", 0, 0);\nButton1.set(\"text\", \"Render\");\nButton1.set(\"isMomentary\", true);\nButton1.set(\"saveInPreset\", false);\nButton1.set(\"width\", 210);\n\nButton1.setControlCallback(onButton1Control);\ninline function onButton1Control(component, value) {\n\n\t// If the button is pressed\u2026\n\tif (value) {\n\t\t\n\t\t// If a sequencer is loaded\u2026\n\t\tif (MidiPlayer.isEmpty() != true) {\n\t\t\t\n\t\t\t// grab the event list from the MIDI player\n\t\t\tlocal eventList = MidiPlayer.getEventList();\n\t\t\n\t\t\t// The exporter exports up the last event, so if the last note of the \n\t\t\t// sequence is not exactly at the sequence end position, we'll end up with\n\t\t\t// a truncated loop. In order to fix this, we must manually inject a (random)\n\t\t\t// MIDI message at the very end of the sequence.\n\t\t\t\n\t\t\t// fetch the timesignature object to calculate the end of the track\n\t\t\tlocal timeSig = MidiPlayer.getTimeSignature();\n\t\t\tlocal length = timeSig.NumBars;\n\t\t\tlength *= timeSig.Nominator;\n\t\t\tlength *= (timeSig.Denominator / 4.0);\n\t\t\tlength *= timeSig.LoopEnd;\n\t\t\t\n\t\t\t// Note: you don't need to use the MIDI tempo information from the timeSig\n\t\t\t// object as we're using the global BPM tempo for rendering.\n\t\t\tlocal ts = Engine.getSamplesForQuarterBeats(length);\n\t\t\t\n\t\t\tlocal stopEvent = Engine.createMessageHolder();\n\t\t\tstopEvent.setType(3);             // CC\n\t\t\tstopEvent.setChannel(1);          // first channel\n\t\t\tstopEvent.setControllerNumber(1); // Modwheel\n\t\t\tstopEvent.setControllerValue(0);  // all the way down\n\t\t\tstopEvent.setTimestamp(ts);       // at the end of the track\n\t\t\t\n\t\t\teventList.push(stopEvent);\n\t\t\t\n\t\t\t// Render the audio.\n\t\t\tEngine.renderAudio(eventList, COMPOSER_RenderAudioCallback);\t\n\t\t}\n\t}\n};\n\n// =================================================== Rendering Function\n\n// This function is called by HISE every 500 ms or so, so you can provide a progress bar. \ninline function COMPOSER_RenderAudioCallback (obj) {\n\t\n\t\t// Grab these variables from the JSON object.\n\t\tlocal isFinished = obj.finished;\t\t\n\t\tlocal progressPoint = obj.progress;\n\t\t\t\n\t\tif (isFinished) {\n\t\t\n\t\t\t// Store the buffer in a Panel's data slot. Depending on whether the buffer is mono or not,\n\t\t\t// we pass either a buffer reference, or a reference to a JSON object containing buffer references.\n\t\t\t// (It can also be considered an array of channels).\n\t\t\tAudioDragger.data.buffer = obj.channels;\n\n\t\t\t// Assign a temporary variable to hold the buffer. This is simply to increase readability.\n\t\t\tlocal bufferDataToWrite = AudioDragger.data.buffer;\n\t\t\t\n\t\t\t// Get a reference to the temp folder.\n\t\t\tlocal audioFilesDirectory = FileSystem.getFolder(FileSystem.Temp);\n\n\t\t\t// Create the new file and get a reference to it. This will overwrite a file of the same name,\n\t\t\t// so be careful.\n\t\t\tlocal fileToExport = audioFilesDirectory.getChildFile(\"export_temp.wav\");\n\t\t\t\n\t\t\t// See if the file is mono or stereo. If \n\t\t\tlocal isMultiChannel = isDefined(bufferDataToWrite[0].length);\n\t\n\t\t\t// Export the file. \n\t\t\tif (!isMultiChannel)\n\t\t\t\tfileToExport.writeAudioFile([bufferDataToWrite], Engine.getSampleRate(), 24);\n\t\t\telse\n\t\t\t\tfileToExport.writeAudioFile(bufferDataToWrite, Engine.getSampleRate(), 24);\n\t\t\t\n\t\t\t// Store the temp file reference in the panel. When the panel is dragged, it will move the temp\n\t\t\t// file to the other location\n\t\t\tAudioDragger.data.tempFile = fileToExport;\n\t\t\t\n\t\t\tenableBroadcaster.sendAsyncMessage([true]);\n\t\t\t\n\t\t\t// Remove this line later but it will point you to the temp file that has been created.\n\t\t\tfileToExport.show();\n\t\t\t\n\t\t} else {\n\t\t\n\t\t\t// Progress is a float from 0 to 1.\n\t\t\tConsole.print( \"Progress: \" + progressPoint);\n\t\t}\n}\n\n// This function creates a 2D graph of the sequence. I don't check to see if there is a sequence loaded, because\n// that's how I clear the graph if no sequence is loaded. Maybe there's a more elegant way.\nSeqView.setPaintRoutine(function(g) \n{\n\tg.fillAll(0x11FFFFFF);\n\n\t// Get the area of the enclosing panel.\n\tvar displayArea = this.getLocalBounds(0);\n\t\n\t// Taking the data from the MIDI Player, create a list of 4-parameter arrays (start x, start y, width and height)\n\t// to specify the geometry and relative position of each note-rectangle.\n\tvar noteRectangleList = MidiPlayer.getNoteRectangleList(displayArea);\n\n\t// Set the fill colour for each note-rectangle.\n\tg.setColour(Colours.white);\n\n\t// Iterate over each note-rectangle.\n\tfor(noteRectangle in noteRectangleList) \n\t{\n\t\t// Pass each array to the HISE API for drawing rectangles.\n\t\tg.fillRect(noteRectangle);\n\t}\n});\n\n// Broadcaster definition\nconst var enableBroadcaster = Engine.createBroadcaster({\n  \"id\": \"enableBroadcaster\",\n  \"args\": [\"shouldBeEnabled\"],\n  \"tags\": []\n});\n\n\n// attach first listener\nenableBroadcaster.addComponentPropertyListener([\"Dragger\"], [\"enabled\"], \"set the enabled state for the dragger\", \nfunction(index, shouldBeEnabled){\n\treturn shouldBeEnabled;\n});\n\nenableBroadcaster.addComponentPropertyListener([\"Dragger\"], [\"text\"], \"update the text\", \nfunction(index, shouldBeEnabled){\n\treturn shouldBeEnabled ? \"Drag to waveform or external target\" : \"Press render\";\n});\n\nenableBroadcaster.addComponentRefreshListener([\"Dragger\"], \"repaint\", \"repaint\");\nenableBroadcaster.sendAsyncMessage([false]);\n\n\ninline function drawDragPanel(g)\n{\n\tg.fillAll(0x22FFFFFF);\n\tg.setColour(this.data.hover ? Colours.white : 0xBBFFFFFF);\n\t\n\tif(!this.get(\"enabled\"))\n\t\tg.setColour(0x44FFFFFF);\n\t\n\tg.setFont(\"Default\", 14.0);\n\tg.drawAlignedText(this.get(\"text\"), this.getLocalBounds(0), \"centred\");\n}\n\nAudioDragger.setPaintRoutine(drawDragPanel);\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Clocksynced Arpeggiator",
    "category": "MIDI",
    "tags": [
      "Best Practice",
      "Complex",
      "Featured",
      "Host Sync"
    ],
    "description": "\n\nA complete redesign of the arpeggiator module using the clock-synced transport handler. \n\n> [Forum discussion](https://forum.hise.audio/topic/9497/browsable-snippet-clocksynced-arpeggiator) \n\nFor new projects I would recommend using this as a starting point and then adjust it to your liking instead of relying on me fixing the old arpeggiator.\n",
    "code": "/** Clock synced Arpeggiator\n\nThis script implements an arpeggiator using the clock grid callback of the transport handler.\n\nIt tries to reuse most of the parameters of the stock HISE arpeggiator (except for exotic weird stuff\nthat shouldn't have made it in the original Arpeggiator in the first place, stride, MPE channel stuff, etc).\n\nThe big advantage of using the transport handler as the main driver for the arp is that it automatically syncs\nto the DAW position, so that the timing is consistent and locked to the DAW grid and the pressed notes \nwill only control which notes it will play.\n\nIf you don't want that behaviour (so that if playing a note mid-bar should reset the arpeggiator position, \nyou can achieve this by using the `PreferInternal` sync mode. \n\nThe only real limitation of this approach is that it doesn't allow multiple arpeggiators to run simultaneuosly \n(because there's only one grid callback) but that is a rather exotic use case\n\nOther than that the code is much much (much) more readable than the original Arpeggiator and shoul\nbe customizable without too much mental overhead.\n\n** ADDITION: CUSTOM EVENT DATA **\n\nWith the recent addition of a HISE-wide event storage object, the arpeggiator was extended to write additional data (up to\n16 lanes) that can be picked up by the HISE EventData Modulator at any point in the signal chain.\n\nCurrently the first lane is assigned to the filter frequency and the second to the panning, but that is completely arbirtrary\nand can even be assigned dynamically!\n\nJust select one of the 16 lanes in the Addional Lane drop down, then edit the sequence and add more modulation targets whereever you like...\n*/\n\n// If you port this to your project, just copy the entire module over and  remove these lines \n// so that it won't mess with your actual interface...\nContent.makeFrontInterface(830, 440);\nSynth.deferCallbacks(false);\n\nnamespace SyncedArpeggiator\n{\n\t\nconst var th = Engine.createTransportHandler();\nth.setSyncMode(th.PreferExternal);\nth.setEnableGrid(true, 8);\n\n//! UI CONTROL DEFINITION\n// ==========================================================================\n\nconst var X_OFFSET = 530;\nconst var Y_OFFSET = 70;\n\n// The tempo knob that controls the speed of the grid callback.\nconst var tempo = Content.addKnob(\"Tempo\", X_OFFSET + 0, Y_OFFSET);\ntempo.set(\"mode\", \"TempoSync\");\n\ninline function onTempoControl(component, value)\n{\n\tth.setEnableGrid(true, value);\n};\ntempo.setControlCallback(onTempoControl);\n\n// The mode combobox that sets the play order of the arpeggiator\nconst var mode = Content.addComboBox(\"Mode\", X_OFFSET + 0, Y_OFFSET + 130);\nmode.set(\"items\", [\"Up\", \"Down\", \"Up / Down\", \"Down / Up\", \"Order\", \"Random\", \"Chord\"].join(\"\\n\"));\nmode.set(\"width\", 90);\n\n// Write this as constants so we can use a neat switch statement later.\n\nconst var MODE_UP = 1;\nconst var MODE_DOWN = 2;\nconst var MODE_UPDOWN = 3;\nconst var MODE_DOWNUP = 4;\nconst var MODE_ORDER = 5;\nconst var MODE_RANDOM = 6;\nconst var MODE_CHORD = 7;\n\n// These state variables will be set by the mode combobox\n// and decide how to traverse the note array\nreg inverse = false;\t\t\t// the direction to be used when starting the arp\nreg currentInverse = inverse;   // the currently used direction\nreg swapInverse = true;\t\t\t// whether to swap the direction at the end of the note list\nreg randomNote = false;\t\t\t// whether to just randomly select a note within the note list\nreg chordMode = false;\t\t\t// whether to play all notes at once\n\nreg firstChord = false;\n\ninline function onModeControl(component, value)\n{\n\t// This switch statement will set the state variables\n\t// obviously this could be optimized, but this should be the \n\t// clearest syntax.\n\tswitch(value)\n\t{\n\t\tcase MODE_UP:\n\t\t    inverse = false;\n\t\t    swapInverse = false;\n\t\t    randomNote = false;\n\t\t    chordMode = false;\n\t\t    break;\n\t\tcase MODE_DOWN:\n\t\t    inverse = true;\n\t\t    swapInverse = false;\n\t\t    randomNote = false;\n\t\t    chordMode = false;\n\t\tcase MODE_UPDOWN:\n\t\t   \tinverse = true;\n\t\t   \tswapInverse = true;\n\t\t   \trandomNote = false;\n\t\t   \tchordMode = false;\n\t\t   \tbreak;  \n\t\tcase MODE_DOWNUP:\n\t\t   \tinverse = false;\n\t\t   \tswapInverse = true;\n\t\t   \trandomNote = false;\n\t\t   \tchordMode = false;\n\t\t   \tbreak;\n\t\tcase MODE_RANDOM:\n\t\t\tinverse = false;\n\t\t   \tswapInverse = false;\n\t\t   \trandomNote = true;\n\t\t   \tchordMode = false;\n\t\t   \tbreak;\t\t\n\t\tcase MODE_ORDER:\n\t\t\tinverse = false;\n\t\t    swapInverse = false;\n\t\t    randomNote = false;\n\t\t    chordMode = false;\n\t\t    break;\n\t\tcase MODE_CHORD:\n\t\t\tchordMode = true;\n\t\t\tbreak;\n\t}\n\t\n\t// We can tell the fix object factory to use different properties for sorting\n\t// so we either pass in the note number as property to sort or the uptime.\n\t// Note: the ID will always be \n\tf.setCompareFunction(value == MODE_ORDER ? \"uptime,noteNumber\" : \"noteNumber,uptime\");\n\trebuildSortedList();\n};\n\nmode.setControlCallback(onModeControl);\n\n// The number of octaves. This will create octaved copies of the currently held notes\nconst var numOctaves = Content.addKnob(\"Octaves\", X_OFFSET + 0, Y_OFFSET + 60);\nnumOctaves.set(\"min\", 1);\nnumOctaves.set(\"max\", 5);\nnumOctaves.set(\"stepSize\", 1);\n\ninline function onOctavesControl(component, value)\n{\n\trebuildSortedList();\n};\n\nnumOctaves.setControlCallback(onOctavesControl);\n\n// The number of steps. This will resize the slider packs and cause the grid callback index\n// to be wrapped around the upper limit.\nconst var NumSteps = Content.addKnob(\"NumSteps\", X_OFFSET + 130, Y_OFFSET + 60);\n\ninline function onNumStepsControl(component, value)\n{\n\tVelocityPack.set(\"sliderAmount\", value);\n\tLengthPack.set(\"sliderAmount\", value);\n\tPitchPack.set(\"sliderAmount\", value);\n\t\n\tfor(ad in additionalData)\n\t{\n\t\tad.setNumSliders(value);\n\t}\n};\n\nNumSteps.setControlCallback(onNumStepsControl);\n\n// The swing. It will add a delay to every odd note to simulate shuffle baby\nconst var swing = Content.addKnob(\"Swing\", X_OFFSET + 130, Y_OFFSET + 0);\nswing.set(\"mode\", \"NormalizedPercentage\");\n\n// Bypass. Use this instead of the global module bypass so that it can clean up the internal state\n// properly (otherwise you'll get hanging notes)\nconst var enabled = Content.addButton(\"Enabled\", X_OFFSET + 95 + 75, Y_OFFSET + 130);\n\nenabled.set(\"width\", 88);\nenabled.set(\"height\", 32);\n\ninline function onBypassControl(component, value)\n{\n\tif(!value)\n\t{\n\t\tactiveNotes.clearQuick();\n\t\tsortedList.clearQuick();\n\t\tth.stopInternalClock(0);\n\t}\n\telse\n\t{\n\n\t\tEngine.allNotesOff();\n\t}\n};\n\nenabled.setControlCallback(onBypassControl);\n\nconst var hold = Content.addButton(\"Hold\", X_OFFSET + 95, Y_OFFSET + 130);\nhold.set(\"width\", 70);\nhold.set(\"height\", 32);\n\ninline function onHoldControl(component, value)\n{\n\tif(!value)\n\t{\n\t\tfor(s in heldNotes)\n\t\t\tactiveNotes.remove(s);\n\t\n\t\trebuildSortedList();\n\t\t\n\t\tif(activeNotes.isEmpty())\n\t\t\tth.stopInternalClock(0);\n\t}\n};\n\nContent.getComponent(\"Hold\").setControlCallback(onHoldControl);\n\n// Slider Pack definitions\n\nconst var VelocityPack = Content.addSliderPack(\"VelocityPack\", 0, 0);\nVelocityPack.registerAtParent(0);\nVelocityPack.setUsePreallocatedLength(32);\nconst var LengthPack = Content.addSliderPack(\"LengthPack\", 0, 110);\nLengthPack.registerAtParent(1);\nLengthPack.setUsePreallocatedLength(32);\nconst var PitchPack = Content.addSliderPack(\"PitchPack\", 0, 220);\nPitchPack.registerAtParent(2);\nPitchPack.setUsePreallocatedLength(32);\n\n\nPitchPack.set(\"min\", -24.0);\nPitchPack.set(\"max\", 24.0);\nPitchPack.set(\"stepSize\", 1.0);\n\nconst var AdditionalPack = Content.addSliderPack(\"AdditionalPack\", 0, 330);\nAdditionalPack.set(\"width\", 512);\nAdditionalPack.setUsePreallocatedLength(32);\n\n// Now we add 16 more slider pack data objects that we can dynamically\n// assign to the AdditionalPack slider pack UI element...\nconst var additionalData = [];\n\n// This selector will just assign the UI slider pack to one of the 16 data lanes\nconst var AdditionalSelector = Content.addComboBox(\"DataSlotSelector\", 520, 330);\nAdditionalSelector.set(\"items\", \"\");\nfor(i = 0; i < 16; i++)\n{\n\tadditionalData.push(Engine.createAndRegisterSliderPackData(i+3)); // offset for velo, length & pitch\n\tAdditionalSelector.addItem(\"Additional Lane #\" + i);\n}\n\nAdditionalSelector.set(\"saveInPreset\", false);\n\ninline function onDataSlotSelectorControl(component, value)\n{\n\tif(value > 0)\n\t{\n\t\tAdditionalPack.referToData(additionalData[value-1]);\t\t\n\t}\n};\n\nContent.getComponent(\"DataSlotSelector\").setControlCallback(onDataSlotSelectorControl);\n\n\n//! LOGIC FUNCTIONS \n// ==========================================================================\n\n// Just a small helper function that plays a note with a defined length\ninline function playNote(noteNumber, velocity, timestamp, length)\n{\n\tlocal newId = Synth.addNoteOn(1, Math.range(noteNumber, 0, 126), velocity, timestamp);\n\tSynth.noteOffDelayedByEventId(newId, timestamp + length);\n\t\n\treturn newId;\n}\n\n// This will be executed on the grid callback of the transport handler\n// and will implement the arpeggiator logic\ninline function gridCallback(index, timestamp, isFirst)\n{\n\t// Set the current direction to the one we want\n\t// if this is the first time the grid callback is called after starting\n\t// the transport handler\n\tif(isFirst)\n\t\tcurrentInverse = inverse;\n\n\tif(sortedList.isEmpty())\n\t{\n\t\t// Skip empty notes when running as external clock\n\t\treturn;\n\t}\n\n\tlocal packLength = NumSteps.getValue();\n\tlocal packIndex = index % packLength;\n\tlocal noteListLength = sortedList.size();\n\tlocal noteIndex = index % noteListLength;\n\t\n\tif(swapInverse && noteIndex == 0)\n\t\tcurrentInverse = !currentInverse;\n\t\n\tif(currentInverse)\n\t\tnoteIndex = noteListLength - 1 - noteIndex;\n\t\t\n\tif(randomNote)\n\t\tnoteIndex = Math.randInt(0, noteListLength-1);\n\t\t\n\tlocal durationMs = Engine.getMilliSecondsForTempo(tempo.getValue());\n\tlocal durationSamples = Engine.getSamplesForMilliSeconds(durationMs);\n\tlocal transpose = PitchPack.getSliderValueAt(packIndex);\n\tlocal velo = VelocityPack.getSliderValueAt(packIndex) * 127;\n\t\n\t// We need to copy it because we can't modify inline function arguments\n\tlocal ts = timestamp;\n\t\n\t// Calculate the swing\n\tlocal thisSwing = swing.getValue() * 0.8;\n\t\n\tif(index % 2 == 1 && thisSwing > 0.0)\n\t{\n\t\tts += durationSamples * thisSwing * 0.5;\n\t\tdurationSamples *= (1.0 - thisSwing);\n\t}\n\t\n\tdurationSamples *= LengthPack.getSliderValueAt(packIndex);\n\t\n\tif(chordMode)\n\t{\n\t\tfirstChord = isFirst;\n\n\t\t// Just iterate the entire note list and play every note at every grid\n\t\tfor(s in sortedList)\n\t\t{\n\t\t\tlocal id = playNote(s.noteNumber + transpose, velo, ts, durationSamples);\n\t\t\tsendAdditionalLaneData(id, packIndex);\n\t\t}\n\t}\n\telse\n\t{\n\t\t// fetch the note from the list, apply the velocity, pitch and length changes\n\t\t// and play the note\n\t\tlocal id = playNote(sortedList[noteIndex].noteNumber + transpose, velo, ts, durationSamples);\n\t\tsendAdditionalLaneData(id, packIndex);\n\t}\n};\n\n// This will pass on the function to be called at every grid callback. It's extremely important\n// to use the synchronous execution mode to ensure proper timing (feel free to comment out the other)\n// function call below and listen how the arpeggiator will get jittery when played with fast speed.\nth.setOnGridChange(SyncNotification, gridCallback);\n//th.setOnGridChange(AsyncNotification, gridCallback);\n\n//! DATA LOGIC\n// ========================================================================================================\n\n// Let's create a fix object factory again\nconst var f = Engine.createFixObjectFactory({\n\t\"noteNumber\": -1, // used for sorting\n\t\"velocity\": 0,    // not used at the moment\n\t\"id\": -1,\t\t  // used for identifier note on / off pairs for removal\n\t\"uptime\": 0.0     // used for sorting by order\n});\n\nconst var scratch = f.create();\nconst var activeNotes = f.createStack(32);\nconst var heldNotes = f.createStack(32);\nconst var sortedList = f.createStack(256);\n\nconst var rm = Engine.getGlobalRoutingManager();\n\n/** This writes the lane data to the additional storage object. */\ninline function sendAdditionalLaneData(eventId, packIndex)\n{\n\tlocal idx = 0;\n\n\tfor(ad in additionalData)\n\t\trm.setEventData(eventId, idx++, ad.getValue(packIndex));\n}\n\ninline function playAdditionalFirstChordNotes(noteNumber)\n{\n\tlocal velo = VelocityPack.getSliderValueAt(0) * 127;\n\tlocal transpose = PitchPack.getSliderValueAt(0);\n\tlocal durationMs = Engine.getMilliSecondsForTempo(tempo.getValue());\n\tlocal durationSamples = Engine.getSamplesForMilliSeconds(durationMs) * LengthPack.getSliderValueAt(0);\n\t\n\tfor(i = 0; i < numOctaves.getValue(); i++)\n\t{\n\t\tlocal id = playNote(noteNumber + transpose + i * 12, velo, 0, durationSamples);\n\t\tsendAdditionalLaneData(id, 0);\n\t}\n\t\t\n}\n\ninline function rebuildSortedList()\n{\n\t// Clear the sorted list\n\tsortedList.clearQuick();\n\n\t// Sort the notes before stacking them up in the octaves\n\tactiveNotes.sort();\n\n\t// for each octave, insert the sorted list into the note array\n\tfor(i = 0; i < numOctaves.getValue(); i++)\n\t{\n\t\tfor(s in activeNotes)\n\t\t{\n\t\t\t// Copy all relevant properties (currently we don't)\n\t\t\t// use the velocity property at all, but that can be\n\t\t\t// used for further customization\n\t\t\tscratch.noteNumber = s.noteNumber + i * 12;\n\t\t\tscratch.id = s.id;\n\t\t\tscratch.velocity = s.velocity;\n\t\t\tsortedList.insert(scratch);\n\t\t}\n\t}\n};\n\n// Called by the onNoteOn callback\ninline function handleNoteOn()\n{\n\tif(!enabled.getValue())\n\t\t\treturn;\n\n\tMessage.ignoreEvent(true);\n\n\t// Set all data members of the scratch object to\n\t// our current note info\n\tscratch.id = Message.getEventId();\n\tscratch.noteNumber = Message.getNoteNumber();\n\tscratch.velocity = Message.getVelocity();\n\tscratch.uptime = Engine.getUptime();\n\t\n\t// check whether we should start the clock\n\t// Note: we need to check this here and then \n\t// start the transport handler after inserting the\n\t// note because otherwise it will be executed\n\t// on an empty list for the first grid callback\n\tlocal startInternalClock = activeNotes.isEmpty();\n\t\n\tactiveNotes.insert(scratch);\n\trebuildSortedList();\n\t\n\tif(startInternalClock)\n\t{\n\t\tth.startInternalClock(Message.getTimestamp());\n\t}\n\t\n\t// This allows us to play the other notes of the first chord\n\t// in chord mode (because the first note will trigger the first\n\t// grid callback so the first \"chord\" would only be a single note\n\tif(firstChord && activeNotes.size() > 1)\n\t{\n\t\tplayAdditionalFirstChordNotes(Message.getNoteNumber());\n\t}\n}\n\ninline function handleNoteOff()\n{\n\tif(!enabled.getValue())\n\t\treturn;\n\n\tMessage.ignoreEvent(true);\n\n\t// check the event id in the active note list\n\t// and either remove it or push it to the list\n\t// of held notes (which will be released when the\n\t// hold button is unticked).\n\tfor(s in activeNotes)\n\t{\n\t\tif(s.id == Message.getEventId())\n\t\t{\n\t\t\tif(hold.getValue())\n\t\t\t\theldNotes.insert(s);\n\t\t\telse\n\t\t\t\tactiveNotes.remove(s);\n\t\t\t\t\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trebuildSortedList();\n\t\n\t// if no notes are present we can stop the internal clock\n\tif(activeNotes.isEmpty())\n\t\tth.stopInternalClock(Message.getTimestamp());\n}\n\n}\nfunction onNoteOn()\n{\n\tSyncedArpeggiator.handleNoteOn();\n}\n \nfunction onNoteOff()\n{\n\tSyncedArpeggiator.handleNoteOff();\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Custom Event Data 101",
    "category": "MIDI",
    "tags": [
      "Best Practice",
      "Simple"
    ],
    "description": "\n\nThe hello world of the event data system: how to [write](https://docs.hise.audio/scripting/scripting-api/globalroutingmanager/index.html#seteventdata) and [retrieve](https://docs.hise.audio/hise-modules/modulators/voice-start-modulators/list/eventdatamodulator.html) additional data using the event ID.\n\n\n\n",
    "code": "Content.makeFrontInterface(600, 600);\n\n// we need to create an instance of the routing manager\n// for the event data to work.\nconst var rm = Engine.getGlobalRoutingManager();\n\n// 1. Take a look at the note on callback\n\n// 2. Open the Event Data Modulator to see how the value is being processed\nfunction onNoteOn()\n{\n\t// Now we store some value in the 9th slot\n\trm.setEventData(Message.getEventId(), 9, Math.random());\n\t\n\t// Click on the MIDI icon next to the interface for the event logger,\n\t// this will include all values that are written like this.\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Custom Event Data 102",
    "category": "MIDI",
    "tags": [
      "Best Practice",
      "Simple"
    ],
    "description": "\n\nNow we'll use a [scriptnode](https://docs.hise.audio/scriptnode/list/routing/event_data_reader.html) node to pickup the event data.",
    "code": "Content.makeFrontInterface(600, 600);\n\n// Create a routing manager again...\nconst var rm = Engine.getGlobalRoutingManager();\n\n// The note on callback is the same as in 101, so head on to the Script FX1 network for\n// the interesting part of this snippet.\nfunction onNoteOn()\n{\n\t// Let's send the value again, but this time on the 11th slot\n\trm.setEventData(Message.getEventId(), 11, Math.random());\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Custom Event Data 103",
    "category": "MIDI",
    "tags": [
      "Best Practice",
      "Simple"
    ],
    "description": "\n\nThis will show how to use the event data system to generate a polyphonic and **time-varying** envelope signal that is communicated to another sound generator.\n\nIt uses the [routing.event_data_writer](https://docs.hise.audio/scriptnode/list/routing/event_data_writer.html) node as source and the  [EventData envelope](https://docs.hise.audio/hise-modules/modulators/envelopes/list/eventdataenvelope.html) modulator as a target.",
    "code": "Content.makeFrontInterface(600, 600);\n\n// Add the routing manager\nconst var rm = Engine.getGlobalRoutingManager();\n\n\n// Now we don't write the event data in the note on callback\n// but use a (silent) sine wave generator with a script envelope\n// that will write a time-varying, polyphonic signal that can\n// be picked up later (by the EventData Envelope).\n\n// Click on the EventData Generator workspace button to inspect\n// the DSP network that generates and writes the polyphonic\n// event data signal.\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Micro Tuner",
    "category": "MIDI",
    "tags": [],
    "description": "A sliderpack for tuning an octave. This can be filled with predefined scales.",
    "code": "Content.makeFrontInterface(400, 400);\r\n\r\nconst var detuneValues = Content.addSliderPack(\"DetuneValues\", 20, 20);\r\n\r\n// Select the Root Note for the microtuning table\r\nconst var rootSelector = Content.addComboBox(\"RootSelector\", 40, 260);\r\nconst var rootNotes = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\r\nrootSelector.set(\"items\", rootNotes.join(\"\\n\"));\r\n\r\n// Select Note for the microtuning table\r\nconst var scaleSelector = Content.addComboBox(\"scaleSelector\", 230, 260);\r\nconst var scaleNames = [\"equal\", \"just\", \"pythagorean\", \"dudon\"];\r\nscaleSelector.set(\"items\", scaleNames.join(\"\\n\"));\r\n\r\n// Define the microtuning scales \r\nconst var scales = [\r\n\r\n[0,0,0,0,0,0,0,0,0,0,0,0], // equal\r\n[0, 11.7,3.9,15.6,-13.7,-2.0,-9.8,2.00,13.7,-15.6, 18.0, -12.00], // just\r\n[0, 13.7,3.9,17.6,7.8,-2.0,11.7,2.0,15.6,5.9,20.0,10.0, 2.00], // pythagorean               \r\n[0,4.955,-88.269,86.314,-7.925,-1.965,-110,1.955,6.910,-87.441,78.624,-11.713] // dudon\r\n];\r\n\r\n\r\n// Set the scale based on the ComboBox Items Index at selection\r\ninline function onscaleSelectorControl(component, value)\r\n{\r\n    detuneValues.setValue(scales[value -1]);\r\n};\r\n\r\nContent.getComponent(\"scaleSelector\").setControlCallback(onscaleSelectorControl);\r\n\r\n\r\n\r\n\nfunction onNoteOn()\n{\n    local r = rootSelector.getValue() - 1;\r\n    local index = parseInt(Message.getNoteNumber()-r) % 12;\r\n    Message.setFineDetune(detuneValues.getSliderValueAt(index));\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Switch TableData",
    "category": "MIDI",
    "tags": [
      "UI Logic"
    ],
    "description": "\nThree TableData Objects in a list, connected to a Velocity Modulator. Switch between the TableData-\"Slots\" with a Knob and exchange the data in the table display. \n",
    "code": "Content.makeFrontInterface(400, 200);\n\nconst tableData = [\n\tEngine.createAndRegisterTableData(0),\n\tEngine.createAndRegisterTableData(1),\n\tEngine.createAndRegisterTableData(2)\n];\n\nconst mod = Synth.getTableProcessor(\"Velocity Modulator1\").getTable(0);\n\nconst var Table1 = Content.getComponent(\"Table1\");\n\ninline function onComboBox1Control(component, value)\n{\n\tmod.linkTo(tableData[value -1]);\n\tTable1.referToData(tableData[value - 1]);\n};\n\nContent.getComponent(\"ComboBox1\").setControlCallback(onComboBox1Control);\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Play chords from single notes",
    "category": "MIDI",
    "tags": [
      "Internal Messaging"
    ],
    "description": "\n\nPlay and hold a key to play a (delayed) diminished chord. This demonstrates a proper way of handling artificial note creation using the new\u00a0[Synth.setFixNoteOnAfterNoteOff()](https://docs.hise.audio/scripting/scripting-api/synth/index.html#setfixnoteonafternoteoff)\u00a0call.\nYou'll find the script logic in the ScriptProcessor1s onInit, onNoteOn and OnNoteOff callbacks.\n\n",
    "code": "Content.makeFrontInterface(600, 600);\n\n// Play and hold a note. Take a look at ScriptProcessor1 for the code.\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Press a button to play a specific MIDI note",
    "category": "MIDI",
    "tags": [
      "\"\""
    ],
    "description": "Create a Button CustomCallback which plays a specific MIDI note on click. ",
    "code": "Content.makeFrontInterface(150, 50);\r\n\r\n\r\ninline function onButton1Control(component, value)\r\n{\r\n    if (value)\r\n\t    Synth.playNote(60, 64);\r\n\telse\r\n\t    Engine.allNotesOff();\r\n};\r\n\r\nContent.getComponent(\"Button1\").setControlCallback(onButton1Control);\r\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Modulation Matrix Tutorial",
    "category": "Scripting",
    "tags": [
      "Best Practice",
      "Complex",
      "Faust",
      "First contact",
      "UI Logic",
      "Modulation"
    ],
    "description": "\n\n\n\nThis is a minimal example of all the new modulation features in HISE 5.0:\n\n- matrix modulators\n- all floating tiles related to modulation\n- knob LAF styling\n- data management\n\nNote that this replaces the old ModulationMatrix tutorial, which is deprecated now.",
    "code": "/** ModulatorMatrix example HISE 5.0 Edition\n\nThis is a very bare-bone example that shows how to use the matrix modulators to implement a dynamic modulation\nsystem. If you compare this example to the previous implementation of the modulation matrix, you'll see that the\nmajority of the code in here is just CSS / LAF styling - this is because the entire functionality, data management &\nUI interaction has been integrated natively into HISE and gives you ready-to-use building blocks for your modulation\nsystem!\n\nIn this example there are three modulation sources:\n\n- LFO\n- AHDSR\n- Velocity\n\nAnd three modulation targets:\n\n1. OSC1 Gain\n2. OSC1 Pitch\n3. OSC1 Reverb\n\nThe first two modulation targets are matrix modulators, which means that they offer the full modulation resolution\n&& polyphonic support. The third modulation target is just a random HISE module parameter - in our case the wet amount\nof a simple reverb module. This has no modulation slot, but by setting the `matrixTargetId` property of the connected UI\nknob in the interface it will be registered as additional modulation target which will be handled by the same system as the\n\"real\" ones. Note how there is basically no distinction between these three targets in the handling & appearance!\n*/\nContent.makeFrontInterface(1100, 600);\n\n// Let's create a matrix handler object that can be used to programmatically change\n// query the modulation connections.\n// Note that as soon as you create this object it will also write the modulation connections into the user preset\n// so that they are restored correctly.\nconst var matrixHandler = Engine.createModulationMatrix(\"Global Modulator Container1\");\n\n// If you want to be notified about connection changes, you can attach a callable object here\nmatrixHandler.setConnectionCallback(function(source, target, isConnected)\n{\n\tConsole.print(source);\n\tConsole.print(target);\n\tConsole.print(isConnected);\n});\n\n// Clear all connections (whatever connections you had will now be printed to the console)\nmatrixHandler.clearAllConnections(\"\");\n\n// This can be used to add more functions to the custom popup menu of a UI knob that is assigned to a modulation\n// target\nmatrixHandler.setEditCallback([\"my funky item\", \"another item\"], function(index)\n{\n\tConsole.print(index);\n});\n\n// This can be used to add custom behaviour whenever the user is dragging a modulation dragger\nmatrixHandler.setDragCallback(function(source, target, eventType)\n{\n\t.dump(source, target, eventType);\n});\n\n//! CSS DEFINITIONS ==============================================================\n\n// Now we're going to use the new floating tile elements which offer the most commonly requested features\nconst var laf = Content.createLocalLookAndFeel();\n\n// Since there are many (layout) customization requests, these new UI components follow a CSS-only styling.\n// Finally a reason to start using this!\nlaf.setInlineStyleSheet(\"\n\n/** The background panel for the matrix. */\n.matrix\n{\n\tcontent: '';\n\tbackground: #333;\n\tborder-radius: 3px;\n\tpadding: 10px;\n}\n\n/** If there are no connections we show a empty message. */\n.matrix:empty { \n  color: #666; \n  content: 'No connections..'; \n}\n\n.search\n{\n\tbackground: #555;\n\tmargin-bottom: 10px;\n\tpadding: 5px;\n\theight: 20px;\n\tborder-radius: 3px;\n\tpadding-left: 100vh;\n\tcolor: #999;\n}\n\n.search::before\n{\n\tcontent: '';\n\tbackground-image: var(--icon);\n\tbackground-color: #888;\n\twidth: 100vh;\n\tmargin: 5px;\n}\n\n#clearsearch\n{\n\tbackground-color: #888;\n\theight: 20px;\n\tmargin: 10px;\n\tmargin-top: 0px;\n}\n\n/** The matrix table header. */\nth { background: transparent; }\n\n/** The background panel for the drag controller. */\n#controller\n{\n\tbackground: #333;\n\tpadding: 10px;\n\tborder-radius: 3px;\n\tflex-direction: row-reverse;\n}\n\n\n\n/** The draggable UI components that you can drop onto a UI knob. */\n.dragger\n{\n\tbackground-color: rgba(0, 0, 0, 0.3);\n\tfont-family: 'Lato';\n\tcolor: rgba(255,255,255, 0.7);\n\twidth: auto;\n\tborder-radius: 50%;\n\tpadding: 0px 10px;\n\tcursor: grabbing;\n}\n.dragger:hover { color: white; }\n.dragger:active { transform: scale(98%);}\nbutton:hover { color: white; }\n.dragger::before\n{\n\tcontent: '';\t\n\tbackground-color: white;\n\tbackground-image: var(--dragPath);\n\twidth: 24px;\n\tmargin: 5px;\n}\n\ntd, .targetLabel\n{\n\tcolor: #999;\n\tfont-size: 15px;\n}\n\n.targetLabel\n{\n\twidth: 130px;\n}\n\n.slider\n{\n\tbackground: #444;\n\tborder-radius: 3px;\n\tmargin: 2px;\n\tcolor: #bbb;\n}\n\n.slider:empty\n{\n\tcolor: #666;\n}\n\n.slider::before\n{\n\tcontent: '';\n\twidth: calc(var(--value) * 100%);\n\theight: 100%;\n\tbackground-color: #777;\n\tposition: absolute;\n\tmargin: 5px;\n}\n\n.unipolar::before, .bipolar::before\n{\n\t\n\t\n\t/* this calculates the bipolar width with some advanced\n\t   CSS math expression skills. */\n\twidth: max(calc(calc(0.5 - var(--value)) * 100%),  \n\t           calc(calc(var(--value) - 0.5) * 100%)); \n\t           \n\t/* this calculates the leftmost position of the value rectangle. */\n\tleft: min(calc(var(--value) * 100%), 50%);\n}\n\nselect\n{\n\tbackground: #444;\n\tborder-radius: 3px;\n\tcolor: #999;\n\tfont-weight: bold;\n\ttext-align: left;\n\tpadding: 10px;\n}\n\n/** Draw the drop down arrow. */\nselect::before\n{\n\t/** CSS requires that you specify a content property for\n\t    any pseudo element that is supposed to be shown. */\n\tcontent: '';\n\t\n\t/** Pass in a Base64 string for any path using the standard HISE Path converter. */\n\tbackground-image: \\\"84.t0lavsBQ76.tCwF..VDQX+9fCw1WJBDQnj.cCwFp5YBQ3NhqCwly0w.QzMCcCwF..d.QTV.gCwFD6YBQpsevCwVtvsBQn.AtCwlavsBQ76.tCMVY\\\";\n\t\n\tbackground-color: rgba(255,255,255, 0.4);\n\t\n\t/** Set the position to absolute so that it won't cut into the text area. */\n\tposition: absolute;\n\twidth: 100vh;\n\tmargin: 8px;\n\tright: 0px;\n}\n\n/** Make the arrow light up at hover. */\nselect::before:hover\n{\n\tbackground-color: white;\n}\n\nbutton\n{\n\tbackground: red;\n\tborder-radius: 3px;\n\tbackground: #444;\n\tcolor: #999;\n\tcontent: 'Off';\n}\n\n.modplotter\n{\n\tbackground: red;\n}\n\n/** The add/remove/clear buttons. */\n.control-button\n{\n\twidth: 70px;\n\t/** Reset the content property so that the original text is displayed. */\n\tcontent: ''; \n}\n\n\nbutton:checked\n{\n\tbackground: #999;\n\tcolor: #333;\n\tcontent: 'On';\n}\n\n\n\n\");\n\n// This is the matrix component which shows a row for each connection with the given UI elements\nconst var Matrix = Content.getComponent(\"Matrix\");\nMatrix.setLocalLookAndFeel(laf);\n\n// This is the menu bar which offers the add/remove/clear button as well as draggers that can be dropped on any\n// UI knob to establish a connection\nconst var MatrixController = Content.getComponent(\"MatrixController\");\nMatrixController.setLocalLookAndFeel(laf);\n\nconst var SliderMatrix = Content.getComponent(\"SliderMatrix\");\nSliderMatrix.setLocalLookAndFeel(laf);\n\n//! UI KNOB LAF ==============================================================\n\nconst var knobLaf = Content.createLocalLookAndFeel();\n\nconst var ARC = 2.4;\nconst var START = -ARC;\nconst var ARC_WIDTH = 2.0 * ARC;\nconst var THICKNESS = 14.0;\n\nvar p = {};               // Pick one of these:\np.EndCapStyle = \"rounded\";   // [\"butt\", \"square\", \"rounded\"]\np.JointStyle = \"beveled\"; // [\"mitered\", \"curved\",\"beveled\"]\np.Thickness = THICKNESS;\n\ninline function drawModSlider(g, obj)\n{\n\tlocal a = Rectangle(obj.area).reduced(THICKNESS/2 + 2);\n\tlocal n = Rectangle(0.0, 0.0, 1.0, 1.0);\n\n\tlocal track = Content.createPath(); track.setBounds(n);\n\ttrack.addArc(n, START-0.05, START + ARC_WIDTH+0.05);\n\t\n\tif(obj.modulationDragState)\n\t{\n\t\tif(obj.modulationDragState == 2)\n\t\t{\n\t\t\tg.setColour(obj.itemColour1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tg.setColour(0x44FFFFFF);\n\t\t}\n\t\t\n\t\tg.fillEllipse(a.reduced(-THICKNESS/2 - 1));\n\t}\n\t\n\t\n\tg.setColour(0x77000000);\n\tg.drawPath(track, a, THICKNESS);\n\t\n\tlocal modRange = Content.createPath(); modRange.setBounds(n);\n\tmodRange.addArc(n, START + obj.modMinValue * ARC_WIDTH,\n\t\t\t\t\t   START + obj.modMaxValue * ARC_WIDTH);\n\t\t\t\t\t   \n\tg.setColour(0x22FFFFFF);\n\tg.drawPath(modRange, a, THICKNESS - 2);\n\t\n\tlocal value = Content.createPath(); value.setBounds(n);\n\tvalue.addArc(n, START + obj.valueNormalized * ARC_WIDTH,\n\t\t\t\t\tSTART + Math.range(obj.scaledValue + obj.addValue, 0.0, 1.0) * ARC_WIDTH);\n\t\t\t\t\t\n\tg.setColour(obj.itemColour1);\n\tg.drawPath(value, a, THICKNESS - 4);\n\t\n\tlocal thumb = Content.createPath(); thumb.setBounds(n);\n\tthumb.addArc(n, START + obj.valueNormalized * ARC_WIDTH - 0.01,\n\t\t\t\t\tSTART + obj.valueNormalized * ARC_WIDTH + 0.01);\n\t\n\tg.setColour(Colours.white);\n\tg.drawPath(thumb, a, p);\n\t\n\tg.drawAlignedText(obj.valueAsText, a, \"centred\");\n\tg.setColour(0x55FFFFFF);\n\tg.drawAlignedText(obj.text, a, \"centredBottom\");\n}\n\n// These three function will be used to define the appearance of the modulation connection sliders when you hover\n// over a knob with modulation connections\n\n// draw the \"background\" of the hover popup (including the value label)\ninline function drawModulationDragBackground(g, obj)\n{\n\tif(obj.hover)\n\t{\n\t\tlocal lr = Rectangle(obj.labelArea);\n\n\t\tg.setColour(0xFF444444);\n\t\tg.fillRoundedRectangle(lr, 3.0);\n\t\tg.setColour(0xFFAAAAAA);\n\t\tg.drawRoundedRectangle(lr, 3.0, 1.0);\n\t\tg.setColour(0xDDFFFFFF);\n\t\tg.drawAlignedText(obj.hoverSourceName + \": \" + obj.hoverText, lr.reduced(4, 0), \"centred\");\n\t}\n}\n\n// called for each modulation dragger to render the \"knob\" for the intensity\ninline function drawModulationDragger(g, obj)\n{\n\tlocal area = Rectangle(obj.area);\n\tlocal track = Content.createPath();\n\tlocal dragPath = Content.createPath();\n\tlocal start;\n\tlocal end;\n\t\n\tswitch(obj.mode)\n\t{\n\t\tcase 0:\n\t\t\tstart = -ARC;\n\t\t\tend = -ARC + 2.0 * ARC * obj.value;\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tstart = 0;\n\t\t\tend = ARC * obj.value;\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tend = ARC * obj.value;\n\t\t\tstart = - 1.0 * end;\n\t\t\tbreak;\n\t}\n\t\n\tdragPath.setBounds(area);\n\ttrack.setBounds(area);\n\t\n\tg.setColour(0xFF282828);\n\tg.fillEllipse(area);\n\tg.setColour(0xFFAAAAAA);\n\tg.drawEllipse(area, 1.0);\n\t\t\n\tdragPath.addArc(area.reduced(4), start, end);\n\ttrack.addArc(area.reduced(4), -ARC, ARC);\n\tg.setColour(obj.hover ? 0x22ffffff : 0x11ffffff);\n\tg.fillPath(track.createStrokedPath(5.0, \"\"), area);\n\tg.setColour(Colours.withMultipliedAlpha(obj.itemColour, obj.clicked ? 1.0 : 0.8));\n\tg.fillPath(dragPath.createStrokedPath(5.0, \"\"), area);\n}\n\nconst var DRAG_SIZE = 36;\n\n// calculate the positioning of the mod draggers as well as the value label)\ninline function getModulatorDragData(obj)\n{\n\tlocal totalWidth = obj.connections.length * (DRAG_SIZE + 4);\n\ttotalWidth += 140;\n\t\n\tlocal x = Rectangle(obj.sliderBounds[0], obj.sliderBounds[1] + obj.sliderBounds[3], totalWidth, DRAG_SIZE);\n\tx = x.constrainedWithin(obj.parentBounds);\n\t\n\tfor(s in obj.connections)\n\t\tobj.dragAreas.push(x.removeFromLeft(DRAG_SIZE).reduced(2));\n\t\n\tx.removeFromLeft(10);\n\t\n\tobj.labelArea = x;\n\treturn obj;\n}\n\nknobLaf.registerFunction(\"drawRotarySlider\", drawModSlider);\nknobLaf.registerFunction(\"drawModulationDragBackground\", drawModulationDragBackground);\nknobLaf.registerFunction(\"getModulatorDragData\", getModulatorDragData);\nknobLaf.registerFunction(\"drawModulationDragger\", drawModulationDragger);\n\nconst var UI_KNOBS = [Content.getComponent(\"Reverb\"),\n                      Content.getComponent(\"Pitch\"),\n                      Content.getComponent(\"Gain\")];\n\nfor(k in UI_KNOBS)\n\tk.setLocalLookAndFeel(knobLaf);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Console",
    "category": "Scripting",
    "tags": [
      "API",
      "First contact"
    ],
    "description": "\n\n\nExplores the [ScriptAPI Console](https://docs.hise.audio/scripting/scripting-api/console/index.html) commands. ",
    "code": "Content.makeFrontInterface(600, 600);\n\n// Prints \"Hello world\" to the console.\n// You can use this command to quickly print out values and get feedback in the Console.\nConsole.print(\"Hello world\");\n\n\n// This line blinks when it is executed.\nConsole.blink();\n\n\n// With Console.assert commands you can built little tests, that complain \n// when their condition is not met.\n\nconst var x = 1;\nconst var y = [0,1];\n\nConsole.assertIsDefined(x);\nConsole.assertTrue(x==1);\nConsole.assertLegalNumber(x);\nConsole.assertIsObjectOrArray(y);\nConsole.assertNoString(x);\n\n\n// Starts a benchmark that evaluates how long the script in the middle takes\n// to executes in ms.\n\nConsole.startBenchmark();\n\nfor (i=0;i<1000;i++)\n{\n\tConsole.blink();\n};\n\nConsole.stopBenchmark();\n\n\n// You can print out arrays and json objects directly to the Console with the trace command\nconst var list = [1,2,3,4]\nconst var json = {\"test\":1,\"bool\":0};\n\nConsole.print(list);\nConsole.print(trace(list));\n\n// Tip: Also take a look at the ScriptWatchTable window to get live feedback of variable values.\n\n\n// Clears the Console\nConsole.clear();\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Date",
    "category": "Scripting",
    "tags": [
      "API"
    ],
    "description": "\nExplores the ScriptAPI Date Object. ",
    "code": "Content.makeFrontInterface(600, 600);\n\n\n// Get the current time in milliseconds since 1. Januar 1970, 00:00\n\nconst var time = Date.getSystemTimeMs();\nConsole.print(time);\n\n// ISO Standard\n\nconst var time1 = Date.getSystemTimeISO8601(1);\nConsole.print(time1);\n\n// Convert them back and forth\n\nConsole.print(Date.ISO8601ToMilliseconds(time1));\n\nConsole.print(Date.millisecondsToISO8601(time, 0));\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "RectHelpers",
    "category": "Scripting",
    "tags": [
      "Helper tools"
    ],
    "description": "\nA simple toolkit for slicing a rectangle. This closely follows the JUCE API for the [Rectangle](https://docs.juce.com/master/classRectangle.html) class and allows you to easily layout components.\n\nThis snippet includes a embedded script file `RectHelpers.js` that can be copied to your project.\n\n",
    "code": "Content.makeFrontInterface(600, 600);\n\ninclude(\"RectHelpers.js\");\n\n// Example usage:\n\nconst var fullRect = [0, 0, 1000, 1000];\nconst var header = Rect.removeFromTop(fullRect, 30);\nconst var leftTab = Rect.removeFromLeft(fullRect, 50);\nconst var content = fullRect;\n\nConsole.print(trace(header));\nConsole.print(trace(leftTab));\nConsole.print(trace(content));\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "User Preference System",
    "category": "Scripting",
    "tags": [
      "Complex",
      "Host Sync"
    ],
    "description": "\nThis is a user data file snippet that is separate from HISE's preset system, with an emphasis on reliability. A common use would be user preferences.\n\n@clevername27\n\n[Forum Entry](https://forum.hise.audio/topic/11384/user-preference-system)",
    "code": "// Create the canvas.\nContent.makeFrontInterface(370, 300);\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n//                                                                                                              //\n//                                 DECLARATIONS - CONSTANTS & GLOBALS [UI THREAD]                               //\n//                                                                                                              //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n// Create hard-coded values in case the file system cannot be accessed.\nglobal PREFERENCES = {\n\n\tCOMPONENT_1: \t\ttrue,\n\tCOMPONENT_2: \t\ttrue,\n\tCOMPONENT_3: \t\ttrue,\n\tCOMPONENT_1: \t\ttrue,\n\tCHECK_FOR_UPDATES:\ttrue\n};\n\n// Declare a global that will hold all the data for the preferences file.\nglobal g_userAppData = {};\n\n// Set the file name.\nconst USER_APPDATA_FOLDER_NAME = \"prismUserData.js\";\n\n// Set the update URL data.\nconst var baseUpdateURL = \"https://yourwebsite.com\";\nconst var dataFileName =  \"update_data.json\";\nconst var downloadDirectory = \"/your_download_directory/\";\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n//                                                                                                              //\n//                                    DECLARATIONS - COMPONENTS [UI THREAD]                                     //\n//                                                                                                              //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n// Register Preference Control buttons.\nconst button_GLOBAL_ChooseOptions_SectionDialog_WriteUserDefaults_GUI = Content.getComponent(\"button_GLOBAL_ChooseOptions_SectionDialog_WriteUserDefaults_GUI\");\nconst button_GLOBAL_ChooseOptions_SectionDialog_RestoreUserDefaults_GUI = Content.getComponent(\"button_GLOBAL_ChooseOptions_SectionDialog_RestoreUserDefaults_GUI\");\nconst button_GLOBAL_ChooseOptions_SectionDialog_ResetToSystemDefaults_GUI = Content.getComponent(\"button_GLOBAL_ChooseOptions_SectionDialog_ResetToSystemDefaults_GUI\");\nconst button_GLOBAL_ChooseOptions_SectionDialog_OK_GUI = Content.getComponent(\"button_GLOBAL_ChooseOptions_SectionDialog_OK_GUI\");\n\n// Register the Preference widgets.\nconst component1 = Content.getComponent(\"component1\");\nconst component2 = Content.getComponent(\"component2\");\nconst component3 = Content.getComponent(\"component3\");\nconst button_checkForUpdates = Content.getComponent(\"button_checkForUpdates\");\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n//                                                                                                              //\n//                                         STRINGS [UI THREAD]                                                  //\n//                                                                                                              //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nconst var dict_ErrorMessages = {\n\n\tautoUpdateNoInternet: \"There was an error while checking for an updated version: An internet connection could not be accessed.\",\n\tautoUpdateServerNotFound: \"There was an error while checking for an updated version: The remote server is offline.\",\n\tautoUpdateVersionDataNotFound: \"There was an error while checking for an updated version: Remote version data could not be accessed.\"\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n//                                                                                                              //\n//                                        SETTINGS - HELPER FUNCTIONS [UI THREAD]                               //\n//                                                                                                              //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n// Check if my plugin has completed booting up correctly.\ninline function StartupComplete() {\n\n\t// Do something more useful here.\t\t\n\tif (true)\n\t\treturn true;\n\telse\n\t\treturn false;\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n//                                                                                                              //\n//                                        SETTINGS - PREFERENCES - FILE [UI THREAD]                             //\n//                                                                                                              //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\ninline function HandleUserDataFile () {\n\n\t// Load/create the user data file.\n\tlocal UserDatafileExisted = LoadUserDataFile ();\n\t\n\t// Update?\n\tif (UserDatafileExisted)\n\t\tEvaluateIfCheckForAppUpdate ();\n\telse\n\t\tUpdateIfNewerVersionAvailable ();\n\n\t// Restore the components.\n\tRestorePreferenceComponentsFromUserDataObject ();\n\t\n\t// Process the user data according to its values.\n\tProcessNewPreferenceData ();\n}\n\t\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////// TEST IF USER DATA OBJECT IS VALID FUNCTION ////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\ninline function TestIfUserDataFileValid (userAppData) {\n\n\tif (isDefined(userAppData.preferences))\n\t\treturn true;\n\telse\n\t\treturn false;\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////// RESTORE COMPONENT VALUES FROM USER DATA OBJECT FUNCTION //////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\ninline function RestorePreferenceComponentsFromUserDataObject () {\n\n\t// ================================== Preferences\n\t\t\n\tcomponent1.setValue \t\t\t(g_userAppData.preferences.component1);\n\tcomponent2.setValue \t\t\t(g_userAppData.preferences.component2);\n\tcomponent3.setValue \t\t\t(g_userAppData.preferences.component3);\n\tbutton_checkForUpdates.setValue (g_userAppData.preferences.button_checkForUpdates);\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////// REVISE USER DATA FILE FUNCTION /////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\ninline function ReviseUserDataFile (dataType) {\n\n\tswitch (dataType) {\n\t\n\t\tcase \"last_update_check\": \n\t\t\n\t\t\t// Record the date in the JSON object.\n\t\t\tg_userAppData.update.lastUpdateCheck = Date.getSystemTimeISO8601(false).substring(0,8);\n\t\t\t\n\t\t\t// Write the updated object to the file.\n\t\t\tWriteUserDataFile ();\n\t\t\t\n\t\t\tbreak;\n\t\t\t\n\t\tcase \"preferences\":\n\t\t\n\t\t\tg_userAppData.preferences.component1 \t\t\t\t= combo_GLOBAL_ChooseOptions_PrefsTab_Features_Features_InstsAndOHsPhaseAlign_GUI.getValue();\t\n\t\t\tg_userAppData.preferences.component2 \t\t\t\t= combo_GLOBAL_ChooseOptions_PrefsTab_Features_MidiplaybackActiv_GUI.getValue();\n\t\t\tg_userAppData.preferences.component3 \t\t\t\t= combo_GLOBAL_ChooseOptions_PrefsTab_Features_RealtimeOverlapRender_GUI.getValue();\n\t\t\t\n\t\t\tg_userAppData.preferences.button_checkForUpdates\t= button_checkForUpdates.getValue();\n\t\t\t\n\t\t\tbreak;\n\t}\n\t\n\tWriteUserDataFile ();\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////////// WRITE USER APP DATA FILE FUNCTION ///////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\ninline function WriteUserDataFile () {\n\t\n\tif (isDefined(g_userAppData))\n\t\tg_userDataFile.writeObject(g_userAppData);\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////// CHECK USER APP DATA FILE ///////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\ninline function LoadUserDataFile () {\n\t\n\t// ======================================== Prepare\n\t\n\tlocal validUserDataFileExisted = null;\n\tlocal userAppData = {};\n\t\n\tConsole.print(\"{Looking for user file\u2026}\");\n\t\n\t// Get a reference to the App Data folder.\n\tlocal appDataFolder = FileSystem.getFolder(FileSystem.AppData);\n\t\n\t// Get a reference to the file. If it doesn't exist, create it.\n\tlocal userDataFile = appDataFolder.getChildFile(USER_APPDATA_FOLDER_NAME);\n\t\n\t// ================================== Check if the File Exists\n\t\n\tif (userDataFile.isFile()) {\t\n\t\n\t\t// ------------- Data File Existed\n\t\t\n\t\t// Log.\n\t\tConsole.print(\"{File with correct name of User Data file found.}\");\n\t\t\n\t\t// There's a file. Try to load the JSON data.\n\t\tuserAppData = userDataFile.loadAsObject();\n\t\t\n\t\t// Check if the data file is valid.\n\t\tif (TestIfUserDataFileValid(userAppData)) {\n\t\t\t\n\t\t\t// ------------- Data File Is Valid\n\t\t\t\n\t\t\t// Log.\n\t\t\tConsole.print(\"{User Data file is valid.}\");\n\t\t\t\n\t\t\t// A valid file existed.\n\t\t\tvalidUserDataFileExisted = true;\n\t\t\n\t\t} else {\n\t\t\t\n\t\t\t// ------------- Data File Is Not Valid\n\t\t\t\n\t\t\t// Log.\n\t\t\tConsole.print(\"{User Data file is not valid; create a new one.}\");\n\t\t\t\n\t\t\t// A valid file didn't exist.\n\t\t\tvalidUserDataFileExisted = false;\n\t\t} \n\t\t\n\t} else {\n\t\t\n\t\t// ------------- User Data File Does Not Exist\n\t\t\n\t\t// Log.\n\t\tConsole.print(\"{File with User Data filename not found; create new file.}\");\n\t\t\n\t\t// A valid file didn't exist.\n\t\tvalidUserDataFileExisted = false;\n\t}\n\t\n\t// ================================== Create the File?\n\t\n\tif (!validUserDataFileExisted) {\n\t\n\t\t// Create the data object.\n\t\tg_userAppData = CreateUserDataJsonObject ();\n\t\n\t\tWriteUserDataFile ();\n\t\n\t} else {\n\t\n\t\t// Assign the global.\n\t\tg_userAppData = userAppData;\n\t}\t\n\t\n\t// ================================== Assigning the global file.\n\t\n\tg_userDataFile = userDataFile;\n\t\n\t// ================================== Returning if File Existed.\n\t\n\treturn validUserDataFileExisted;\n};\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n//                                                                                                              //\n//                                SETTINGS - PREFERENCES OPERATIONS [UI THREAD]                                 //\n//                                                                                                              //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////// PROCESS NEW PREFERENCES FUNCTION /////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//\n// This section is completely hardcoded, and should not call functions that are not in this file. We won't assume\n// what the component UI values are.\n\ninline function ProcessNewPreferenceData () {\n\n\t// ========================================== Values\n\t\n\t// Set the UI components to the values.\n\tSetPreferencesToSafeValues();\n\t\n\t// ======================================== Functions\n\t\t\n\t// ------------- Component 1\n\t\n\t// Do alignment of drum kit.\n\tif (component1.getValue()) {\n\t\n\t\t// Do something.\n\t\t\n\t} else {\n\t\n\t\t// Do something else.\t\n\t}\n\t\n\t// ------------- Component 2\n\t\n\t// Do alignment of drum kit.\n\tif (component2.getValue()) {\n\t\n\t\t// Do something.\n\t\t\n\t} else {\n\t\n\t\t// Do something else.\t\n\t}\n\t\n\t// ------------- Component 3\n\t\n\t// Do alignment of drum kit.\n\tif (component2.getValue()) {\n\t\n\t\t// Do something.\n\t\t\n\t} else {\n\t\n\t\t// Do something else.\t\n\t}\n\t\n\t// ------------- Check for Update\n\t//\n\t// It would be redundant to do anything here.\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////// SET PREFERENCES TO HARDCODED INIT VALUES FUNCTION ////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\ninline function SetPreferencesToSafeValues () {\n\t\n\tcomponent1.setValue\t\t\t\t(PREFERENCES.COMPONENT_1);\n\tcomponent2.setValue\t\t\t\t(PREFERENCES.COMPONENT_2);\t\n\tcomponent3.setValue\t\t\t\t(PREFERENCES.COMPONENT_3);\n\tbutton_checkForUpdates.setValue\t(PREFERENCES.CHECK_FOR_UPDATES);\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////// CREATE USER APP DATA JSON OBJECT //////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\ninline function CreateUserDataJsonObject () {\n\n\t// ------------- Data Slots\n\t\n\tlocal newUserAppData = {\n\t\n\t\tgeneral: \n\t\t{\n\t\tprismVersion: (Engine.getVersion())\n\t\t},\n\t\t\n\t\tupdate:\n\t\t{\n\t\tlastUpdateCheck: null\n\t\t},\n\t\t\n\t\tpreferences:\n\t\t{\n\t\tcomponent1:\t\t\t\tPREFERENCES.COMPONENT_1,\n\t\tcomponent1: \t\t\tPREFERENCES.COMPONENT_2,\n\t\tcomponent1: \t\t\tPREFERENCES.COMPONENT_3,\n\t\tbutton_checkForUpdates: PREFERENCES.CHECK_FOR_UPDATES\n\t\t}\n\t};\n\t\n\t// ------------- Return\n\t\n\treturn newUserAppData;\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n//                                                                                                              //\n//                                    SETTINGS - PREFERENCES UI [UI THREAD]                                     //\n//                                                                                                              //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////// FEATURE CALLBACKS ////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\ncomponent1.setControlCallback(on_component1_Control);\ninline function on_component1_Control(component, value) {\n\n\t// Do something.\n}\n\ncomponent2.setControlCallback(on_component1_Control);\ninline function on_component1_Control(component, value) {\n\n\t// Do something.\n}\n\ncomponent3.setControlCallback(on_component1_Control);\ninline function on_component1_Control(component, value) {\n\n\t// Do something.\n}\n\n// Do \"Check for Updates\".\nbutton_checkForUpdates.setControlCallback(on_button_checkForUpdates_Control);\ninline function on_button_checkForUpdates_Control (component, value) {\n\n\t// Only execute after the default preset has loaded, so the callback doesn't execute automatically.\n\tif (StartupComplete())\n\t\n\t\tif (value) {\n\t\t\n\t\t\tUpdateIfNewerVersionAvailable();\n\t\t}\n\t\t\n};\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n//                                                                                                              //\n//                                      UTILITY - UPDATE SUBUNIT [UI THREAD]                                    //\n//                                                                                                              //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////// UPDATE FUNCTION ////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\ninline function EvaluateIfCheckForAppUpdate () {\n\t\n\t// ================================== User Data File Creation Check\n\t\t\n\t// If the preference for checking for updates is true, then check.\n\tif (button_checkForUpdates.getValue()==COMBO_ON) {\n\t\t\n\t\t// Record today's date.\n\t\tlocal dateToday = Date.getSystemTimeISO8601(false).substring(0,8);\n\t\n\t\t// Log.\t\n\t\tConsole.print(\"{Checking when last update comparison was made [\" + g_userAppData.update.lastUpdateCheck + \"] Today [\" + dateToday + \"]}\");\t\n\t\t\t\t\t\t\t\t\t\t\n\t\t// Compare the date (day) of the last update check with today's date (day), or if there was any previous check.\n\t\tif ( (g_userAppData.update.lastUpdateCheck < dateToday) || (g_userAppData.update.lastUpdateCheck == null) ){\n\t\t\t\t\n\t\t\tConsole.print(\"> New version was checked for today [False]\");\n\t\t\t\n\t\t\t// Its been at least one day; check for an update.\n\t\t\tUpdateIfNewerVersionAvailable();\n\t\t\n\t\t} else {  \n\t\t\n\t\t\t// Log.\n\t\t\tConsole.print(\"> New version was already checked for today [True]\");\n\t\t}\n\t}\n\n\t// ================================== Revising the User Data File\n\t\n\tReviseUserDataFile(\"last_update_check\");\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////// UPDATE FUNCTION ////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n// Base-Level Function.\ninline function UpdateIfNewerVersionAvailable () {\n\n\tConsole.print(\"Checking online if new version is available\u2026\");\n\n\t// Let's first check if we can find an internet connection. Because if we can't...\n\tif (Server.isOnline()) {\n\t\t\n\t\t// Clear the Server Controller tile.\n\t\tServer.cleanFinishedDownloads();\n\t\n\t\t// Specify the base URL where we're doing business.\n\t\tServer.setBaseURL(baseUpdateURL);\n\t\t\n\t\t// Clear the HTTP header, in case angry ferrets left data there.\n\t\tServer.setHttpHeader(\"\");\n\t\t\n\t\t// Create the full URL of the data file.\n\t\tlocal updateDataFile = downloadDirectory + dataFileName;\n\t\t\n\t\t// Get the key/value pairs from the online data file and process.\n\t\tServer.callWithGET(updateDataFile, {}, function(status, response) {\n\t\t\n\t\t\t// Ask the server if it's ready to mingle.\n\t\t\tif (status == Server.StatusOK) {\n\t\t\t\n\t\t\t\t// Check if both our keys can be found in the online data file before proceeding.\n\t\t\t\tif (isDefined(response[0].version) && isDefined(response[0].filename)) { \n\t\t\t\t\t\n\t\t\t\t\t// Get the current version string.\n\t\t\t\t\tvar versionString = response[0].version;\n\t\t\t\t\t\n\t\t\t\t\tConsole.print(\"\u2022 V: \" + Engine.getVersion() + \" Remote: \" + versionString);\n\t\t\t\t\t\n\t\t\t\t\t// Compare the currently running app/plugin version with the one from the online data file.\n\t\t\t\t\tif (Engine.getVersion() < versionString) {\n\t\t\t\t\t\n\t\t\t\t\t\t// Get the file name to download from the data file. \n\t\t\t\t\t\treg fileName = response[0].filename;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Ask the user about downloading the current version with a showYesNoWindow.\n\t\t\t\t\t\tEngine.showYesNoWindow (\t\"Update Available\", \n\t\t\t\t\t\t\t\t\t\t\t\t\tdict_YesNoQueries.updateAvailable, \n\t\t\t\t\t\t\t\t\t\t\t\t\tfunction [fileName] (yesResponse) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (yesResponse) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Here, we'll create the full download URL for our payload file.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar downloadURL = baseUpdateURL + downloadDirectory + fileName;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Download it.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tEngine.openWebsite(downloadURL);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t} else {} // The user is running the current version. Nothing to do.\t\n\t\t\t\t\n\t\t\t\t// Couldn't find the key/value pairs in the online data file.\t\t\t\t\t\n\t\t\t\t} else Engine.showMessageBox(\"Auto-update Error\", dict_ErrorMessages.autoUpdateVersionDataNotFound, ICON_TYPE_NONE);\t\t\t\n\t\t\t\n\t\t\t// Server didn't respond with 200 code.\n\t\t\t} else Engine.showMessageBox(\"Auto-update Error\", dict_ErrorMessages.autoUpdateServerNotFound, ICON_TYPE_NONE);\n\t\t});\n\t\t\n\t// Internet connection not found.\n\t} else Engine.showMessageBox( \"Interwebs Not Found\", dict_ErrorMessages.autoUpdateNoInternet, ICON_TYPE_NONE);\n} \n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n//                                                                                                              //\n//                                              SETTINGS [UI Thread]                                            //\n//                                                                                                              //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////// WRITE USER PREFERENCES FUNCTION ////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nbutton_GLOBAL_ChooseOptions_SectionDialog_WriteUserDefaults_GUI.setControlCallback(onbutton_ChooseOptions_SectionDialog_WriteUserDefaults_Control);\ninline function onbutton_ChooseOptions_SectionDialog_WriteUserDefaults_Control(component, value) {\n\t\n\tWriteUserDataFile();\n};\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//////////////////////////////////////// RESTORE USER PREFERENCES FUNCTION ///////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nbutton_GLOBAL_ChooseOptions_SectionDialog_RestoreUserDefaults_GUI.setControlCallback(onbutton_ChooseOptions_SectionDialog_RestoreUserDefauts_Control);\ninline function onbutton_ChooseOptions_SectionDialog_RestoreUserDefauts_Control(component, value) {\n\t\n\t// Replace the current user data object in memory with the one on disk.\n\tlocal userFileExisted = LoadUserDataFile ();\n\t\n\t// Process those values.\n\tSetPreferencesToSafeValues();\n};\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////// RESET PREFERENCES TO SYSTEM DEFAULTS FUNCTION ////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nbutton_GLOBAL_ChooseOptions_SectionDialog_ResetToSystemDefaults_GUI.setControlCallback(on_GLOBAL_ChooseOptions_SectionDialog_ResetToSystemDefaults_Control);\ninline function on_GLOBAL_ChooseOptions_SectionDialog_ResetToSystemDefaults_Control (component, value) {\n\t\n\t// Set the UI component values.\n\tSetPreferencesToSafeValues ();\n\t\n\t// Process the values.\n\tProcessNewPreferenceData ();\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////// ///////////////////// OK FUNCTION //////////////////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nbutton_GLOBAL_ChooseOptions_SectionDialog_OK_GUI.setControlCallback(on_GLOBAL_ChooseOptions_SectionDialog_OK_Control);\ninline function on_GLOBAL_ChooseOptions_SectionDialog_OK_Control (component, value) {\n\t\n\t// Exit the Preferences window.\n}\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Array",
    "category": "Scripting",
    "tags": [
      "API"
    ],
    "description": "\n\nImplements the ScriptAPI Array function. \n\n",
    "code": "Content.makeFrontInterface(600, 600);\n\n\nconst var array = [0, 1, 2, 3];\nConsole.print(trace(array));\n\n\narray.push(4); // add to end of array\nConsole.print(trace(array));\n\n\narray.pushIfNotAlreadyThere(4);\nConsole.print(trace(array));\n\n\narray.insert(1, 9); // insert value at index position\nConsole.print(trace(array));\n\n\narray.pop(); // pop off the last value\nConsole.print(trace(array));\n\n\narray.reverse(); // reverse the array\nConsole.print(trace(array));\n\n\nConsole.print(array.contains(9)); // check if the value is in the list\n\n\narray.remove(2); // remove all intances of value 2\nConsole.print(trace(array));\n\n\narray.removeElement(2); // remove the element at index 2\nConsole.print(trace(array));\n\n\nconst var array2 = [2,4,5];\n\narray.concat(array2); // concatenates two arrays\n\nConsole.print(trace(array));\n\n\narray.sort(); // or sortNatural() // sorts the values\nConsole.print(trace(array));\n\n\narray.map(function(currentValue, index, arr)\n{\n\n});\n\nConsole.print(trace(array));\n\n\narray.find(function(currentValue, index, arr)\n{\n\t \n});\n\nConsole.print(trace(array));\n\narray.clear(); // clears the array\nConsole.print(trace(array));\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Custom Draggable EQ",
    "category": "Scriptnode",
    "tags": [
      "Best Practice",
      "Complex",
      "Featured",
      "Framework",
      "UI Logic"
    ],
    "description": "\nThis example shows how to programmatically build up a custom EQ with scriptnode using the scripting API to create the nodes & connections, and connect it to a draggable filter panel.\n\n> Note that you can compile this network and then load it in a hardcoded FX module with the same functionality!",
    "code": "Content.makeFrontInterface(600, 600);\n\n//! DATA Definitions\n\n// The number of EQ bands. If you need more, just add numbers here...\nconst var DEFAULT_FREQUENCIES = [400, 1000, 8000]\n\nconst var NUM_FILTER_BANDS = DEFAULT_FREQUENCIES.length;\n\n// The value range & default parameters of each band. This will be used\n// by the node builder below to create the scriptnode EQ modules\nconst var BAND_PARAMETERS = {\n    Gain: {\n\t    min: -18.0,\n\t    max: 18.0,\n\t    defaultValue: 0.0,\n\t    mode: \"Decibel\"\n    },\n    Frequency: {\n\t    min: 20.0,\n\t    max: 20000.0,\n\t    middlePosition: 1500.0,\n\t    defaultValue: 1000.0,\n\t    mode: \"Frequency\"\n    },\n    Q: {\n\t    min: 0.3,\n\t    max: 9.9,\n\t    middlePosition: 1.0,\n\t    defaultValue: 1.0\n    },\n    Enabled: {\n\t    min: 0.0,\n\t    max: 1.0,\n\t    stepSize: 1.0,\n\t    defaultValue: 0.0\n    },\n    Mode: {\n\t    min: 0.0,\n\t    max: 4.0,\n\t    stepSize: 1.0,\n\t    defaultValue: 4.0 // peak\n    }\n};\n\n\n\n// This JSON defines how the module's attributes are correlated to the filter's\n// parameters (so that the dragging operations know what parameters to change & update from).\n// Note that the only limitation here is to have a fixed number of bands -\n// the only module that allows dynamically adding & removing filters is the Curve EQ\nconst var CUSTOM_EQ_DATA = {\n  NumFilterBands: NUM_FILTER_BANDS, \n  FilterDataSlot: 0, // the coefficients are using the slot #1\n  FirstBandOffset: 0, // the first parameter for the eq is 0 (in this case B1G)\n  TypeList: [\n    \"Low Pass\", // We're mirroring the exact filter modes & order from the Parametriq EQ\n    \"High Pass\",\n    \"Low Shelf\",\n    \"High Shelf\",\n    \"Peak\"\n  ],\n  ParameterOrder: [\n    \"Gain\", // Same with the parameter order\n    \"Freq\",\n    \"Q\",\n    \"Enabled\",\n    \"Type\"\n  ],\n  FFTDisplayBufferIndex: -1, // no FFT analyser for our example\n  DragActions: {\n    DragX: \"Freq\",\n    DragY: \"Gain\", // this updates the gain when you drag vertically\n    ShiftDrag: \"Q\", // (for a filter with a single band you can reroute this to Q)\n    DoubleClick: \"\", // By default this is set to change the Enabled parameter, but we don't want that (see below)\n    RightClick: \"\"\n  }\n};\n\n// this is the data we'll pass into the floating tile.\nconst var FT_DATA = {\n\tType: \"DraggableFilterPanel\",\n\tProcessorId: \"Script FX1\",\n\tAllowFilterResizing: false, // no resizing\n\tResetOnDoubleClick: true, // if you want to reset the band on double click, set this to true and the \"DoubleClick\" parameter in the DragActions property above to an empty string (so that it doesn't hardwire the action to the Enabled parameter).\n\tPathType: \"FillMinimal\" // use another path render type because why not...\n};\n\n// get the reference as FX\nconst var fx = Synth.getEffect(\"Script FX1\");\n// get the reference as slot\nconst var slot = Synth.getSlotFX(\"Script FX1\");\n\n//! Node BUILDER\n// Now we will use the Scriptnode API to dynamically create all nodes\n// and hook up the connections. Since this is a very tedious process if\n// done manually it is a prime example for when and how to use the scripting\n// API for this...\n\n// create an internal network\nconst var network = slot.setEffect(\"eq\");\n\n// reset the network on each compilation to ensure that there is nothing lurking around\nnetwork.clear(true, true);\n\n// grab the root node\nconst var rootNode = network.get(\"eq\");\n\n// set it to horizontal mode (so that all eqs are arranged horizontally)\nrootNode.set(\"IsVertical\", false);\nrootNode.set(\"ShowParameters\", true);\n\nfor(i = 0; i < NUM_FILTER_BANDS; i++)\n{\n\t// create a SVF filter node\n\tvar eq = network.create(\"filters.svf_eq\", \"B\" + (i+1));\n\t\n\t// add it to the root node\n\teq.setParent(\"eq\", -1);\n\t\n\tfor(bp in BAND_PARAMETERS)\n\t{\n\t\t// Now we create the JSON data for the root node parameters\n\t\tvar bpn = \"B\"+(i+1) + bp;\n\n\t\t// We need to clone that object so that it doesn't override the reference\n\t\tvar pobj = BAND_PARAMETERS[bp].clone();\n\t\t\n\t\tif(bp == \"Frequency\")\n\t\t\tpobj.defaultValue = DEFAULT_FREQUENCIES[i];\n\t\t\n\t\t// set the ID to the parameter name\n\t\tpobj.ID = bpn;\n\t\t\n\t\t// create the root parameter\n\t\tvar src = rootNode.getOrCreateParameter(pobj);\n\t\t\n\t\t// fetch the parameter from the SVF EQ node\n\t\tvar dst = eq.getParameter(bp);\n\t\t\n\t\t// connect the parameters\n\t\tdst.addConnectionFrom({\n\t\t\tID: \"eq\",\n\t\t\tParameterId: bpn\n\t\t});\n\t\t\n\t\t// make sure that there is no subtle range mismatch (aka warning button)\n\t\tsrc.setRangeFromObject(dst.getRangeObject());\n\t}\n\t\n\t// set the eq node to use the first filter data slot.\n\teq.setComplexDataIndex(\"Filter\", 0, 0);\n}\n\n// Now we pass the draggable filter data to the scriptnode module\nfx.setDraggableFilterData(CUSTOM_EQ_DATA);\n\nconst var ft = Content.addFloatingTile(\"FD\", 0, 0);\n\nft.set(\"width\", 600);\nft.set(\"height\", 300);\n\n// Last but not least, give the floating tile the JSON data we defined above\nft.setContentData(FT_DATA);\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Continuous Per-Event Modulation",
    "category": "Scriptnode",
    "tags": [
      "Broadcaster",
      "Complex",
      "Internal Messaging"
    ],
    "description": "\nSets up HISEs Event system for continuous per-event modulation in a detunable Scriptnode Synth. There is a lot to learn about HISE advanced features.\n\n\nby aaronventure\n\n[Forum Topic](https://forum.hise.audio/topic/9645/the-missing-piece-of-the-hise-vi-puzzle-continuous-per-event-modulation)",
    "code": "Content.makeFrontInterface(600, 600);\n\n// Makes the note on, note off, timer, controller callbacks non-realtime\n// This is only useful if we're gonna use these callbacks to affect the interface\nSynth.deferCallbacks(true);\n\n// Our global event that we can access from anywhere\n// Because HISE doesn't destroy global variables on F5 compile, it's easy to get them working when declared anywhere\n// But for export they should always be declared first\nglobal Event = {};\n\n// Create an array for storing note ids. \n// Reserve the space because dynamic array resizing is unnecessarily expensive and should be avoided at all costs in realtime operations\nEvent.noteIds = []; \nEvent.noteIds.reserve(128);\n\n// We need more than one event per note so we're creating 128 arrays inside our main id array, each with 32 slots\nfor (i = 0; i<128; i++)\n{\n\tEvent.noteIds[i] = [];\n\tEvent.noteIds[i].reserve(32);\n}\n\n// Here we can be storing our control values for global access\nglobal ControlValue = {};\n\n// ======================================\n\n// We will use this to store event related data\nconst globalRouting = Engine.getGlobalRoutingManager();\n\n// ======================================\n\n\n// Broadcaster definition\nconst var valueChangeBroadcaster = Engine.createBroadcaster({\n  \"id\": \"valueChangeBroadcaster\",\n  \"args\": [\"component\", \"value\"],\n  \"tags\": []\n});\n\n// We don't want to miss any value changes\nvalueChangeBroadcaster.setEnableQueue(true);\n\n// Since we're gonna be using the global values in the realtime callback, let's make sure that they really are what the UI is showing\nvalueChangeBroadcaster.setForceSynchronousExecution(true);\n\ninline function attachValueChangeBroadcaster(component)\n{\n\tvalueChangeBroadcaster.attachToComponentValue([component], \"\"); \n}\n\n// This function will execute every time an attached component's value changes\nvalueChangeBroadcaster.addListener(false, \"Globalize Value\", function(component, value)\n{\n\tControlValue[component.get(\"id\")] = value;\n});\n\n// ======================================\n\ninline function setEventDetune(voiceNum, value)\n{\n\tlocal i = 0;\n\t\t\n\t// check all notes\n\tfor (i in Event.noteIds)\n\t{\n\t\t// if a note is playing i.e. id exists and isn't -1, which we set in note off\n\t\tif (isDefined(i[voiceNum]) && i[voiceNum] != -1)\n\t\t{\n\t\t\t// set the target detune\n\t\t\t// this is present in the scriptnode synth and affects the tuning\n\t\t\tglobalRouting.setEventData(i[voiceNum], 0, value);\n\t\t}\n\t}\n}\n\n\nconst detune1 = Content.addKnob(\"detune1\", 0, 0);\nContent.setPropertiesFromJSON(\"detune1\", \n{\n\t\"min\": -100,\n\t\"max\": 100,\n}); \n\n// attach to the value change broadcaster so that we don't have to manually copy the function into each control callback\n// this scales very well as it can be added to a control helper function and you can then forget about it\nattachValueChangeBroadcaster(detune1);\n\ninline function ondetune1Control(component, value)\n{\n\tsetEventDetune(0, value);\n};\n\nContent.getComponent(\"detune1\").setControlCallback(ondetune1Control);\n\n\n// Detune 2\nconst detune2 = Content.addKnob(\"detune2\", 200, 0);\nContent.setPropertiesFromJSON(\"detune2\", \n{\n\t\"min\": -100,\n\t\"max\": 100,\n}); \nattachValueChangeBroadcaster(detune2);\n\ninline function ondetune2Control(component, value)\n{\n\tsetEventDetune(1, value);\n};\n\nContent.getComponent(\"detune2\").setControlCallback(ondetune2Control);\n\n \nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Karplus Strong",
    "category": "Scriptnode",
    "tags": [
      "Featured"
    ],
    "description": "\nThis snippet contains a scriptnode network that implements a simple Karplus Strong algorithm to create a plucked sound. While the sound itself is nothing to write home about, it features many of the new HISE 5.0 features, including:\n\n- polyphonic feedback routing\n- pitch modulation through HISE modulators\n- connection between scriptnode parameters & HISE modulation chains for modulating custom parameters\n\nThe CPU performance of this patch is a bit high but if you compile the network and load it into a Hardcoded Synthesiser, it will be much lower.",
    "code": "Content.makeFrontInterface(600, 600);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Simple Drum Synthesiser",
    "category": "Scriptnode",
    "tags": [
      "Best Practice",
      "Complex"
    ],
    "description": "\nThis snippet contains a simple bass drum synthesiser in scriptnode with these features:\n\n- pitch amount (+ 4 octaves)\n- pitch decay\n- amp decay\n- oscillator type\n\nIt also demonstrates how to use the `recorder` node to create a waveform preview of the drum synth.",
    "code": "Content.makeFrontInterface(600, 600);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "SNEX Oneshot Player",
    "category": "Scriptnode",
    "tags": [
      "Complex",
      "Framework",
      "SNEX"
    ],
    "description": "\nThis snippet implements a one-shot player node using SNEX that fully plays a sample from start to finish. It also uses the voice management tools in HISE to automatically stop the voice when the sample is done.\n\nThis is a rather advanced snippet that can be used as a starting point for further customizations. There is a [forum topic](https://forum.hise.audio/topic/9592/add-loop-on-off-toggle-input-parameter-to-the-file_player-stretch-player-scriptnodes) that can be used for discussing about this snippet.",
    "code": "Content.makeFrontInterface(300, 100);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Dynamic voice routing",
    "category": "Scriptnode",
    "tags": [
      "Simple"
    ],
    "description": "\nThis example shows how to dynamically route a voice output to different channels.\n\nIn this case it sends notes with velocity > 64 into a delay FX but it can be used for all kinds of different voice routing logic.\n\nIt also demonstrates how to use the Silent Synth sound generator in combination with a polyphonic script FX to implement a multichannel scriptnode synthesiser that can be compiled into a C++ node.",
    "code": "Content.makeFrontInterface(600, 600);\n\nconst var rm = Engine.getGlobalRoutingManager();\n\n\nfunction onNoteOn()\n{\n\trm.setEventData(Message.getEventId(), 3, Message.getVelocity() > 64 ? 1.0 : 0.0);\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Faust Zita Reverb",
    "category": "Scriptnode",
    "tags": [
      "Faust",
      "Simple"
    ],
    "description": "For ease of development, enable the \"Faust external editor\" in the settings, create a new file in the faust node and get started:\n\n[https://faustdoc.grame.fr/manual/quick-start/](https://faustdoc.grame.fr/manual/quick-start/)",
    "code": "Content.makeFrontInterface(600, 100);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Neural Network Sine Generator",
    "category": "Scriptnode",
    "tags": [],
    "description": "\nThis snippet loads a very basic neural network that is generating a sine wave from a ramp (sawtooth). \n\nIt requires HISE to be built with the RTNeural framework to enable real time inferencing...",
    "code": "Content.makeFrontInterface(600, 600);\n\n\n\n// We need to create & initialise the network via script, the scriptnode node will then reference\n// the existing network\nconst var nn = Engine.createNeuralNetwork(\"Sine\");\n\n// This contains the JSON data from `Scripts/Python/sine_model.json`\nconst var obj = {\"layers\": \"SineModel(\\n  (network): Sequential(\\n    (0): Linear(in_features=1, out_features=8, bias=True)\\n    (1): Tanh()\\n    (2): Linear(in_features=8, out_features=4, bias=True)\\n    (3): Tanh()\\n    (4): Linear(in_features=4, out_features=1, bias=True)\\n  )\\n)\", \"weights\": {\"network.0.weight\": [[1.046385407447815], [1.4178084135055542], [0.9530450105667114], [1.1184123754501343], [-2.0036938190460205], [1.4853519201278687], [-1.323277235031128], [-1.4824397563934326]], \"network.0.bias\": [-0.44855356216430664, -1.284180760383606, 1.995141625404358, -1.0365474224090576, 0.29263046383857727, 0.47701799869537354, 0.3244697153568268, 0.4108103811740875], \"network.2.weight\": [[-1.7912973165512085, -0.3762974143028259, -0.3934035897254944, 0.15961132943630219, 0.5510663390159607, -1.115586280822754, 0.678738534450531, 1.3274309635162354], [0.34134334325790405, 1.8660730123519897, -0.21752844750881195, 2.568317174911499, 0.37973126769065857, -0.18469078838825226, 0.04422684758901596, -0.0883311927318573], [0.3113365173339844, 0.8516308069229126, -0.6042391061782837, 0.9669480919837952, -1.354665994644165, 0.12340979278087616, -1.171357274055481, -0.9616029858589172], [-0.5073869824409485, -0.7385743856430054, 0.31184449791908264, -0.9642266035079956, 1.899434208869934, -0.14977189898490906, 1.6841320991516113, 0.895214855670929]], \"network.2.bias\": [-0.6971003413200378, 0.3228396475315094, -0.6209602355957031, 0.18162713944911957], \"network.4.weight\": [[-0.9233435988426208, 1.1081478595733643, -0.8966623544692993, 0.394584596157074]], \"network.4.bias\": [0.06727132201194763]}};\n\n// load the sine wave approximator network\nnn.loadPytorchModel(obj);\n\n// Now head over to the Scriptnode Synthesiser where this model is used by the math.neural node...\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Ping Pong Delay",
    "category": "Scriptnode",
    "tags": [
      "\"\""
    ],
    "description": "\nA ScriptNode network that ping-pongs the signal. You can xfade the effect with the WET parameter. ",
    "code": "Content.makeFrontInterface(600, 600);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Scriptnode Oscillator Visualisation",
    "category": "Scriptnode",
    "tags": [
      "Graphics API",
      "ScriptPanel",
      "UI Logic"
    ],
    "description": "\nThis snippet shows how to connect a scriptnode oscillator to a external display buffer and use it to create the waveform display on the script interface.",
    "code": "Content.makeFrontInterface(200, 200);\n\n// Make sure to set the display buffer of the oscillator to the first slot\nconst var dps = Synth.getDisplayBufferSource(\"Script FX1\");\n\n// Grab a reference to the display buffer\nconst var dp = dps.getDisplayBuffer(0);\n\nconst var Panel1 = Content.getComponent(\"Panel1\");\n\nPanel1.setTimerCallback(function()\n{\n\t// this creates a path from the current buffer content\n\tthis.data.p = dp.createPath(\n\t\t\t\t    this.getLocalBounds(10), // target area [x, y, width, height]\n\t\t\t\t    [0, -1, -1.0, 1.0], // source area [startSample, endSample, minYValue, maxYValue]\n\t\t\t\t    0.0 // starting position\n\t\t\t\t  );\n\tthis.repaint();\n});\n\nPanel1.startTimer(30);\n\n\nPanel1.setPaintRoutine(function(g)\n{\n\tg.setColour(Colours.white);\n\n\tif(isDefined(this.data.p))\n\t\tg.fillPath(this.data.p, this.getLocalBounds(10));\n});\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Scriptnode Visualisation 101",
    "category": "Scriptnode",
    "tags": [
      "Best Practice",
      "ScriptPanel",
      "UI Logic"
    ],
    "description": "\n\n\nThis snippet shows the two most convenient options for displaying any signal from within a \nScriptnode network onto your UI. \n\nThere are of course many other options with increasing hackiness, \nbut these two solutions should be preferred unless your specific project requires another solution.",
    "code": "/** Scriptnode Visualisation 101\n\n\nIf you need a full 2D plot of the signal, use Option 1.\n\nIf you only need a one-dimensional value that shows the current value \n(for stuff like mod-rings around a knob or VU meters), I would suggest Option 2. \n\nThe scriptnode network here is just a mod chain with a slow LFO that is fed \ninto a peak node and a global_cable node.\n*/\n\nContent.makeFrontInterface(220, 50);\n\n// Option 1: Use external display buffers\n// ==============================================================================\n\n// Get the script FX module as the display buffer source\nconst var dp = Synth.getDisplayBufferSource(\"Script FX1\");\n\n// Get the first external display buffer (in our case the peak node that we set \n// to be the External Display Buffer #1)\nconst var rb = dp.getDisplayBuffer(0);\n\nconst var BUFFER_LENGTH = 16384;\n\n// These are the properties that you can give the peak meter\n// NumChannels must be 1, but you can set another buffer length for the display\nconst var properties = {\n  \"BufferLength\": BUFFER_LENGTH,\n  \"NumChannels\": 1\n};\n\n// This will override the default properties of the node. You can use the same\n// procedure to customize the FFT properties too (like Window type, etc).\nrb.setRingBufferProperties(properties);\n\n// Now let's add a simple panel for displaying the signal\nconst var P1 = Content.addPanel(\"P1\", 0, 0);\n\n// We need to periodically query the ring buffer to create a signal path\n// so we use the panel's timers for this.\nP1.setTimerCallback(function()\n{\n\t// The autocomplete fails somehow with supplying you the methods,\n\t// but you can look in the API Browser under ScriptRingBuffer\n\t// This method creates a path object to mirror the peak display.\n\tthis.data.buffer = rb.createPath(this.getLocalBounds(0), // area\n\t\t\t\t\t\t\t\t\t [0, BUFFER_LENGTH, 0, 1.0], // [x_start, x_end, y_min, y_max]\n\t\t\t\t\t\t\t\t\t 0.0 // start value (the initial value at position 0)\n\t\t\t\t\t\t\t\t\t );\n\tthis.repaint();\n});\n\nP1.startTimer(30);\n\nP1.setPaintRoutine(function(g)\n{\n\tg.fillAll(0x22FFFFFF);\n\tg.setColour(Colours.white);\n\tg.fillPath(this.data.buffer, this.getLocalBounds(0));\n});\n\n\n// Option 2: Use global cables\n// ================================================================================\n\n// Create a reference to the global routing manager\nconst var rm = Engine.getGlobalRoutingManager();\n\n// Create a reference to the global cable we want to visualize\nconst var mc = rm.getCable(\"mod_output\");\n\n// Add another panel. This will just display a circle with the alpha value modulated\n// by the cable output. You can use this as starting point for VU meters, or LED thingies...\nconst var P2 = Content.addPanel(\"P2\", 110, 0);\n\n// Now instead of the timer we use the asynchronous UI callback provided by the cable.\nmc.registerCallback(function(value)\n{\n\t// Write the value into the data object and repaint the panel\n\tP2.data.value = value;\n\tP2.repaint();\n}, AsyncNotification);\n\nP2.setPaintRoutine(function(g)\n{\n\tg.fillAll(0x22FFFFFF);\n\tg.setColour(Colours.withAlpha(Colours.white, this.data.value));\n\t// Rawdogging the area like a pro...\n\tg.fillEllipse([25, 0, 50, 50]);\t\n});\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Scriptnode Voice Management",
    "category": "Scriptnode",
    "tags": [
      "Simple"
    ],
    "description": "\nA simple scriptnode synthesiser example that shows how to manage voices from an envelope inside the synthesiser network.",
    "code": "Content.makeFrontInterface(600, 600);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Sidechain Example 1",
    "category": "Scriptnode",
    "tags": [],
    "description": "\nAn example how to use the [container.sidechain](https://docs.hise.audio/scriptnode/list/container/sidechain.html) node to implement a sidechain compressor.\n\nThis example uses a synthpad as sound that is compressed using a kick drum from within the DSP network.",
    "code": "Content.makeFrontInterface(600, 600);\n\nFileSystem.loadExampleAssets();\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Sidechain Example 2",
    "category": "Scriptnode",
    "tags": [],
    "description": "\nThis sidechain example uses an arpeggiated synth to control the compressor of the pad synth from the first example.\n\nThe routing is a bit more complex but with this setup you can route almost any signal into the sidechain channel of the compressor.",
    "code": "Content.makeFrontInterface(600, 600);\n\nFileSystem.loadExampleAssets();\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "SNEX Bufferstop",
    "category": "Scriptnode",
    "tags": [
      "SNEX"
    ],
    "description": "\n\n\nA audio effect that simulates the stopping of a tape machine (or turntable).\n\nImplemented as thoroughly documented SNEX node.",
    "code": "Content.makeFrontInterface(500, 100);\n\nSynth.deferCallbacks(false);\n\nconst var Button1 = Content.getComponent(\"Button1\");\n\n\nfunction onNoteOn()\n{\n\tConsole.print(Message.getNoteNumber());\n\t\n\tif(Message.getNoteNumber() == 84)\n\t{\n\t\tMessage.ignoreEvent(true);\n\n\t\tButton1.setValue(1);\n\t\tButton1.changed();\n\t}\n\t\t\n\t\t\n}\n \nfunction onNoteOff()\n{\n\tif(Message.getNoteNumber() == 84)\n\t{\n\t\tMessage.ignoreEvent(true);\n\n\t\tButton1.setValue(0);\n\t\tButton1.changed();\n\t}\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "SNEX One pole filter",
    "category": "Scriptnode",
    "tags": [
      "LookAndFeel",
      "SNEX"
    ],
    "description": "\n\n\nThis example patch contains a implementation of a one pole filter in SNEX and shows how to use the getPlotValue() API callback to create a custom filter curve.\n\nAs a bonus level it shows the filter graph with a custom LAF on the interface.",
    "code": "Content.makeFrontInterface(300, 200);\n\nconst var filter_laf = Content.createLocalLookAndFeel();\n\nContent.getComponent(\"FloatingTile1\").setLocalLookAndFeel(filter_laf);\n\nfilter_laf.registerFunction(\"drawFilterPath\", function(g, obj)\n{\n\tg.setColour(Colours.white);\n\tg.drawRect(obj.area, 2.0);\n\tg.drawPath(obj.path, obj.pathArea, 3.0);\n\tg.addDropShadowFromAlpha(Colours.withAlpha(Colours.red, 0.5), 5);\n});\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "SNEX Portamento Oscillator",
    "category": "Scriptnode",
    "tags": [
      "Best Practice",
      "First contact",
      "SNEX"
    ],
    "description": "\nA scriptnode network with a SNEX node that implements a very basic monophonic synthesiser (a noise on the left channel and a sine wave on the right channel).\n\n",
    "code": "Content.makeFrontInterface(600, 600);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "SNEX Velocity Modulator",
    "category": "Scriptnode",
    "tags": [
      "Best Practice",
      "First contact",
      "SNEX"
    ],
    "description": "\nThis example shows how to use a SNEX node to create a modulation signal that can control other targets.\n\nIt also shows how to use external data objects (in this case a Table) with proper thread synchronization and access.",
    "code": "Content.makeFrontInterface(600, 600);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Stereo Audio Recorder",
    "category": "Scriptnode",
    "tags": [],
    "description": "\nThis snippet implements a stereo audio recorder\n\nThe final audio data is written to a file and loaded into an Audio Loop Player\n\n\n@ustk \n\n[Forum Entry](https://forum.hise.audio/topic/11131/snippet-stereo-audio-recorder)",
    "code": "Content.makeFrontInterface(400, 300);\n\n/*\n\tThis snippet implements a stereo audio recorder\n\tThe final audio file is written to a file and loaded into an Audio Loop Player\n*/\n\nconst var ScriptFX1 = Synth.getAudioSampleProcessor(\"Script FX1\");\nconst var afSlot = ScriptFX1.getAudioFile(0);\n\nconst var Record = Content.getComponent(\"Record\");\n\n\nglobal g_record = false; // the processBlock is waiting for this flag\nglobal g_accumulator = []; // will be reserved for a 30sec length in prepareToPlay to prevent allocating too much in the audio thread (at least for 30sec...)\n\n\n\ninline function onRecordControl(component, value)\n{\n\tg_record = value;\n\t\n\tif (value)\n\t{\n\t\tSynth.addNoteOn(1, 64, 64, 0);\n\t\tSynth.addNoteOff(1, 64, 10000);\n\t\t\n\t\treturn;\n\t}\n\tConsole.startBenchmark();\n\t\n\t// no need to create a file at compile time...\n\tif (g_accumulator.length > 0)\n\t\treconstructFromAccumulator();\n\t\t\n\tConsole.stopBenchmark();\n\t\n};\n\nContent.getComponent(\"Record\").setControlCallback(onRecordControl);\n\n\n\n\ninline function reconstructFromAccumulator()\n{\n\t// The length of the final audio file\n\tlocal s = g_accumulator.length * Engine.getBufferSize();\n\t\n\t// prepare a stereo buffer holder\n\tlocal audioDataStereo = [Buffer.create(s), Buffer.create(s)];\n\t\n\t// iterate over the stereo accumulator\n\tfor (st in g_accumulator)\n\t{\n\t\tlocal st_idx = g_accumulator.indexOf(st); // index of the current blockSize buffer stereo array\n\t\t\n\t\t// pair of buffers\n\t\tfor (b in st)\n\t\t{\n\t\t\tlocal b_idx = st.indexOf(b); // so left/right\n\t\t\t\n\t\t\t// we take a slice reference of the buffer we want to write into (accumulator left or right, from sample idx, numSamples).\n\t\t\tlocal tempBuffer = Buffer.referTo(audioDataStereo[b_idx], st_idx * b.length, b.length);\n\t\t\t\n\t\t\tb >> tempBuffer; // here we write in the reference slice so it gets \"copied\" to the audioDataStereo buffer automatically\n\t\t}\n\t}\n\t\n\t// clean for next time\n\tg_accumulator.clear();\n\t\n\texportAndLoadAudioFile(audioDataStereo);\n}\n\n\n\ninline function exportAndLoadAudioFile(audioData)\n{\n\t// append the timestamp to filename to get a unique file\n\tlocal filename = \"HISE_Rec_\" + Date.getSystemTimeMs() + \".wav\";\n\t\n\t// prepare and write the audio file in the project folder\n\tlocal f = FileSystem.getFolder(FileSystem.AudioFiles).getChildFile(filename);\n\tf.writeAudioFile(audioData, Engine.getSampleRate(), 24);\n\t\n\t// inform there's a new file\n\tEngine.loadAudioFilesIntoPool();\n\t\n\t// load\n\tif (f.isFile())\n\t\tafSlot.loadFile(\"{PROJECT_FOLDER}\" + f.toString(f.Filename));\n}\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Stereo Widener",
    "category": "Scriptnode",
    "tags": [
      "\"\""
    ],
    "description": "\n\nStereo Width control with using ms_decode & ms_encode nodes.\n",
    "code": "Content.makeFrontInterface(600, 600);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "SNEX Saturation",
    "category": "Scriptnode",
    "tags": [],
    "description": "\n\nThis snippet implements the HISE saturation effect using a SNEX shaper node. \n\nIt also introduces two inbuilt objects from the SNEX API:\n\n- `sfloat` which is a smoothed float value that can be used to remove the zipper effect at parameter changes\n- `index::unsafe` which is a custom index type used for accessing array elements without bound checks.",
    "code": "Content.makeFrontInterface(600, 600);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Modwheel and Pitchwheel UI components",
    "category": "UI",
    "tags": [
      "Best Practice",
      "Graphics API",
      "UI Logic"
    ],
    "description": "\nA snippet that implements a modwheel and pitch bend UI component. It reacts to incoming MIDI messages and also sends out the MIDI values to control the internal engine.\n\n> Note that this doesn't work with MIDI assignments via the MIDI learn popup as they require \"real\" MIDI events from the outside world.\n\n",
    "code": "Content.makeFrontInterface(300, 100);\n\n// Don't want this to derail our audio performance...\nSynth.deferCallbacks(true);\n\nconst var MODWHEEL_LAF = Content.createLocalLookAndFeel();\n\nMODWHEEL_LAF.registerFunction(\"drawRotarySlider\", function(g, obj)\n{\n\t/// for a slider size 20x60\n\n\t//Console.print(trace(obj));\n\t\n    var x = 5; // 1/4 of the slider width.  Useful if you change the width\n    var wheelWidth = 10;  //  Width of the actual wheel.  This leaves 5px of space either side.\n    var a = obj.area;\n    \n    // Value to use for the movement of the horizontal lines / wheel and create padding top and bottom\n    \n\tvar totalTravel = 51;  // total movement of the handle, less top padding\n\tvar bottomPad = 2;     // prevent handle reaching bottom\n\tvar v = (obj.value * totalTravel) + bottomPad;\n    // var v = ((obj.value / 16383) * totalTravel) + bottomPad;  // PitchWheel calc which has range of 0-16383\n    \n    var numLines = 60; // number of horizontal lines\n    var lineSpacing = 2; // distance between lines\n\n\tvar bgColour = 0xFB080910; // Background Colour\n\tvar wheelColour = 0xFF0F7691;  // The colour of the Wheel itself\n\tvar shadeColour = 0xFF0B0925;  // Dark shading colour\n\tvar lightColour = 0x38FFFFFF;  // Lighting effect colour\n\t\n    // Background Fill\n    g.setColour(bgColour);\n    g.fillRect(obj.area);\n\n    // Wheel Background to be dark\n    g.setColour(Colours.black);\n    g.fillRect([x, 0, wheelWidth, a[3]]);\n\t\n\t// Wheel Sides\n\tg.setColour(0xFB24252B);  // Dark Grey\n\tg.drawVerticalLine(3, 0, 60);\n\tg.drawVerticalLine(16, 0, 60);\n\n    // Draw the ModWheel lines\n    \n    g.setColour(wheelColour);\n\n    for (var i = 0; i < numLines; i++)\n    {\n        var y = (2 * i) - v;  \n        g.drawHorizontalLine(y, x, wheelWidth + x);\n    }\n    \n    // Handle Background - fill in the odd numbered lines to make the handle\n\tg.setColour(wheelColour);\n\n\tg.drawHorizontalLine(53 - v, x, wheelWidth + x); \n\tg.drawHorizontalLine(55 - v, x, wheelWidth + x); \n\tg.drawHorizontalLine(57 - v, x, wheelWidth + x); \n\tg.drawHorizontalLine(59 - v, x, wheelWidth + x);\n\t\n\t// White Handle Bar if you want it under the Lighting Gradients\n\t\n    //  g.setColour(Colours.white);\n    //  g.drawHorizontalLine(56 - v, x + 2, width - 2);\n\n    // Gradient Overlay (top & bottom shading and lighting)\n    \n    g.setGradientFill([0xFF181515, 6, 0, 0x00000000, 6, 15]); // Shade Top\n    g.fillRect(obj.area);\n    \n    g.setGradientFill([0x00000000, 6, 30, shadeColour, 6, 60]); // Shade Bottom\n    g.fillRect(obj.area);\n    \n    g.setGradientFill([0x00000000, 6, 0,lightColour, 6, 15]); // Light Top\n    g.fillRect([x, 0, wheelWidth, 15]);\n    \n    g.setGradientFill([lightColour, 6, 15, 0x00000000, 6, 40]);  // Light a little further down\n    g.fillRect([x, 15, wheelWidth, 30]); \n    \n    // White Handle Bar if you want it on top of the Lighting Gradients\n    \n    g.setColour(Colours.white);\n    g.drawHorizontalLine(56 - v, x - 1, wheelWidth + x + 1); \n    \n    // Black Box Surround, unaffected by lighting effects\n    g.setColour(Colours.black);\n    g.drawRect(a, 1);\n   \n    \n});\n\ninline function onModWheel(component, value)\n{\n\tSynth.sendController(1, value * 127);\n}\n\nconst var MODWHEEL = Content.getComponent(\"MODWHEEL\")\n\nMODWHEEL.setControlCallback(onModWheel);\nMODWHEEL.setLocalLookAndFeel(MODWHEEL_LAF);\n\nconst var PITCHWHEEL_LAF = Content.createLocalLookAndFeel();\n\nPITCHWHEEL_LAF.registerFunction(\"drawRotarySlider\", function(g, obj)\n{\n\t/// for a slider size 20x60\n\n\t//Console.print(trace(obj));\n\t\n    var x = 5; // 1/4 of the slider width.  Useful if you change the width\n    var wheelWidth = 10;  //  Width of the actual wheel.  This leaves 5px of space either side.\n    var a = obj.area;\n    \n    // Value to use for the movement of the horizontal lines / wheel and create padding top and bottom\n    \n\tvar totalTravel = 51;  // total movement of the handle, less top padding\n\tvar bottomPad = 2;     // prevent handle reaching bottom\n    var v = ((obj.value / 16383) * totalTravel) + bottomPad;  // PitchWheel calc which has range of 0-16383\n    \n    var numLines = 60; // number of horizontal lines\n    var lineSpacing = 2; // distance between lines\n\n\tvar bgColour = 0xFB080910; // Background Colour\n\tvar wheelColour = 0xFF0F7691;  // The colour of the Wheel itself\n\tvar shadeColour = 0xFF0B0925;  // Dark shading colour\n\tvar lightColour = 0x38FFFFFF;  // Lighting effect colour\n\t\n    // Background Fill\n    g.setColour(bgColour);\n    g.fillRect(obj.area);\n\n    // Wheel Background to be dark\n    g.setColour(Colours.black);\n    g.fillRect([x, 0, wheelWidth, a[3]]);\n\t\n\t// Wheel Sides\n\tg.setColour(0xFB24252B);  // Dark Grey\n\tg.drawVerticalLine(3, 0, 60);\n\tg.drawVerticalLine(16, 0, 60);\n\n    // Draw the ModWheel lines\n    \n    g.setColour(wheelColour);\n\n    for (var i = 0; i < numLines; i++)\n    {\n        var y = (2 * i) - v;  \n        g.drawHorizontalLine(y, x, wheelWidth + x);\n    }\n    \n    // Handle Background - fill in the odd numbered lines to make the handle\n\tg.setColour(wheelColour);\n\n\tg.drawHorizontalLine(53 - v, x, wheelWidth + x); \n\tg.drawHorizontalLine(55 - v, x, wheelWidth + x); \n\tg.drawHorizontalLine(57 - v, x, wheelWidth + x); \n\tg.drawHorizontalLine(59 - v, x, wheelWidth + x);\n\t\n\t// White Handle Bar if you want it under the Lighting Gradients\n\t\n    //  g.setColour(Colours.white);\n    //  g.drawHorizontalLine(56 - v, x + 2, width - 2);\n\n    // Gradient Overlay (top & bottom shading and lighting)\n    \n    g.setGradientFill([0xFF181515, 6, 0, 0x00000000, 6, 15]); // Shade Top\n    g.fillRect(obj.area);\n    \n    g.setGradientFill([0x00000000, 6, 30, shadeColour, 6, 60]); // Shade Bottom\n    g.fillRect(obj.area);\n    \n    g.setGradientFill([0x00000000, 6, 0,lightColour, 6, 15]); // Light Top\n    g.fillRect([x, 0, wheelWidth, 15]);\n    \n    g.setGradientFill([lightColour, 6, 15, 0x00000000, 6, 40]);  // Light a little further down\n    g.fillRect([x, 15, wheelWidth, 30]); \n    \n    // White Handle Bar if you want it on top of the Lighting Gradients\n    \n    g.setColour(Colours.white);\n    g.drawHorizontalLine(56 - v, x - 1, wheelWidth + x + 1); \n    \n    // Black Box Surround, unaffected by lighting effects\n    g.setColour(Colours.black);\n    g.drawRect(a, 1);\n   \n    \n});\n\ninline function onPitchWheel(component, value)\n{\n\tSynth.sendController(Message.PITCH_BEND_CC, value);\n}\n\nconst var PITCHWHEEL = Content.getComponent(\"PITCHWHEEL\");\n\nPITCHWHEEL.setLocalLookAndFeel(PITCHWHEEL_LAF);\nPITCHWHEEL.setControlCallback(onPitchWheel);\n\n/// AUTO-RETURN PITCHWHEEL TO MIDDLE POSITION - OPTIONAL.  THANKS TO GREG USTK FOR THIS!\n\n// Broadcaster definition\nconst var PitchWheelTouch_bc = Engine.createBroadcaster({\n  \"id\": \"PitchWheelTouch_bc\",\n  \"args\": [\"component\", \"event\"],\n  \"tags\": []\n});\n\n// attach to event Type\nPitchWheelTouch_bc.attachToComponentMouseEvents([\"PITCHWHEEL\"], \"Clicks Only\", \"\");\n\n// attach first listener\nPitchWheelTouch_bc.addListener(\"\", \"md\", function(component, event)\n{\n\tif (event.mouseUp)\n\t{\n\t\tcomponent.setValue(8191.5);\n\t\tcomponent.changed();\n\t}\n});\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\tif(Message.getControllerNumber() == Message.PITCH_BEND_CC)\n\t\tPITCHWHEEL.setValue(Message.getControllerValue());\n\t\t\n\tif(Message.getControllerNumber() == 1)\n\t\tMODWHEEL.setValue(Message.getControllerValue() / 127);\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "ModulationDisplay",
    "category": "UI",
    "tags": [
      "Best Practice",
      "Complex",
      "Featured",
      "Graphics API",
      "UI Logic",
      "Modulation"
    ],
    "description": "\n\n\nThis example shows how to use the new combined modulation mode to visualize a modulated value on a knob ring.\n\nIt uses a custom LAF and the `Knob1.connectToModulatedParameter()` method.\n\nThe modulation source is the mix modulation chain of the waveform generator with a bunch of modulators added to it.",
    "code": "Content.makeFrontInterface(600, 200);\n\nconst var laf = Content.createLocalLookAndFeel();\n\n\nconst var Knob1 = Content.getComponent(\"Knob1\");\n\n// This function will connect the knob to the modulation chain associated\n// with the Mix parameter of the waveform generator. This will cause it to\n// repaint periodically when the mod value changes and add two new properties\n// to the LAF object that can be used to display the modulated value\nKnob1.connectToModulatedParameter(\"Waveform Generator1\", \"Mix\");\n\nconst var ARC_START = 2.3;\n\nlaf.registerFunction(\"drawRotarySlider\", function(g, obj)\n{\n\t//Console.print(trace(obj));\n\t\n\tvar rings = [];\n\trings.reserve(8);\n\t\n\t// let's create a bunch of paths\n\trings.push(Content.createPath()); // value track\n\trings.push(Content.createPath()); // scale track\n\trings.push(Content.createPath()); // mod track\n\trings.push(Content.createPath()); // full track\n\trings.push(Content.createPath()); // value\n\trings.push(Content.createPath()); // scaled mod value\n\trings.push(Content.createPath()); // bipolar / unipolar add value\n\trings.push(Content.createPath()); // full value\n\t\n\t// start subpaths so that the path is always scaled to the full obj.area bounds\n\tfor(r in rings)\n\t{\n\t\tr.startNewSubPath(obj.area[0], obj.area[1]);\n\t\tr.startNewSubPath(obj.area[2], obj.area[3]);\n\t}\n\t\n\t// Uncomment this is and you'll be spammed with all properties\n\t//Console.print(trace(obj));\n\t\n\t// this is the outer ring\n\tvar ringBounds = Rectangle(obj.area).reduced(20);\n\t\n\t// this is the value position of the scaled modulation value\n\t// it uses the obj.scaledValue property which is available when the modulation is connected\n\tvar scaleModValue =  -ARC_START + obj.scaledValue * 2.0 * ARC_START;\n\t\n\t// this will calculate the final value by applying the unipolar / bipolar offset to the chain\n\tvar addModValue = scaleModValue + obj.addValue * 2.0 * ARC_START;\n\t\n\t// lets add 4 full tracks with different sizes\n\trings[0].addArc(ringBounds, -ARC_START, ARC_START);\n\trings[1].addArc(ringBounds.reduced(-5), -ARC_START, ARC_START);\n\trings[2].addArc(ringBounds.reduced(-10), -ARC_START, ARC_START);\n\trings[3].addArc(ringBounds.reduced(-15), -ARC_START, ARC_START);\n\t\n\t// zero to UI position (grey)\n\trings[4].addArc(ringBounds, -ARC_START, -ARC_START + obj.valueNormalized * 2.0 * ARC_START);\n\t// zero to scaled position (red)\n\trings[5].addArc(ringBounds.reduced(-5), -ARC_START, scaleModValue);\n\t// scaled position to offset position (yellow)\n\trings[6].addArc(ringBounds.reduced(-10), scaleModValue, addModValue);\n\t// zero to final value position (white)\n\trings[7].addArc(ringBounds.reduced(-15), -ARC_START, addModValue);\n\t\n\t\n\tg.setColour(0x22FFFFFF);\n\tg.drawPath(rings[0], obj.area, 3);\n\tg.drawPath(rings[1], obj.area, 3);\n\tg.drawPath(rings[2], obj.area, 3);\n\tg.drawPath(rings[3], obj.area, 3);\n\t\n\tg.setColour(Colours.grey); // zero to UI\n\tg.drawPath(rings[4], obj.area, 3.0);\n\tg.setColour(Colours.red); // zero to scaled\n\tg.drawPath(rings[5], obj.area, 3.0);\n\tg.setColour(Colours.yellow); // scaled to offset\n\tg.drawPath(rings[6], obj.area, 3.0);\n\tg.setColour(Colours.white); // zero to offset\n\tg.drawPath(rings[7], obj.area, 3.0);\n\n\tg.setColour(obj.textColour);\n\tg.drawAlignedText(obj.valueAsText, obj.area, \"centred\");\n});\n\nKnob1.setLocalLookAndFeel(laf);\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "GLSL Slider",
    "category": "UI",
    "tags": [],
    "description": "\nShader Knob from shadertoys implemented in HISE.  ",
    "code": "Content.makeFrontInterface(180, 180);\n\nconst var Panel1 = Content.getComponent(\"Panel1\");\n\nconst var sliderShader = Content.createShader(\"GLSL/Slider.glsl\");\n\nPanel1.setPaintRoutine(function(g)\n{\n\tg.applyShader(sliderShader, this.getLocalBounds(0));\n\t\n});\n\ninline function onPanel1Control(component, value)\n{\n\tConsole.print(value);\n\tsliderShader.setUniformData(\"value\", value);\n\tcomponent.repaint();\n\t\n};\n\nContent.getComponent(\"Panel1\").setControlCallback(onPanel1Control);\n\n\nPanel1.setMouseCallback(function(event)\n{\n\tif(event.clicked)\n\t{\n\t\tthis.data.downValue = this.getValue();\n\t}\n\n\tif(event.drag)\n\t{\n\t\tvar v = Math.range(this.data.downValue + (event.dragX - event.dragY) / 300, 0.0, 1.0);\n\t\t\n\t\tthis.setValue(v);\n\t\tthis.changed();\n\t\t\n\t\t\n\t}\n});\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Expandable GUI",
    "category": "UI",
    "tags": [
      "Graphics API",
      "UI Logic"
    ],
    "description": "\nThis snippet demonstrates how to change the interface dimensions dynamically and how to attach a broadcaster to be notified about resizing events.",
    "code": "Content.makeFrontInterface(200, 100);\n\n\ninline function onResizeButtonControl(component, value)\n{\n\tContent.setHeight(100 + value * 50);\n};\n\nContent.getComponent(\"ResizeButton\").setControlCallback(onResizeButtonControl);\n\nconst var p = Content.addPanel(\"Panel1\", 0, 100);\np.set(\"width\", 200);\np.set(\"itemColour\", Colours.red);\n\np.setPaintRoutine(function(g)\n{\n\tg.fillAll(this.get(\"itemColour\"));\n});\n\nconst var b = Engine.createBroadcaster({\n\tid: \"colourChanger\",\n\targs: [\"width\", \"height\"]\n});\n\nb.attachToInterfaceSize(\"changes colours\");\n\nb.addListener(p, \"change colour\", function(w, h)\n{\n\tthis.set(\"itemColour\", Math.random() > 0.5 ? Colours.blue : Colours.red);\n\tthis.repaint();\n});\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Range Slider Panel",
    "category": "UI",
    "tags": [
      "Complex",
      "Graphics API",
      "ScriptPanel"
    ],
    "description": "\nA dropin replacement for the non-functional range slider mode.\n\nThis uses a panel to create a UI element that can be used to define a range with a min and max value.\n\nIt supports text input via shift-click as well as dragging the ranges. You can supply another component to grab the range properties (including a skew factor) or give it a JSON element with the properties.\n\n",
    "code": "Content.makeFrontInterface(600, 600);\n\n\ninclude(\"RangeSlider.js\");\n\n/* This creates a range slider with the given JSON properties.\nRangeSlider.make(\"Panel1\", {\n\tmin: 12,\n\tmax: 100,\n\tmiddlePosition: 30,\n\tmode: \"Time\"\n}, true);\n*/\n\n// This creates a range slider by copying the properties from the given UI element\nRangeSlider.makeFromComponent(\"Panel1\", \"Knob1\", true);\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "GLSL MorphBall",
    "category": "UI",
    "tags": [
      "Visuals"
    ],
    "description": "GLSL MorphBall-  Uses the bunny.glsl script in the GLSL Folder inside \"Scripts\".\n\nUse the shader.setUniformData(\"name\", data); call in a timer callback to push live data into the shader. \n\n",
    "code": "Content.makeFrontInterface(500, 572);\n\nconst var sh = Content.createShader(\"GLSL/bunny.glsl\");\n\nconst var SineWaveGenerator1 = Synth.getChildSynth(\"Sine Wave Generator1\");\n\nconst var p = Content.addPanel(\"Panel1\", 0, 0);\n\np.data.l = 0.0;\np.set(\"width\", 500);\np.set(\"height\", 500);\n\n\np.setPaintRoutine(function(g)\n{\n\tg.applyShader(sh, this.getLocalBounds(0));\n});\n\np.setTimerCallback(function()\n{\n\tvar l = 4.0 * SineWaveGenerator1.getCurrentLevel(true);\n\t\n\tif(l > this.data.l)\n\t\tthis.data.l = l;\n\telse\n\t\tthis.data.l *= 0.8;\n\t\n\n\tsh.setUniformData(\"amp\", this.data.l);\n\tthis.repaint();\n});\n\np.startTimer(15);\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Rotate an image",
    "category": "UI",
    "tags": [
      "Graphics API",
      "ScriptPanel"
    ],
    "description": "\n\nA script to rotate an image with a dedicated ScriptPanel.",
    "code": "Content.makeFrontInterface(350, 290);\r\n\nFileSystem.loadExampleAssets();\n\r\nconst var Panel1 = Content.getComponent(\"Panel1\");\r\nconst var Panel2 = Content.getComponent(\"Panel2\");\r\n\r\nconst var Knob1 = Content.getComponent(\"Knob1\");\r\nconst var Knob2 = Content.getComponent(\"Knob2\");\r\n\r\nconst var Button1 = Content.getComponent(\"Button1\");\r\nconst var Button2 = Content.getComponent(\"Button2\");\r\n\r\n\r\nreg langle = 0;\r\nreg rangle = 0;\r\n\r\nreg lspeed = 0;\r\nreg rspeed = 0;\r\n\r\nPanel1.loadImage(\"{PROJECT_FOLDER}hise.png\", \"test\");\r\n\r\nPanel1.setPaintRoutine(function(g){\r\n    g.rotate(Math.toRadians(langle), [this.get(\"width\")/2, this.get(\"height\")/2]);\r\n    g.drawImage(\"test\", [0, 0, this.get(\"width\"), this.get(\"height\")], 0, 0);\n});\r\n\r\nPanel1.setTimerCallback(function(){\r\n    langle = (langle + lspeed) % 360;\r\n    this.repaint();\n});\r\n\r\nPanel2.loadImage(\"{PROJECT_FOLDER}hise.png\", \"test\");\r\n\r\nPanel2.setPaintRoutine(function(g){\r\n    g.rotate(Math.toRadians(rangle), [this.get(\"width\")/2, this.get(\"height\")/2]);\r\n    g.drawImage(\"test\", [0, 0, this.get(\"width\"), this.get(\"height\")], 0, 0);\n});\r\n\r\nPanel2.setTimerCallback(function(){\r\n    rangle = (rangle + rspeed) % 360;\r\n    this.repaint();\n});\r\n\r\n\r\n\r\n// Custom Callbacks Left\r\n\r\ninline function onKnob1Control(component, value)\r\n{\r\n\tlspeed = value;\r\n};\r\nContent.getComponent(\"Knob1\").setControlCallback(onKnob1Control);\r\n\r\n\r\ninline function onButton1Control(component, value)\r\n{\r\n\tif (value)\r\n    {  \r\n        Panel1.startTimer(40);\n    }\r\n    else\r\n    {\r\n        Panel1.stopTimer();\n    }\r\n};\r\n\r\nContent.getComponent(\"Button1\").setControlCallback(onButton1Control);\r\n\r\n// Custom Callbacks Right\r\n\r\ninline function onKnob2Control(component, value)\r\n{\r\n\trspeed = value;\r\n};\r\nContent.getComponent(\"Knob2\").setControlCallback(onKnob2Control);\r\n\r\n\r\ninline function onButton2Control(component, value)\r\n{\r\n\tif (value)\r\n    {  \r\n        Panel2.startTimer(40);\n    }\r\n    else\r\n    {\r\n        Panel2.stopTimer();\n    }\r\n};\r\n\r\nContent.getComponent(\"Button2\").setControlCallback(onButton2Control);\r\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "ScriptPanel Drag Example",
    "category": "UI",
    "tags": [
      "ScriptPanel",
      "UI Logic",
      "Modulation"
    ],
    "description": "\n\nThis example demonstrates how to use the internal drag feature of a ScriptPanel to implement drag & drop functions across multiple UI elements.",
    "code": "Content.makeFrontInterface(600, 100);\n\n// a simple paint routine\ninline function paint(g)\n{\n\tg.fillAll(this.get(\"bgColour\"));\n\tg.setColour(Colours.white);\n\tg.drawAlignedText(this.get(\"text\"), this.getLocalBounds(0), \"centred\");\n}\n\n// setup the panels\nconst var Source = Content.getComponent(\"Source\");\nconst var Target = Content.getComponent(\"Target\");\nconst var Illegal = Content.getComponent(\"Illegal\");\n\nSource.set(\"bgColour\", Colours.blue);\nTarget.set(\"bgColour\", Colours.green);\nIllegal.set(\"bgColour\", Colours.red);\n\nSource.setPaintRoutine(paint);\nTarget.setPaintRoutine(paint);\nIllegal.setPaintRoutine(paint);\n\n// set the source to listen to mouse callbacks and change the cursor to the\n// dragging hand\nSource.set(\"allowCallbacks\", \"Clicks, Hover & Dragging\");\nSource.setMouseCursor(\"DraggingHandCursor\", Colours.white, [0, 0]);\n\n// this function will be called to render a drag image. This is called whenever\n// you call Content.refreshDragImage()\nfunction dragPaint(g, obj)\n{\n\tvar isValid = obj.valid;\n\tisValid |= obj.target.length == 0;\n\tisValid |= obj.target == obj.source;\n\tg.fillAll(isValid ? Colours.white : Colours.red);\n}\n\n// this function will be executed whenever the object was dropped on something\nfunction onDrag(isValid, targetName)\n{\n\tConsole.print(isValid ? targetName : \"Cancelled\");\n}\n\n// this function will be called to check whether the \n// drag target is valid. It will be executed whenever you hover\n// over a different object\nfunction checkValid(targetId)\n{\n\t// we want to update the drag image to reflect the draggability\n\tContent.refreshDragImage();\n\treturn targetId == \"Target\";\n}\n\nSource.setMouseCallback(function(event)\n{\n\tif(event.clicked && !event.rightClick)\n\t{\n\t\t// on left mouse down we'll call this method once\n\t\t// and the dragging will be handled automatically\n\t\tSource.startInternalDrag({\n\t\t\tarea: [0, 0, 50, 50],    // the size of the drag image\n\t\t\tpaintRoutine: dragPaint, // the paint function that renders the dragged image\n\t\t\tdragCallback: onDrag,    // the callback that is executed when dropped\n\t\t\tisValid: checkValid      // the function that checks the draggability on hover\n\t\t});\n\t}\n});\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "An enhanced Button LAF",
    "category": "UI",
    "tags": [
      "LookAndFeel"
    ],
    "description": "\nA simple button but with a completely customizable LAF, by [clevername27](https://forum.hise.audio/user/clevername27).",
    "code": "Content.makeFrontInterface(200, 100);\n\n////////////////// CONSTANTS //////////////////\n\nconst var CONST_LABEL_Backbground = 0;\n\nconst CONST_WellGradientTop = 0xFF000000;\nconst CONST_WellGradientBottom = 0xFF484B52;\n\nconst CONST_BorderColour = 0xFFFFFFFF; // 0xFF939399 // #FF212126\n\nconst CONST_DisabledIndicatorColour = 0xff5a5b5c;\nconst CONST_DisabledSurfaceColour = 0xFF191a1d;\nconst CONST_DisabledButtonTextColour = 0xFF94949a;\n\nconst CONST_InactiveSurfaceColour = 0xFF191A1D;\nconst CONST_InactiveButtonTextColour = 0xFF4B4B4F;\nconst CONST_InactiveIndicatorColour = 0xFF191A1D;\nconst STARTX = 0;\nconst STARTY = 1;\nconst WIDTH = 2;\nconst HEIGHT = 3;\n\nvar CONST_SmallButtonFontSize = 10;\n\n////////////////// LOOK AND FEEL DEFINITION //////////////////\n\nvar LAF_SmallToggleButton = Content.createLocalLookAndFeel();\n\n// Toggle Button for Sections\nLAF_SmallToggleButton.registerFunction(\"drawToggleButton\", function(g, obj)\n{\n\t// Get a more descriptive name for the button's area.\n\tvar WidgetArea = obj.area;\n\t\n\t// Is the button enabled?\n\tvar ButtonActive = obj.enabled;\n\t\n\t// ------------- Button Border\n\t\n\t// Draw Border around the button surface. It's the same regardless of button's active state.\n\tg.setColour(BorderColour);\n\tg.drawRoundedRectangle([WidgetArea[STARTX], WidgetArea[STARTY], WidgetArea[WIDTH], WidgetArea[HEIGHT]], 4, 1);\n\t\n\t// ------------- Button Well\n\t\n\t//\tDraw button well. It's the same regardless of button's active state.\n\tg.setGradientFill([CONST_WellGradientTop, WidgetArea[STARTX], WidgetArea[STARTY], CONST_SurfaceGradientBottom, WidgetArea[STARTX], WidgetArea[HEIGHT]]);\n\tg.fillEllipse([WidgetArea[STARTX] + 5, WidgetArea[STARTY] + WidgetArea[HEIGHT] / 2 - 7, 14, 14]);\n\t\n\t// ------------- Button Surface\n\t\n\t // Choose the colour(s).\n\t if (ButtonActive) {\n\t\tvar opacity = obj.over ? 1.0 - (obj.down * 0.2) : 0.8 - (obj.down * 0.2);\n\t\tg.setGradientFill([Colours.withAlpha(obj.itemColour1, opacity), WidgetArea[STARTX], WidgetArea[STARTY], Colours.withAlpha(obj.itemColour2, opacity), WidgetArea[STARTX], WidgetArea[HEIGHT]]);\n\t} else {\n\t\tg.setColour(CONST_InactiveSurfaceColour);\n\t}\n\n\t// Draw the surface.\n\tg.fillRoundedRectangle(WidgetArea, 4);\n\n\t// ------------- Indicator Light\n\t\n\t// Choose the colour(s).\n\tif (ButtonActive) {\n\t\tif (obj.value) { var fillColour = obj.bgColour; } else { var fillColour = CONST_DisabledIndicatorColour; }\n\t\tg.setColour(Colours.withAlpha(fillColour, obj.over ? 1.0 : 0.7));\n\t} else {\n\t\tg.setColour(CONST_InactiveIndicatorColour);\n\t}\n\t\n\t// Draw the indicator.\n\tg.fillEllipse([WidgetArea[STARTX] + 8, WidgetArea[STARTY] + WidgetArea[HEIGHT] / 2 - 4, 8, 8]);\n\t\n\t// ------------- Text Label\n\t\n\t// Set the font.\n\tg.setFont(\"Oxygen Regular\", 10); \n\t\n\tif (ButtonActive) {\n\t\tif (obj.value == true) { g.setColour(obj.textColour); } else { g.setColour(CONST_DisabledButtonTextColour); }\n\t} else {\n\t\tg.setColour(CONST_InactiveButtonTextColour);\n\t}\n\t\n\t// Draw the text.\n\tg.drawAlignedText(obj.text, [25,1, WidgetArea[WIDTH], WidgetArea[HEIGHT]], \"left\");\n});\n\n///////////////// BUTTON DEFINITION ///////////////// \n\n// Get pointer to the button.\nvar BUTTON_HappyFunTime = Content.getComponent(\"BUTTON_HappyFunTime\");\n\n// Register the callback function for when the button is pressed.\nBUTTON_HappyFunTime.setControlCallback(onButton);\n\n// Define the callback function.\ninline function onButton(component, value) {\n\n\t// Whatever you want the button to do goes here.\n\t\n}; \n\n// Set our toggle drawing routine for this button.\nBUTTON_HappyFunTime.setLocalLookAndFeel(LAF_SmallToggleButton);\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Big & small Knob LAF",
    "category": "UI",
    "tags": [
      "LookAndFeel"
    ],
    "description": "\nBig and small knob LAFs by [soundavid](https://forum.hise.audio/user/soundavid).",
    "code": "Content.makeFrontInterface(480, 100);\n\nconst laf = Engine.createGlobalScriptLookAndFeel();\n\nlaf.registerFunction(\"drawRotarySlider\", function(g, obj)\n{\n\tvar a = obj.area;\n\tvar thick = 3;\n\tvar thick2 = 2;\n\tvar thick3 = 6.5;\n\t\n\tif (obj.text.indexOf(\"big\") != -1)\n\t{\n\t\tg.setColour(Colours.withAlpha(obj.itemColour1, 0.15));\n\t\tg.drawEllipse([4, 4, a[2] - 8, a[3] - 8], thick / 3);\n\t\t\n\t\tg.setColour(obj.textColour);\n\t\tg.fillEllipse([4, 7, a[2] - 8, a[3] - 8]);\n\n\t\tg.setColour(obj.bgColour);\n\t\tg.fillEllipse([10, 10, a[2] - 20, a[3] - 20]);\n\t\t\n\t\tg.setColour(obj.itemColour1);\n\t\tg.drawEllipse([8, 8, a[2] - 16, a[3] - 16], 3);\n\t\t\n\t\tg.setGradientFill([0x000000, 0, a[3] / 2, Colours.withAlpha(Colours.black, 0.6), a[3] / 2, a[3]]);\n\t\tg.fillEllipse([9, 9, a[2] - 18, a[3] - 18]);\n\t\t\t\t\t\t\t\t\t\n\t\tvar start = 2;\n\t\tvar end = start * 2 * obj.valueNormalized - start;\n\t\t\t\n\t\tg.rotate(end, [a[2] / 2, a[3] / 2]);\n\t\t\t\n\t\tg.setColour(obj.itemColour2);\n\t\tg.fillEllipse([a[2] / 2 - thick3 / 2, 12, 8, 8]);\n\t\t\t\t\t\n\t}\n\telse if (obj.text.indexOf(\"small\") != -1)\n\t{\n\t\tg.setColour(Colours.withAlpha(obj.itemColour1, 0.15));\n\t\tg.drawEllipse([4, 4, a[2] - 8, a[3] - 8], thick / 3);\n\t\t\n\t\tg.setColour(obj.textColour);\n\t\tg.fillEllipse([4, 7, a[2] - 8, a[3] - 8]);\n\t\t\n\t\tg.setColour(obj.bgColour);\n\t\tg.fillEllipse([9, 9, a[2] - 18, a[3] - 18]);\n\t\t\n\t\tg.setColour(obj.itemColour1);\n\t\tg.drawEllipse([8, 8, a[2] - 16, a[3] - 16], 3);\n\t\t\n\t\tg.setGradientFill([0x000000, 0, a[3] / 2, Colours.withAlpha(Colours.black, 0.6), a[3] / 2, a[3]]);\n\t\tg.fillEllipse([8, 8, a[2] - 16, a[3] - 16]);\n\t\t\t\t\t\t\t\t\t\n\t\tvar start = 2;\n\t\tvar end = start * 2 * obj.valueNormalized - start;\n\t\t\t\n\t\tg.rotate(end, [a[2] / 2, a[3] / 2]);\n\t\t\t\n\t\tg.setColour(obj.itemColour2);\n\t\tg.fillEllipse([a[2] / 2 - thick3 / 2, 10, 6.5, 6.5]);\n\t\t\t\t\t\n\t}\n\n});\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Broadcaster Starting Point",
    "category": "UI",
    "tags": [
      "Broadcaster",
      "First contact",
      "Simple"
    ],
    "description": "\n\n\n\nA first starting point to building broadcasters.",
    "code": "Content.makeFrontInterface(200, 100);\n\n\ninline function onComboBox1Control(component, value)\n{\n\tConsole.print(value);\n};\n\nContent.getComponent(\"ComboBox1\").setControlCallback(onComboBox1Control);\n\nconst bc = Engine.createBroadcaster({id: \"Combo box mouse bc\", args: [component, event]});\nbc.attachToComponentMouseEvents(\"ComboBox1\", \"Clicks Only\", \"\");\n\nbc.addListener(\"Mouse listener\", \"Meta data\", function(component, event)\n{\n\tConsole.print(component.getValue());\n});\n\n// You can open the ScriptBroadcasterMap in HISE to get a visual \n// representation of the Broadcasters connection.\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Button Pack",
    "category": "UI",
    "tags": [
      "Graphics"
    ],
    "description": "\nA flexible ScriptPanel ButtonPack to quickly click or drag a row of values. ",
    "code": "Content.makeFrontInterface(600, 100);\n\nnamespace ButtonPack\n{\n    /** Creates a ButtonPack. */\n    inline function createButtonPack(name, x, y)\n    {\n        local widget = Content.addPanel(name, x, y);\n    \n        Content.setPropertiesFromJSON(name, {\n        \"width\": 500,\n        \"height\": 32,\n        \"allowCallbacks\": \"Clicks, Hover & Dragging\",\n        \"saveInPreset\": true,\n        \"opaque\": 1\n        });\n    \n        widget.data.lastDraggedIndex = -1;\n        widget.data.downValue = 0;\n    \n        widget.setPaintRoutine(function(g)\n        {\n            var numButtons = this.data.buttonValues.length;\n            var buttonWidth = (this.getWidth()-1) / numButtons;\n        \n            g.fillAll(Colours.withAlpha(Colours.white, 0.85));\n        \n            for(i = 0; i < numButtons; i++)\n            {\n                g.setColour(this.data.buttonValues[i] ? Colours.teal : Colours.black);\n                g.fillRect([1 + i*(buttonWidth), 1, buttonWidth-1, this.getHeight()-2]);\n            }\n        \n            g.setColour(Colours.withAlpha(0xFFFFFFFF, 0.1));\n            g.fillRect([1 + this.data.hoverIndex*(buttonWidth), 1, buttonWidth-1, this.getHeight()-2]); \n        });\n    \n        widget.setMouseCallback(function(event)\n        {\n            if(event.clicked)\n            {\n                this.data.lastDraggedIndex = _getButton(this, event.mouseDownX);    \n            \n                if(event.shiftDown)\n                {\n                    var newValueForAll = 1 - this.data.buttonValues[this.data.lastDraggedIndex];\n                    \n                    _setAllButtonValues(this, newValueForAll);\n                    this.data.downValue = newValueForAll;\n                }\n                else\n                {\n                    _toggleButton(this, this.data.lastDraggedIndex);\n                    this.data.downValue = this.data.buttonValues[this.data.lastDraggedIndex];\n                }\n            }\n            else if(event.drag)\n            {\n                var newDraggedIndex = _getButton(this, event.mouseDownX + event.dragX);\n            \n                if(newDraggedIndex >= this.data.buttonValues.length)\n                    return;\n            \n                if(newDraggedIndex != this.data.lastDraggedIndex)\n                {\n                    this.data.lastDraggedIndex = newDraggedIndex;\n                    _setButtonValue(this, this.data.lastDraggedIndex, this.data.downValue);\n                }\n            }\n        });\n        \n        return widget;\n    };\n    \n    /** Sets the amount of buttons. */\n    inline function setNumButtons(p, numButtons)\n    {\n        // Reset the array\n        p.data.buttonValues = [];\n    \n        for(i = 0; i < numButtons; i++)\n            p.data.buttonValues[i] = 0;\n    }\n   \n    \n    // Sets the array as Control Value and repaints the panel\n    inline function _updateInternal(p)\n    {\n        p.setValue(p.data.buttonValues);\n        p.repaint();\n        p.changed();\n    }\n    \n    // @internal\n    inline function _toggleButton(p, index)\n    {\n        p.data.buttonValues[index] = 1 - p.data.buttonValues[index];\n        _updateInternal(p);\n    }\n\n    // @internal\n    inline function _setButtonValue(p, index, value)\n    {\n        p.data.buttonValues[index] = value;\n        _updateInternal(p);\n    }\n    \n    // @internal\n    inline function _setAllButtonValues(p, value)\n    {\n        for(i = 0; i < p.data.buttonValues.length; i++)\n            p.data.buttonValues[i] = newValueForAll;\n                    \n        _updateInternal(p);\n    }\n    \n    // @internal\n    inline function _getButton(p, x)\n    {\n        local xNormalized = x / p.getWidth();       \n        local index = Math.floor(p.data.buttonValues.length * xNormalized);\n        return index;\n        \n    }\n}\n\nconst var x = ButtonPack.createButtonPack(\"Sequence\", 50, 32);\nButtonPack.setNumButtons(x, 16);\n\n    \nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Draggable Filter",
    "category": "UI",
    "tags": [
      "Graphics API",
      "ScriptPanel"
    ],
    "description": "\nThis example uses HISEs stock filter and makes it draggable. It is intended as a starting point on a potential solution and would have to be adapted for other filters.\n\nby HISEnberg\n\n[Forum Entry](https://forum.hise.audio/topic/11035/best-practice-for-creating-a-draggable-filter-linked-to-scriptnode/4)",
    "code": "Content.makeFrontInterface(500, 400);\n\n//===================== Draggable Filters =====================\n//===================== VARIABLES =====================\nconst var Filter1 = Synth.getEffect(\"Filter1\");\n\n// Filter Display\nconst var FtFilterDisplay1 = Content.getComponent(\"FtFilterDisplay1\");\n\nconst ftRestColour = 0x80FFFFFF;\nconst ftActiveColour = 0xFFFFFFFF;\n\nFtFilterDisplay1.set(\"itemColour\", ftRestColour);\n\n// Panel\nconst var PnlDragFilter1 = Content.getComponent(\"PnlDragFilter1\");\nconst panelColour = 0x30000000;\n\n// Knobs\nconst var KnbFreq1 = Content.getComponent(\"KnbFreq1\");\nconst var KnbQ1 = Content.getComponent(\"KnbQ1\");\n\n// Initial values for filter parameters\nreg cutoffFrequency1 = 1000;\nreg qFactor1 = 1.0;\n\n// Retrieve current values for cutoff and Q from the Filter\nvar cutoffValue = Filter1.getAttribute(1);\nvar qValue = Filter1.getAttribute(2);\n\n//Knob Control\n\ninline function onKnbFreq1Control(component, value)\n{\n\tFilter1.setAttribute(Filter1.Frequency, value);\n};\n\nContent.getComponent(\"KnbFreq1\").setControlCallback(onKnbFreq1Control);\n\n\ninline function onKnbQ1Control(component, value)\n{\n\tFilter1.setAttribute(Filter1.Q, value);\n};\n\nContent.getComponent(\"KnbQ1\").setControlCallback(onKnbQ1Control);\n\n\n//===================== PANEL HANDLING =====================\n// ----- PANEL 1 -----\nPnlDragFilter1.setPaintRoutine(function(g)\n{\n    var width = this.getWidth();\n    var height = this.getHeight();\n    \n    g.fillAll(panelColour);\n\n    // Calculate position for the cutoff\n    var circleX = (Math.log(cutoffValue / 20) / Math.log(1000)) * width;\n\n    // Calculate Y position of the circle based on Q value\n    var yPos;\n    if (qValue <= 1.0) {\n        yPos = ((qValue - 0.3) / (1.0 - 0.3)) / 2; \n    } else {\n        yPos = 0.5 + ((qValue - 1.0) / (9.9 - 1.0)) / 2;\n    }\n    var circleY = height * (1.0 - yPos); \n\n});\n\n// Mouse Callback to handle dragging and hovering\nPnlDragFilter1.setMouseCallback(function(event)\n{\n\tvar mouseX = event.x;\n\tvar mouseY = event.y;\n\t\n\t// Ensure the mouse is within the panel boundaries\n\tvar panel1Width = PnlDragFilter1.getWidth();\n\tvar panel1Height = PnlDragFilter1.getHeight();\n\n    if (event.hover == 1) \n    {\n        FtFilterDisplay1.set(\"itemColour\", ftActiveColour); // Change to active color on hover\n        PnlDragFilter1.repaint();\n    } \n    else if (event.hover == 0) \n    {\n        FtFilterDisplay1.set(\"itemColour\", ftRestColour); // Revert to rest color when not hovering\n        PnlDragFilter1.repaint();\n    }\n\n    if (event.drag)\n    {\n        FtFilterDisplay1.set(\"itemColour\", ftActiveColour);\n        mouseX = Math.max(0, Math.min(panel1Width, mouseX));\n        mouseY = Math.max(0, Math.min(panel1Height, mouseY));\n\n        // Logarithmic mapping for cutoff\n        var newCutoff = 20 * Math.pow(1000, mouseX / panel1Width);\n\n        // Compute Q value based on y position with 1.0 at midpoint\n        var yPos = 1.0 - (mouseY / panel1Height); \n        yPos = Math.max(0, Math.min(1, yPos)); \n        var newQ;\n        if (yPos < 0.5) {\n            newQ = 0.3 + (1.0 - 0.3) * (yPos * 2);\n        } else {\n            newQ = 1.0 + (9.9 - 1.0) * ((yPos - 0.5) * 2);\n        }\n\n        Filter1.setAttribute(1, newCutoff);\n        Filter1.setAttribute(2, newQ);\n        KnbFreq1.setValue(newCutoff);\n        KnbQ1.setValue(newQ);\n        PnlDragFilter1.repaint();\n    }\n\n});\n\n// This prevents the panel from being dragged outside its parent panel\nPnlDragFilter1.setDraggingBounds(Content.getComponent(\"PnlDragFilter1\"));\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Control 3 parameters in 3 ranges with 1 Knob",
    "category": "UI",
    "tags": [
      "Layout"
    ],
    "description": "\nA Main Slider controls three parameters of a SimpleGain in three customizable ranges.\n",
    "code": "Content.makeFrontInterface(320, 120);\r\n\r\n// Set to true to print the values to the console.\r\nconst var DBG = true;\r\n\r\nconst var simpleGain = Synth.getEffect(\"SimpleGain\");\r\nconst var mainKnob = Content.getComponent(\"MAIN_KNOB\");\r\n\r\n// Store the button references in an array. This will make it\r\n// more easy to set the currently used range\r\nconst var rangeButtons = [Content.getComponent(\"Range1\"),\r\n                          Content.getComponent(\"Range2\"),\r\n                          Content.getComponent(\"Range3\")];\r\n\r\n// Store the ranges in a globally accessable array\r\n// It is multidimensional which makes the logic pretty easy\r\nconst var rangeOptions = [ [[0, 50],  [-100, 10], [1, 10]],\r\n                           [[0, 200], [-10, 30],  [100, 300]],\r\n                           [[0, 100], [-3, 30],   [1, 30]] ];\r\n\r\n// This will store the currently selected range\r\nreg currentRange = 0;\r\n\r\n                           \r\n// Change the function to take a [min, max] array so \r\n// it's compatible with the new functions below\r\ninline function normalisedToRange(normalisedValue, range)\r\n{\r\n    return range[0] + normalisedValue * (range[1] - range[0]);\r\n}\r\n\r\n// This function will be called from both the knob callback\r\n// as well the button callbacks to make the module parameters\r\n// stay in sync when you change the range\r\ninline function updateValuesFromCurrentRange()\r\n{\r\n    // get the range we're currently using\r\n    local rangesToUse = rangeOptions[currentRange];\r\n    \r\n    // grab the current main knob value\r\n    local value = mainKnob.getValue();\r\n    \r\n    // get the values for each parameter\r\n    // (note how we access the array within the array)\r\n    local v1 = normalisedToRange(value, rangesToUse[0]);\r\n    local v2 = normalisedToRange(value, rangesToUse[1]);\r\n    local v3 = normalisedToRange(value, rangesToUse[2]);\r\n    \r\n    if(DBG)\r\n    {\r\n        Console.print(\"v1: \" + v1);\r\n        Console.print(\"v2: \" + v2);\r\n        Console.print(\"v3: \" + v3);\r\n        Console.print(\"----\");    \n    }\r\n    \r\n    simpleGain.setAttribute(simpleGain.Width, v1);\r\n \tsimpleGain.setAttribute(simpleGain.Gain, v2);\r\n\tsimpleGain.setAttribute(simpleGain.Delay, v3);\n}\r\n                          \r\ninline function setCurrentRange(component, index)\r\n{\r\n    // Update the current range variable\r\n    // Note how we can use the same callback for every button\r\n    // and just set the value by checking the index in the\r\n    // component array\r\n    currentRange = rangeButtons.indexOf(component);\r\n    \r\n    // Update the actual values when the range changes\r\n    updateValuesFromCurrentRange();\n}\r\n\r\n// set the callback for every button\r\nfor(r in rangeButtons)\r\n    r.setControlCallback(setCurrentRange);\r\n\r\ninline function mainKnobCallback(component, value)\r\n{\r\n    // We just call the update method here, since the logic\r\n    // has been shifted there.\r\n    updateValuesFromCurrentRange();\n}\r\n    \r\nmainKnob.setControlCallback(mainKnobCallback);\r\n\r\n\r\n\r\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Create thumbnails of your MIDI files",
    "category": "UI",
    "tags": [
      "Graphics API",
      "MIDI Player"
    ],
    "description": "\nThis snippet will iterate through all MIDI files and create a path string that can be used to display a thumbnail of the MIDI content.\n\nIn order to use it, change `MidiThumbnailGenerator.CREATE_MIDI_FILES` to true, and recompile the script. This will print script definitions of all MIDI files from your project folder to the console which you then can take and paste it into your script.",
    "code": "Content.makeFrontInterface(430, 100);\n\ninclude(\"MidiThumbnailGenerator.js\");\n\n// Example usage:\n\n// This is the output from running the script with MidiThumbnailGenerator.CREATE_MIDI_FILES==1 on the example assets\n// (I removed the bach example because it blows up the code editor lol).\nconst var drum_gm_gustav_p = \"696.fP7diJpj0FXXJ.1uIbxKIdXKddFmnYniWTd9Ga6R6D.ZVgqPKpXnqyRIBkwS5cbkE8oRwT51P8EkerU9Obd9p9vZdKW7BcQM9U1xPrMSnRi9zo1pba4l.VzmJESoaC0WZJJl+Ft6HblIgAYmtPPYE+HxCQ8SYLuOJOg0NtMLV+Q9czKYlEQN+QPTeIkwg2.DrQnQSraaVJyol.zQL7SlozMhBP.vatUw3knk0yMpX2TiCDcxfRuw606eq5bYP+GsE6Gw6pKYr6d9fLLc5.A.a3uTHUeXgogFW74RCxch2qKysyXhc75hPq7DV631vX8GecBjiPg.FjidlS0U3kb9Xi7lQPPTBdYymZBPGwvOYlBvQkI1nnY7hbZJyCxmYVKW.GUlXihlwKh81DAF0K4n7mBwKWj95pTz6muxqeYrTVLaDZzD61lkxbpI.cDC+jYJjE3q7uV4PxYHtMhbH4BSJYuqA.PV5KZlUir3ZaFeQ.ZQl500tG.6g8r20gt.pGroSS7TNDgBAavooLOHelYsbEVGnCFMe6yPkEbUkAorHzp+52DG2iiS4qxt.1zsXX8zXRaJBGLGP5gVx93m+RzVQmPAwYlIvuq5LLq08+6kJ8xgls47Cv2gvPdUjCAWRvcf16D6vzch02i6wijQfmidTgIsoHbvb.oGo.HjhTM3fOKrPGxMRgC2sPg8h9aMHUAWMNPzICJ8Fu2Nhu3hVuVNAH3DfIp8wVfW4CxvzoCD.rg+RgT8gElFZ3M.mEWORuJplz9jfBS3JhreksLDayDpzvBVom.a6mW9VjOsjl4L1dRUEINf6y3j2TzmJESoaC0W63B47PsJnpClzlhvAyAjd3RxKvCDYWRb9U1xPrMSnRSYAI.VW9U94ZQ9zRZlyX6IW3f2o.YCB6TQepTLktMTeo74YV56.9AZ\";\nconst var scale_c_minor_p = \"400.WDNH3mxYHVSOdwBXt5p0hZx1ih7fRtGEgumtzxSajwG0WAKxFdOVHGJYV712MdBKdQIj7Zt4Qdssdl6D0XwDRW9vxAhVvwJgN7+H0y+KivPu3ZgVW1KdwflooXJ+UioiN7+H0y+Kiv.Q+HCV696AeSpOMciQzW1dn5dKQxGCP7YROy3+SOHjNai90UbWn6Og56H.4XXrVf.ISBnfDhRi6EHmyiZv4PnpPSwj+uL4dhjme+dUCXTm79FcE02d+EJpMPqiBQC8dInqjA6WoJ4MRfk72jgLjoL+v0lgSy+LZ.fTpZIraRPOeIE5.VzMm9h.wBIugtUCiUf1IwhpjvYVcVvd2eS71jaVlVObzXTXLDwXTAU3wW3ZNZCINDGRegULNEjtU4IinTdAyDG8vcBw2viGZW05CngwD8obVtrYYg.y2gWAGV8TY1quMXNeotu2tYUDF4oPPBb.diTrsJT6zwKs5nCYlb8nfUGNQL3dZY3s97qgieeDYDE8jcR0oT2KA9.SHOwSXXbV5elmMIRdvB\";\n\nconst var Panel1 = Content.addPanel(\"Panel1\", 10, 0);\nconst var Panel2 = Content.addPanel(\"Panel2\", 220, 0);\n\nPanel1.set(\"width\", 200);\nPanel1.set(\"height\", 100);\n\nPanel2.set(\"width\", 200);\nPanel2.set(\"height\", 100);\n\nPanel1.data.p = MidiThumbnailGenerator.createPath(drum_gm_gustav_p);\nPanel2.data.p = MidiThumbnailGenerator.createPath(scale_c_minor_p);\n\nvar drawPath = function(g)\n{\n\tg.setColour(0x22FFFFFF);\n\n\tg.fillRoundedRectangle(this.getLocalBounds(2), 3);\n\tg.setGradientFill([0xFF888888, 0.0, 0.0, 0xFF777777, 0.0, this.get(\"height\"), false]);\n\t\n\tg.fillPath(this.data.p, this.getLocalBounds(10));\n\t\n\tg.setColour(0x88FFFFFF);\n\tg.drawPath(this.data.p, this.getLocalBounds(10), 1.0);\n};\n\nPanel1.setPaintRoutine(drawPath);\nPanel2.setPaintRoutine(drawPath);\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Customized Table LAF",
    "category": "UI",
    "tags": [
      "LookAndFeel"
    ],
    "description": "\nA customized Table LookAndFeel by [fortune](https://forum.hise.audio/user/fortune)\n",
    "code": "Content.makeFrontInterface(600, 400);\n\n\n// Local LAF\nconst locl_laf = Content.createLocalLookAndFeel();\n\n\n\n// Table Path\nlocl_laf.registerFunction(\"drawTablePath\", function(g, obj)\n{\n    g.setGradientFill([0xFFFF1B1B, 0, 0.2* obj.area[3], 0xA4A10AC9, 1.2*obj.area[2], 0.9* obj.area[3]]);\n    g.drawPath(obj.path, obj.area, 3);\n    \n    g.setGradientFill([0x30FF1B1B, 0, 0.2* obj.area[3], 0x60A10AC9, 1.3*obj.area[2], 1.6* obj.area[3]]);\n    \n        g.fillPath(obj.path, obj.area);\n\n});\n\n\n\n\n// Table Point\nlocl_laf.registerFunction(\"drawTablePoint\", function(g, obj)\n{\n\t\tvar radius = 0.5;\n\n\t\t\n\t\tg.setGradientFill([0xFFFF1B1B, 0, 0.2* obj.tablePoint[3], 0xFFA10AC9, 1.2*obj.tablePoint[2], 0.9* obj.tablePoint[3]]);\n    \t\n        g.fillEllipse([obj.tablePoint[0]+radius, obj.tablePoint[1]+radius, obj.tablePoint[2]-2*radius, obj.tablePoint[3]-2*radius]);\n\n    \n    if(obj.hover)\n    {\n\t\tg.setColour(0xFFFFFFFF);\n\t\t\n    \tg.fillEllipse([obj.tablePoint[0]+radius, obj.tablePoint[1]+radius, obj.tablePoint[2]-2*radius, obj.tablePoint[3]-2*radius]);\n    \n    }\n});\n\n\n\n// Table Ruler\nlocl_laf.registerFunction(\"drawTableRuler\", function(g, obj)\n{\n\tg.setColour(0x30FF1B1B);\n    var x = obj.position * obj.area[2];\n    g.drawLine(x, x, 0, obj.area[3], 10.0);\n    \n    g.setColour(0xA4A10AC9);\n    g.drawLine(x, x, 0, obj.area[3], 0.5);\n});\n\n\n\nconst var Table1 = Content.getComponent(\"Table1\");\n\n\n\nTable1.setLocalLookAndFeel(locl_laf);\n\n\n\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Draggable Filter Example",
    "category": "UI",
    "tags": [
      "Featured",
      "First contact",
      "Simple"
    ],
    "description": "\n\nThis example demonstrates how to use a `DraggableFilterPanel` in combination with a HISE filter\n\n> Note that this can also be used with custom nodes that provide a filter coefficient!\n\nIt also uses the CSS style sheet to render the filter graph.",
    "code": "Content.makeFrontInterface(500, 200);\n\nconst var DraggableFilterObject = {\n  \"ProcessorId\": \"Filter1\",\n  \"Type\": \"DraggableFilterPanel\",\n  \"AllowFilterResizing\": false,\n  \"ShowLines\": false,\n  \"PathMargin\": 0.0,\n  \"PathType\": \"FillMinimal\",\n  \"AllowContextMenu\": false\n};\n\nconst var fx = Synth.getEffect(\"Filter1\");\n\nfx.setDraggableFilterData({\n    \"NumFilterBands\": 1,\n    \"FilterDataSlot\": 0,\n    \"TypeList\": [], // not required because no context menu\n    \"FFTDisplayBufferIndex\": -1, // no spectrum\n    \"ParameterOrder\": [ \"Gain\", \"Freq\", \"Q\" ],\n    \"DragActions\": {\n      \"DragX\": \"Freq\",\n      \"DragY\": \"Q\", // reroute the y-axis to Q instead of gain\n      \"ShiftDrag\": \"Q\",\n      \"DoubleClick\": \"\",\n      \"RightClick\": \"\"\n   }\n});\n\nconst var FP = Content.addFloatingTile(\"FilterPanel\", 0, 0);\n\nFP.set(\"width\", 500);\nFP.set(\"height\", 200);\n\nFP.setContentData(DraggableFilterObject);\n\nconst var laf = Content.createLocalLookAndFeel();\n\nlaf.setInlineStyleSheet(\"\n\n.filtergraph\n{\n\tbackground: #222;\n\tborder: 1px solid #444;\t\n\tborder-radius: 3px;\n\tbox-shadow: inset 0px 3px 10px black;\n}\n\n.filtergraph::before\n{\n\tcontent: '';\n\tbackground-color: #333;\n\tbackground-image: var(--filterPath);\n\tborder: 2px solid #aaa;\n\tmargin: 3px;\n\tbox-sizing: border-box;\n}\n\n.filterHandle\n{\n\tborder-radius: 50%;\n\tbackground: #888;\t\n\tmargin: 5px;\n\tborder: 1px solid #eee;\n\tbox-shadow: 0px 2px 5px black;\n}\n\n.filterHandle:hover\n{\n\tbackground: #aaa;\n}\n\n.filterHandle::before:active\n{\n\tcontent: var(--frequency);\n\tbackground: #222;\n\tpadding: 2px 5px;\n\tborder-radius: 3px;\n\tborder: 1px solid #555;\n\tbox-shadow: 0px 3px 5px black;\n\ttop: -100%;\n\tcolor: white;\n\topacity: 50%;\n}\n\n\");\n\n\n\nFP.setLocalLookAndFeel(laf);\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Exclusive Matrix Modulation Source",
    "category": "UI",
    "tags": [
      "Simple",
      "Modulation"
    ],
    "description": "\nThis snippet demonstrates how to use the setSourceSelectionCallback() to limit the mod draggers \nthat are displayed when you hover over a knob.\n\nIt expands on the concept of the Matrix Modulation Tutorial so if you want to start learning about that system, this would be a better starting point.",
    "code": "/** Matrix Modulator Tutorial Pt. II\n\nExclusive Source Selection UI Logic\n===================================\n\nThis snippet demonstrates how to use the setSourceSelectionCallback() to limit the mod draggers\nthat are displayed when you hover over a knob. \n\n1. Drag a few connections on the two knobs (you'll see which connections are established on the right side). On compilation it will reset all connections for demonstration purposes.\n2. You'll see that whatever dragger you click on, it will be highlighted (like a button with a radio group). This indicates the \"current\" source selection.\n3. If you now hover over the UI knobs, it will only show a single mod knob (if the current source is connected to the knob). Take a look at the script below how this is implemented.\n\n*/\nContent.makeFrontInterface(600, 400);\n\n/** Create a modulation matrix. */\nconst var mm = Engine.createModulationMatrix(\"Global Modulator Container1\");\n\n/** Reset all connections on compilation. */\nmm.clearAllConnections(\"\");\n\nvar CURRENTLY_SELECTED_SOURCE = \"\";\n\n/** Attach a callback to the source selection event and just store the current source. */\nmm.setSourceSelectionCallback(function(source)\n{\n\tCURRENTLY_SELECTED_SOURCE = source;\n});\n\nconst var laf = Content.createLocalLookAndFeel();\n\n/** Now we override the method that will create the position data. \n\nWe'll leave the default rendering function in there so it will look ass, but this snippet just wants to\ndemonstrate how to use that method for custom hover mod layouts. \n*/\nfunction singleDragger(obj)\n{\n\t/** Create the target area for whatever hover dragger we want to show. */\n\tvar area = Rectangle(obj.sliderBounds[0], obj.sliderBounds[1] + obj.sliderBounds[3], 100, 120);\n\t\n\t/** Now check all connections and only display the active one. */\n\tfor(c in obj.connections)\n\t{\n\t\tif(c == CURRENTLY_SELECTED_SOURCE)\n\t\t{\n\t\t\t/** Leave a little at the bottom for the value label... */\n\t\t\tobj.dragAreas.push(area.removeFromTop(100));\n\t\t}\n\t\telse\n\t\t{\n\t\t\t/** Now this is a bit hacky, but you cannot pass in an empty rectangle.\n\t\t\t\tSo what's the second best option? Yes, a rectangle with 1px x 1px size.\n\t\t\t\t\n\t\t\t\tNote that it also creates a total rectangle from all positions that you pass in here\n\t\t\t\tin order to figure out when to dismiss the hover popup, so if you pass in the \n\t\t\t\trectangle with the origin, the hover behaviour gets weird.\n\t\t\t*/\n\t\t\tobj.dragAreas.push(Rectangle(area[0], area[1], 1, 1));\n\t\t}\t\t\n\t}\n\t\n\t// now set the label area to the bottom of the slider.\n\tobj.labelArea = area;\n\treturn obj;\n};\n\nlaf.registerFunction(\"getModulatorDragData\", singleDragger);\n\n/* now we attach a style sheet to skin the draggers & matrix. */\nlaf.setInlineStyleSheet(\"\n#controller\n{\n\tbackground: #222;\n\tpadding: 10px;\n\tborder-radius: 50%;\n\tborder: 1px solid #888;\n\tgap: 0px;\n}\n\n.dragger\n{\n\tbackground: #999;\n\tcolor: #222;\n\tborder-radius: 50%;\n\tpadding-left: 30px;\n\tpadding-right: 10px;\n\tmargin: 10px;\n\theight: 45px;\n\t\n\tbox-shadow: 0px 2px 5px black;\n\tcursor: grabbing;\n}\n\n/* IMPORTANT: this is the pseudo state that is engaged when the dragger is\n   the currently selected mod source. */\n.dragger:checked \n{\n\tborder: 2px solid white;\n\tbackground: #aaa;\n}\n\n.dragger::before\n{\n\tcontent: '';\n\tbackground-image: var(--dragPath);\n\twidth: 100vh;\n\tposition: absolute;\n\tbackground-color: #555;\n\tmargin: 15px;\n}\n\n.dragger:active\n{\n\ttransform: scale(95%);\n}\n\n/** Make a real minimal matrix with the power of display:none. */\n#intensity { display: none; }\n#inverted { display: none; }\n#plotter { display: none; }\n#auxindex { display: none; }\n#auxintensity { display: none; }\n#mode {\tdisplay: none; }\n.search { display: none; }\n\n.control-button { display: none; }\n\n\");\n\n/** Attach the LAF to the knobs. */\nconst var Knobs = [ Content.getComponent(\"Gain\"),\n\t\t\t\t\tContent.getComponent(\"Pitch\")];\n\nfor(k in Knobs)\n\tk.setLocalLookAndFeel(laf);\n\t\t\t\t\t\n// And the floating tiles...\nContent.getComponent(\"FloatingTile1\").setLocalLookAndFeel(laf);\nContent.getComponent(\"FloatingTile2\").setLocalLookAndFeel(laf);\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "FilterDisplay PathType Example",
    "category": "UI",
    "tags": [
      "Simple"
    ],
    "description": "\nThis little snippet shows the difference between the different `PathType` modes of the `FilterDisplay` (and `DraggableFilterPanel`) floating tiles.\n\nIt also uses a simple CSS stylesheet to show how to use the CSS renderer for the filter display.",
    "code": "Content.makeFrontInterface(410, 260);\n\nconst var displays = \n [Content.addFloatingTile(\"StrokeFullWidth\", 0, 0),\n  Content.addFloatingTile(\"FillFullWidth\", 210, 0),\n  Content.addFloatingTile(\"StrokeMinimal\", 0, 130),\n  Content.addFloatingTile(\"FillMinimal\", 210, 130)];\n\nconst var labels = \n [Content.addLabel(\"StrokeFullWidthLabel\", 0, 0 + 100),\n  Content.addLabel(\"FillFullWidthLabel\", 210, 0 + 100),\n  Content.addLabel(\"StrokeMinimalLabel\", 0, 130 + 100),\n  Content.addLabel(\"FillMinimalLabel\", 210, 130 + 100)];\n\nconst var obj = {\n\tType: \"FilterDisplay\",\n\tProcessorId: \"Filter1\",\n\tPathMargin: 0.0 // set the path margin to zero, looks better.\n};\n\nconst var laf = Content.createLocalLookAndFeel();\n\nlaf.setInlineStyleSheet(\"\n\n.filtergraph\n{\n\tbackground: #555;\n}\n\n.filtergraph::before\n{\n\tcontent: '';\n\tbackground-color: green;\n\t\n\t/** this is required so that the path is scaled correctly. */\n\tbox-sizing: border-box;\n\t\n\t/** fetch the filter path. */\n\tbackground-image: var(--filterPath);\n\tborder: 2px solid white;\n\tmargin: 5px;\n}\n\n\");\n\nfor(d in displays)\n{\n\tvar cl = obj.clone();\n\t// fetch the PathType property from the ID\n\tcl.PathType = d.get(\"id\");\n\td.setContentData(cl);\n\td.setLocalLookAndFeel(laf);\n}\n\t\nfor(l in labels)\n{\n\tl.set(\"width\", 200);\n\tl.set(\"text\", l.getId().replace(\"Label\", \"\"));\n}\n\t\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "GLSL Hello World",
    "category": "UI",
    "tags": [
      "Visuals"
    ],
    "description": "Base setup with a Panel and the Starter GLSL Template.\n\n\nWarning: GLSL uses OpenGL which is not supported on Mac anymore.\nCompiler flag. bla bla use OpenGL.. etc.. \n",
    "code": "Content.makeFrontInterface(500, 500);\n\nconst var p = Content.addPanel(\"Panel1\", 0, 0);\n\nconst var sh = Content.createShader(\"GLSL/init.glsl\");\n\np.setPaintRoutine(function(g)\n{\n\tg.applyShader(sh, this.getLocalBounds(0));\n});\n\np.setTimerCallback(function()\n{\n\tthis.repaint();\n});\n\np.startTimer(15);\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Horizontal CSS Slider LAF",
    "category": "UI",
    "tags": [
      "Best Practice",
      "LookAndFeel",
      "Simple",
      "UI Logic"
    ],
    "description": "\n@orange\n\n[Forum Entry](https://forum.hise.audio/topic/11459/snippet-horizontal-panel-based-slider-with-hover-fade-in-and-out/17)",
    "code": "Content.makeFrontInterface(600, 600);\n\nconst var laf = Content.createLocalLookAndFeel();\n\n// CSS for the win!\nlaf.setInlineStyleSheet(\"\n.scriptslider\n{\n\tbackground-color: var(--bgColour);\n\tmargin: 16px 0px;\n\tborder-radius: 50%;\n\tbox-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.scriptslider:hover\n{\n\tmargin: 13px 1px;\n\tbackground-color: var(--itemColour);\n\ttransition: all 0.2s ease-in;\n}\n\n.scriptslider::before\n{\n\tcontent: '';\n\twidth: max(100vh, calc(100% * var(--value)));\n\tbackground: rgba(255,255,255, 0.8);\n\tmargin: 3px;\n\tborder-radius: 50%;\n\t\n}\n\");\n\nconst var knobs = [Content.getComponent(\"Knob1\"),\n                   Content.getComponent(\"Knob2\"),\n                   Content.getComponent(\"Knob3\"),\n                   Content.getComponent(\"Knob4\")];\n\nfor(k in knobs)\n\tk.setLocalLookAndFeel(laf);\n\n\n\n\n\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Horizontal Slider LAF",
    "category": "UI",
    "tags": [
      "Best Practice",
      "LookAndFeel",
      "UI Logic"
    ],
    "description": "\nCustomizable Horizontal Slider LAF\n\n@simon @d.healey \n\n[Forum Entry](https://forum.hise.audio/topic/11459/snippet-horizontal-panel-based-slider-with-hover-fade-in-and-out)\n\n",
    "code": "Content.makeFrontInterface(400, 150);\n\nconst Knob1 = Content.getComponent(\"Knob1\");\n\nconst lafSlider = Content.createLocalLookAndFeel();\nKnob1.setLocalLookAndFeel(lafSlider);\n\nlafSlider.registerFunction(\"drawLinearSlider\", function(g, obj)\n{\n\tvar a = obj.area;\n\tvar lineThickness = 1;\n\t\n\tg.setColour(obj.bgColour);\n\t\n\tvar ellipseArea = [Math.range(a[2] * obj.valueNormalized + lineThickness * 1.2 / 2, 0, a[2] - a[3] + lineThickness * 0.6), a[1] + lineThickness * 1.2 / 2, a[3] - lineThickness * 1.2, a[3] - lineThickness * 1.2];\n\t\n\tg.drawLine(ellipseArea[0] + ellipseArea[2], a[2], a[3] / 2 - lineThickness / 2 / 2, a[3] / 2 - lineThickness / 2 / 2, lineThickness / 2);\n\tg.drawLine(a[0], ellipseArea[0], a[3] / 2 - lineThickness / 4, a[3] / 2 - lineThickness / 4, lineThickness);\n\n\tg.setColour(Colours.withMultipliedAlpha(obj.itemColour1, obj.hover));\n\tg.fillEllipse(ellipseArea);\n\n\tg.setColour(obj.itemColour2);\n\tg.drawEllipse(ellipseArea, lineThickness * 1.2);\n});\n\n\n\nconst Knob2 = Content.getComponent(\"Knob2\");\n\nconst lafSliderWidthText = Content.createLocalLookAndFeel();\nKnob2.setLocalLookAndFeel(lafSliderWidthText);\n\nlafSliderWidthText.registerFunction(\"drawLinearSlider\", function(g, obj)\n{\n\tvar a = [obj.area[0], obj.area[1], obj.area[2], obj.area[3] / 2];\n\tvar lineThickness = 1;\n\t\n\tg.setColour(obj.bgColour);\n\n\tvar ellipseArea = [Math.range(a[2] * obj.valueNormalized + lineThickness * 1.2 / 2, 0, a[2] - a[3] + lineThickness * 0.6), a[1] + lineThickness * 1.2 / 2, a[3] - lineThickness * 1.2, a[3] - lineThickness * 1.2];\n\t\n\tg.drawLine(ellipseArea[0] + ellipseArea[2], a[2], a[3] / 2 - lineThickness / 2 / 2, a[3] / 2 - lineThickness / 2 / 2, lineThickness / 2);\n\tg.drawLine(a[0], ellipseArea[0], a[3] / 2 - lineThickness / 4, a[3] / 2 - lineThickness / 4, lineThickness);\n\n\tg.setColour(Colours.withMultipliedAlpha(obj.itemColour1, obj.hover));\n\tg.fillEllipse(ellipseArea);\n\n\tg.setColour(obj.itemColour2);\n\tg.drawEllipse(ellipseArea, lineThickness * 1.2);\n\t\n\tg.setColour(obj.textColour);\n\tg.setFont(\"Oxygen\", 12);\t\n\tg.drawAlignedText(obj.hover ? obj.valueAsText : obj.text, obj.area, \"centredBottom\");\n});\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Knob with Modulation scaling 2",
    "category": "UI",
    "tags": [
      "UI Logic"
    ],
    "description": "\nAnother knob LAF that uses the modulation display ring.",
    "code": "Content.makeFrontInterface(200, 200);\n\nconst var Knob1 = Content.getComponent(\"Knob1\");\nKnob1.connectToModulatedParameter(\"Waveform Generator1\", \"Mix\");\n\nconst var laf = Content.createLocalLookAndFeel();\n\nconst var ARC = 2.3;\nconst var LENGTH = 2.0 * ARC;\n\ninline function modSlider(g, obj)\n{\n\tlocal arcs = [];\n\tlocal r = Rectangle(1.0, 1.0);\n\t\n\tarcs.push(Content.createPath()); // the full track\n\tarcs.push(Content.createPath()); // the value arc\n\tarcs.push(Content.createPath()); // the mod arc\n\tarcs.push(Content.createPath()); // the mod range arc\n\t\n\tfor(a in arcs)\n\t{\n\t\ta.startNewSubPath(0.0, 0.0);\n\t\ta.startNewSubPath(1.0, 1.0);\n\t}\n\t\n\tlocal v = -ARC + LENGTH * obj.valueNormalized;\n\t\n\tarcs[0].addArc(r, -ARC, ARC);\n\tarcs[1].addArc(r, -ARC, v);\n\tarcs[2].addArc(r, -ARC + LENGTH * (obj.scaledValue + obj.addValue), v);\n\tarcs[3].addArc(r, -ARC + LENGTH * obj.modMinValue, -ARC + LENGTH * obj.modMaxValue);\n\tlocal area = Rectangle(obj.area);\n\t\n\tg.setColour(obj.bgColour);\n\tg.fillEllipse(area);\n\t\n\t\n\tg.drawPath(arcs[0], area.reduced(10.0), 10.0);\n\tg.setColour(obj.itemColour1);\n\tg.drawPath(arcs[1], area.reduced(10.0), 7.0);\n\tg.setColour(0x22FFFFFF);\n\tg.drawPath(arcs[3], area.reduced(18.0), 3.0);\n\tg.setColour(Colours.white);\n\tg.drawPath(arcs[2], area.reduced(18.0), 3.0);\n};\n\nlaf.registerFunction(\"drawRotarySlider\", modSlider);\n\nKnob1.setLocalLookAndFeel(laf);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "LAF Tutorial Toolkit",
    "category": "UI",
    "tags": [
      "LookAndFeel"
    ],
    "description": "\nA comprehensive LAF toolkit for standard HISE UI components by [clevername27](https://forum.hise.audio/user/clevername27).\n",
    "code": "/* --------------------------------------------------------------------------\n\n                                                                         \n                   HISE LAF TOOLKIT AND TUTORIAL v1.0.1                  \n                                                                         \n Copyright \u00a9 2023 Bill Evans and his ferret pals.                        \n                                                                         \n Permission is hereby granted, free of charge, to any person obtaining a \n copy of this software and associated documentation files (the           \n \u201cSoftware\u201d), to deal in the Software without restriction, including     \n without limitation the rights to use, copy, modify, merge, publish,     \n distribute, sublicense, and/or sell copies of the Software, and to      \n permit persons to whom the Software is furnished to do so, subject to   \n the following conditions:                                               \n                                                                         \n The above copyright notice and this permission notice shall be included \n in all copies or substantial portions of the Software.                  \n                                                                         \n THE SOFTWARE IS PROVIDED \u201cAS IS\u201d, WITHOUT WARRANTY OF ANY KIND, EXPRESS \n OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF              \n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  \n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY    \n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,    \n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE       \n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n                                                                         \n-----------------------------------------------------------------------------\n\n This is a toolkit of the UI widgets from my plugin, formatted to teach\n the styling of HISE GUI components. It doubles as a read-to-use widget \n library for HISE.\n \n For teaching, the code is often more verbose, and the variable \n names more descriptive, than normal. Additionally, each widget \n has an introduction explaining its functionality, and most \n lines are commented. In place of numerical parameters, design values\n are set and explained as separate variables.\n\n Each widget is presented in all of the states that I designed for it\n on the HISE canvas, so you can experiment with it. Since this is \n a toolkit for my own plugin, I have included the specific\n customisations I required, and this may be a logical jumping\n off point for your own code.\n\n Once you've learned the basics, you might want to check out \n David Healey's standards and practices guide for writing code in HISE.\n\n Some of these widgets are replacements for HISE widgets, \n others are logical derivations, and some are quite specific\n to my particular plugin. Together, they provide a comprehensive\n GUI toolset to customise.\n\n Many of the widgets have more customisable style parameters \n their HISE counterparts, and here is will you'll see how to \n alter what you want to change in your own LAFs. In some case, \n the LAF code is more complex than for simply drawing the\n widget, in order for them to scale properly.\n\n One of the most common enhancements is the ability to choose the \n widget's indicator colour. You may wish to have specific instances \n of the same widget with difference indicator colours. There are many \n ways to do this. In my own plugin, I use a SWITCH statement inside \n the LAF function to determine the widget's ID; then, I use CASE \n statements to specify which specific colours to assign to the \n indicator colour variable (or any other colours I wish to change.)\n\n Another common enhancement is mouse-over states. They are usually\n implemented for all of a widget's states. The colour selection is\n performed automatically by using transparency.\n\n I have adhered to most of the HISE code formatting guidelines, with these\n exceptions based on the nature of this toolkit as a tutorial.\n \n \u2022 All comments are formatted with line comments (\"/\"). This allows\n   block comments (\"/*\") to be used for disabling any contiguous code\n   in this toolkit. Block comments are usedfor this header block.\n \u2022 Extra line spacing is used to increase readability.\n \u2022 K&R in lieu of Allman style indentation to eliminate uneeded vertical \n   space and increase program-flow readability.\n\n Good luck, and please share any enhancements or corrections on\n the HISE forum. My thanks to David Healey; I recommend his Patreon and \n course as learning resources.\n\n-------------------------------------------------------------------------- */\n\n////////////////////////////// GETTING STARTED //////////////////////////////\n//\n// Before you compile, place the fonts you want to use in the Images folder\n// of your Project folder. I'd suggest a standard font, and a bold version.\n// Then, go to the next section (Toolkit Constants), and replacee the name \n// of the two fonts (medium and bold) with the fonts' files names.\n// Then, you're ready to compiles!\n//\n/////////////////////////////////////////////////////////////////////////////\n\n///////////////////////////// TOOLKIT CONSTANTS /////////////////////////////\n//\n// ------------- Description\n//\n// These constants are used for mulitple widgets in the toolkit.\n//\n/////////////////////////////////////////////////////////////////////////////\n\n// ------------- HISE Constants\n\n// Define HISE Constants.\nconst WIDGET_STARTX = 0;\nconst WIDGET_STARTY = 1;\nconst WIDGET_WIDTH = 2;\nconst WIDGET_HEIGHT = 3;\nconst COMPONENT_BGCLOUOR = 0;\nconst COMPONENT_ITEMCOLOUR1 = 1;\nconst COMPONENT_ITEMCOLOUR2 = 2;\nconst COMPONENT_TEXTCOLOUR = 3;\n\n// Define default colors.\nconst BUTTONWELL_TOPLEFT_GRADIENT_COLOUR = 0xFF28282D;\nconst BUTTONWELL_BOTTOMRIGHT_GRADIENT_COLOUR = 0xFF474751;\nconst WIDGETOFF_INDICATOR_COLOUR = 0xFF5A5B5C;\n\n// ------------- Toolkit Default Fonts\n\n// Load the fonts from the \"Images\" folder in your project folder.\n//Engine.loadFontAs(\"{PROJECT_FOLDER}oxygen.regular.ttf\", 'OxygenRegular');\n//Engine.loadFontAs(\"{PROJECT_FOLDER}oxygen.bold.ttf\", 'OxygenBold');\n\n\n// Define the font defaults.\nconst DEFAULT_MEDIUMFONT = \"OxygenRegular\";\nconst DEFAULT_BOLDFONT = \"OxygenBold\";\nconst DEFAULT_LABEL_FONTSIZE = 12;\nconst DEFAULT_SMALL_FONTSIZE = 10;\n\n///////////////////////////// TEXTLESS BUTTON ///////////////////////////////\n//\n// ------------- Description\n//\n// This button is designed to be used for master toggle states. Therefore, \n// it is not meant to ever be disabled, and has no defined disabled LAF. As \n// a master toggle, it has no text legend. It features mouse-over styles \n// for both on and off states.\n//\n// ------------- Inspector Colour Mapping\n//\n// This LAF maps the same Colours (in the Inspector) as HISE's button.\n//\n// bgColour for the border.\n// itemColour is the top gradient of the button's surface.\n// itemColour2 bottom gradient of the button's surface.\n// textColour is unused.\n//\t\n/////////////////////////////////////////////////////////////////////////////\n\n// Create an LAF for the widget.\nconst LAF_textlessButton = Content.createLocalLookAndFeel();\n\n// Define the LAF function.\nLAF_textlessButton.registerFunction(\"drawToggleButton\", function(graphics, widget) {\n\t\n\t// ------------- Initialisation\n\t\n\t// Create descriptive variables name for the widget's properties.\t\t\n\tvar widgetArea = widget.area;\n\tvar widgetHeight = widget.area[WIDGET_HEIGHT];\n\tvar widgetWidth = widget.area[WIDGET_WIDTH];\n\tvar widgetWIDGET_STARTX = widget.area[WIDGET_STARTX];\n\tvar widgetStartY = widget.area[WIDGET_STARTY];\n\t\n\t// Set customisable LAF variables.\n\tvar widgetCornerSize = 4;\n\tvar widgetBorderWidth = 1;\n\tvar widgetIndicatorOffset = 6;\n\tvar widgetWellRadius = 20;\n\tvar widgetOnIndicatorColour = 0xFAE35BFF;\n\tvar wellGradientColourTopLeft = 0xFF29292F;\n\tvar wellGradientColourBottomRight = 0xFF41414B;\n\tvar fillColour;\n\t\n\t// ------------- Button Surface\n\t\n\t// Dynamically generate varying opacities for various states. Hat \n\t// tip to David Healey.\n\tvar opacity = widget.over ? 1.0 - (widget.down * 0.2) : 0.8 - (widget.down * 0.2);\n\t\n\t// Create a colour gradient from itemColour1 to itemColour2.\n\tgraphics.setGradientFill([Colours.withAlpha(widget.itemColour1, opacity), widgetWIDGET_STARTX, widgetStartY, Colours.withAlpha(widget.itemColour2, opacity), widgetWIDGET_STARTX, widgetHeight]);\n\t\n\t// Draw the surface.\n\tgraphics.fillRoundedRectangle(widgetArea, widgetCornerSize);\n\t\n\t// ------------- Button Border\n\t\n\t// Set the colour.\n\tgraphics.setColour(widget.bgColour);\n\t\n\t// Draw the border.\n\tgraphics.drawRoundedRectangle([widgetWIDGET_STARTX, widgetStartY, widgetWidth, widgetHeight], widgetCornerSize, widgetBorderWidth);\n\n\t// ------------- Button Well\n\n\t// Create the gradient fill.\n\tgraphics.setGradientFill([wellGradientColourTopLeft, widgetWIDGET_STARTX + ((widgetWidth / 2) - (widgetWellRadius / 2 )), widgetStartY + ((widgetHeight / 2) - (widgetWellRadius / 2)), wellGradientColourBottomRight, widgetWellRadius, widgetWellRadius]);\n\n\t// Draw the button well.\n\tgraphics.fillEllipse([widgetWIDGET_STARTX + ((widgetWidth / 2) - (widgetWellRadius / 2 )), widgetStartY + ((widgetHeight / 2) - (widgetWellRadius / 2)), widgetWellRadius, widgetWellRadius]);\n\t\n\t// ------------- Button Value Indicator\n\t\n\t// Draw the button's indicator circle, with colour dependent on the button's state.\n\tif (widget.value == true) { \n\t\t\n\t\t// Set the colour to the widget's indicator colour (specified in this function).\n\t\tfillColour = widgetOnIndicatorColour; \n\t\n\t} else { \n\n\t\t// Use the default colour for the widget-off state.\n\t\tfillColour = WIDGETOFF_INDICATOR_COLOUR;\n\t}\n\t\n\t// Adjust the transparency of the colour to show mouse-over states.\n\tgraphics.setColour(Colours.withAlpha(fillColour, widget.over ? 1.0 : 0.7));\n\t\n\t// Draw the button value indicator.\n\tgraphics.fillEllipse([widgetWIDGET_STARTX + ((widgetWidth / 2) - ((widgetWellRadius-widgetIndicatorOffset) / 2)), widgetStartY + ((widgetHeight / 2) - ((widgetWellRadius-widgetIndicatorOffset) / 2)), widgetWellRadius-widgetIndicatorOffset, widgetWellRadius-widgetIndicatorOffset]);\t\n});\n\n///////////////////////////////// STANDARD BUTTON ///////////////////////////\n//\n// ------------- Description\n//\n// This is a drop-in replacement for HISE's standard button. You can simply \n// assign this LAF to your existing button, and it will maintain it's \n// existing style you specified in the Inspector. The customisable LAF \n// variables I've added enable additional control over look and feel for:\n//\n// \u2022 Mouse-over events (all button state configurations).\n// \u2022 Indicator values (off and on).\n// \u2022 Disabled state colours (all graphic elements).\n//\n// ------------- Inspector Colour Mapping\n//\n// This LAF maps the same Colours (in the Inspector) as HISE's button.\n//\n// \u2022 bgColour for the border.\n// \u2022 itemColour is the top gradient of the button's's surface.\n// \u2022 itemColour2 bottom gradient of the button's's surface.\n// \u2022 textColour is for the text legend.\n//\n/////////////////////////////////////////////////////////////////////////////\n\t\n\t// Create an LAF for the widget.\n\tconst LAF_standardButton = Content.createLocalLookAndFeel ();\n\t\n\t// Toggle Button for Sections\n\tLAF_standardButton.registerFunction(\"drawToggleButton\", function(graphics, widget) {\n\n\n\t// ------------- Initialisation\n\n\t// Create descriptive variables name for the widget's properties.\n\tvar widgetArea = widget.area;\n\tvar widgetHeight = widget.area[WIDGET_HEIGHT];\n\tvar widgetWidth = widget.area[WIDGET_WIDTH];\n\tvar widgetWIDGET_STARTX = widget.area[WIDGET_STARTX];\n\tvar widgetStartY = widget.area[WIDGET_STARTY];\n\tvar widgetOn = widget.value;\n\t\n\t// Set customisable LAF variables.\n\tvar widgetCornerSize = 4;\n\tvar widgetBorderWidth = 1;\n\tvar widgetWellLeftOffset = 7;\n\tvar widgetWellRadius = 14;\n\tvar widgetIndicatorColour = 0xFF9090FF;\n\tvar widgetIndicatorInset = 5;\n\tvar widgetHorizontalLegendOffset = 4;\n\tvar widgetVerticalTextCentreOffset = -1;\n\tvar surfaceRounding = 4;\n\tvar wellGradientColourTopLeft = 0xFF28282D;\n\tvar wellGradientColourBottomRight = 0xFF474751;\n\tvar fillColour;\n\t\n\t// ------------- Button Border\n\t\n\t// Draw Border around the button's surface. It's the same regardless \n\t// of button's active state.\n\tgraphics.setColour(widget.bgColour);\n\tgraphics.drawRoundedRectangle([widgetWIDGET_STARTX, widgetStartY, widgetWidth, widgetHeight], widgetCornerSize, widgetBorderWidth);\n\t\n\t// ------------- Button Well\n\t\n\t// Create the button's gradient colours.\n\tgraphics.setGradientFill([wellGradientColourTopLeft, widgetWellLeftOffset, widgetStartY + ((widgetHeight / 2) - (widgetWellRadius / 2)), wellGradientColourBottomRight, widgetWellRadius, widgetWellRadius]);\n\n\t//Draw button well.\n\tgraphics.fillEllipse([widgetWellLeftOffset, widgetStartY + ((widgetHeight / 2) - (widgetWellRadius / 2)), widgetWellRadius, widgetWellRadius]);\t\n\n\t// ------------- Button Surface\n\t\n\t // Choose the colour(s).\n\t if (widget.enabled) {\t\n\t \t \n\t\t// If the widget is enabled adjust it's transparency to show the different enabled states.\n\t\tvar opacity = widget.over ? 1.0 - (widget.down * 0.2) : 0.8 - (widget.down * 0.2);\n\n\t\t// Create the gradient colour scheme.\n\t\tgraphics.setGradientFill ([Colours.withAlpha (widget.itemColour1, opacity), widgetWIDGET_STARTX, widgetStartY, Colours.withAlpha(widget.itemColour2, opacity), widgetWIDGET_STARTX, widgetHeight]);\n\n\t} else {\n\n\t\t// Otherwise, significantly dim the widget.\n\t\tgraphics.setColour (Colours.withAlpha (widget.itemColour2, 0.5));\n\t}\n\n\t// Draw the surface.\n\tgraphics.fillRoundedRectangle (widgetArea, surfaceRounding);\n\n\t// ------------- Indicator Light\n\t\n\t// Choose the colour(s).\n\tif (widget.enabled) {\n\t\t\n\t\t// If the widget is on, use the indicator colour; otherwise, use the default widget-off colour.\n\t\tif (widget.value) { fillColour = widgetIndicatorColour; } else { fillColour = WIDGETOFF_INDICATOR_COLOUR; }\n\t\t\n\t\t// Set the colour.\n\t\tgraphics.setColour(Colours.withAlpha (fillColour, widget.over ? 1.0 : 0.7) );\n\t\t\n\t} else {\n\n\t\t// If the button is disabled, use a drkened version of our default disabled indictor colour.\n\t\tgraphics.setColour(Colours.withAlpha(WIDGETOFF_INDICATOR_COLOUR, 0.5)); \n\t}\n\t\n\t// Draw the indicator.\n\tgraphics.fillEllipse([widgetWellLeftOffset + (widgetIndicatorInset / 2), widgetStartY + ((widgetHeight / 2) - ((widgetWellRadius-widgetIndicatorInset) / 2)), widgetWellRadius-widgetIndicatorInset, widgetWellRadius-widgetIndicatorInset]);\n\n\t// ------------- Text Label\n\t\n\t// Set the font.\n\tgraphics.setFont(DEFAULT_MEDIUMFONT, DEFAULT_LABEL_FONTSIZE); \n\t\n\t// Choose the colour.\n\tif (widget.enabled) {\n\t\t\t\n\t\t// If the button is on, use the textColour field. If not, dim this colour slightly using transparency.\n\t\tif (widget.value == true) { graphics.setColour (widget.textColour); } else { graphics.setColour(Colours.withAlpha(widget.textColour, 0.65)); }\n\t\t\n\t} else {\n\t\n\t\t// If it's disabled, dim it significntly using transparency.\n\t\tgraphics.setColour(Colours.withAlpha(widget.textColour, 0.3));\n\t}\n\t\n\t// Draw the text.\n\tgraphics.drawAlignedText(widget.text, [widgetWellLeftOffset + widgetWellRadius + widgetHorizontalLegendOffset, widgetVerticalTextCentreOffset, widgetWidth, widgetHeight], \"left\");\n\t\n});\n\n//////////////////////////////////// CHECKBOX ///////////////////////////////\n//\n// ------------- Description\n//\n// HISE's UI toolkit doesn't have a checkbox, but you can make one easily \n// enough from a HISE button using LAF. The customisable LAF variables I've \n// added enable additional control over look and feel for:\n//\n// \u2022 Mouse-over events (all button state configurations).\n// \u2022 Indicator values (off and on).\n// \u2022 Disabled state colours (all graphic elements).\n//\n// ------------- Inspector Colour Mapping\n//\n// This LAF maps the same Colours (in the Inspector) as HISE's button.\n//\n// \u2022 bgColour for the border.\n// \u2022 itemColour is the surface.\n// \u2022 itemColour2 is ignored; in the HISE button, this is used for a gradient. \n// \u2022 textColour is for text legend.\n//\n/////////////////////////////////////////////////////////////////////////////\n\n// Create an LAF for the widget.\nconst LAF_Checkbox = Content.createLocalLookAndFeel();\n\n// Define the look and feel function.\nLAF_Checkbox.registerFunction(\"drawToggleButton\", function(graphics, widget) {\n\n\t// ------------- Initialisation\n\n\t// Create descriptive variables name for the widget's properties.\n\tvar widgetArea = widget.area;\n\tvar widgetHeight = widget.area[WIDGET_HEIGHT];\n\tvar widgetWidth = widget.area[WIDGET_WIDTH];\n\tvar widgetWIDGET_STARTX = widget.area[WIDGET_STARTX];\n\tvar widgetStartY = widget.area[WIDGET_STARTY];\n\t\n\t// Set customisable LAF variables.\n\tvar widgetCornerSize = 2;\n\tvar widgetBorderWidth = 1;\n\tvar widgetIndicatorColour = 0xFAFFBA20;\n\tvar widgetIndicatorInset = 3;\n\tvar widgetHorizontalLegendOffset = 6;\n\t\n\t// ------------- Filled Box Drawing\n\t\n\t// Set the colour of the checkbox. Use transparency to change \n\t// the brightness if the mouse is over it.\n\tgraphics.setColour (Colours.withAlpha (widget.itemColour1, widget.over ? 1.0 : 0.8));\n\t\n\t// Draw the filled box. We use height twice because the \n\t// button itself is a rectangle, but we want to draw a box.\n\tgraphics.fillRoundedRectangle ([widgetWIDGET_STARTX, widgetStartY, widgetHeight, widgetHeight], widgetCornerSize);\n\t\n\t// ------------- Border\n\t\n\t// Set the colour of the border.\n\tgraphics.setColour(widget.bgColour);\n\t\n\t// Draw the border. Once again, we use height twice because the \n\t// button itself is a rectangle, but we want to draw a box.\n\tgraphics.drawRoundedRectangle ([widgetWIDGET_STARTX, widgetStartY, widgetHeight, widgetHeight], widgetCornerSize, widgetBorderWidth);\n\t\n\t// ------------- Value Indicator\n\t\n\t// If the checkbox is checked, draw an indicator.\n\tif (widget.value == true) {\n\t\n\t\t// Set the colour of the checkbox. Use transparency to change the \n\t\t// brightness if the mouse is over it.\n\t\tgraphics.setColour (Colours.withAlpha (widgetIndicatorColour, widget.over ? 1.0 : 0.8));\n\t\t\n\t\t// Draw the value indicator, inset from the checkbox.\n\t\tgraphics.fillRoundedRectangle ([widgetWIDGET_STARTX + widgetIndicatorInset, widgetStartY + widgetIndicatorInset, widgetHeight - (2 * widgetIndicatorInset), widgetHeight - (2 * widgetIndicatorInset)], widgetCornerSize);\n\t}\n\t\n\t// ------------- Text Label\n\t\n\t// Draw the text label only if there is one.\n\tif (widget.text != \"\")\t{\n\t\t\n\t\t// Set the font face and size.\n\t\tgraphics.setFont (DEFAULT_MEDIUMFONT, DEFAULT_LABEL_FONTSIZE);\n\t\t\n\t\t// Set the font colour.\n\t\tgraphics.setColour (widget.textColour);\n\t\t\n\t\t// Draw the text, centrered vertically, offset from the checkbox, \n\t\t// and left-justified.\n\t\tgraphics.drawAlignedText (widget.text, [widgetHeight + widgetHorizontalLegendOffset, widgetStartY, widgetWidth - widgetHeight, widgetHeight], \"left\");\n\t}\n});\n\n//////////////////////////// STANDARD KNOB //////////////////////////////////\n//\n// This is a drop-in replacement for HISE's standard knob. You can simply \n// assign this LAF to your existing slider, and it will maintain it's \n// existing style you specified in the Inspector. The customisable LAF \n// variables I've added additional control over look and feel for:\n//\n// \u2022 Mouse-over events (all button state configurations).\n// \u2022 Indicator values (off and on).\n// \u2022 Separate colours for the text legend and value.\n// \u2022 Disabled state colours (all graphic elements).\n//\n// ------------- Inspector Colour Mapping\n//\n// This LAF maps the same Colours (in the Inspector) as HISE's slider.\n//\n// \u2022 bgColour for the border.\n// \u2022 itemColour is the top gradient of the knob surface.\n// \u2022 itemColour2 bottom gradient of the knob surface.\n// \u2022 textColour is the text legend.\n//\n/////////////////////////////////////////////////////////////////////////////\n\n// ------------- Basic Operations\n\n// Create an LAF for the widget.\nconst LAF_StandardKnob = Content.createLocalLookAndFeel();\n\n// Register and define the drawing function for the knob.\nLAF_StandardKnob.registerFunction (\"drawRotarySlider\", function (graphics,widget) {\n\t\n\t// ------------- Initialisation\n\t\n\t// Create descriptive variables name for the widget's properties.\n\tvar widgetArea = widget.area;\n\tvar widgetHeight = widget.area [WIDGET_HEIGHT];\n\tvar widgetWidth = widget.area [WIDGET_WIDTH];\n\tvar widgetWIDGET_STARTX = widget.area [WIDGET_STARTX];\n\tvar widgetStartY = widget.area [WIDGET_STARTY];\n\t\t\n\t// Set customisable LAF variables.\n\tvar widgetIndicatorColour = 0xFF00FF00;\n\tvar enabledKnobwidgetValueColour = 0XFF838387;\n\tvar disabledKnobwidgetValueColour= 0xFF424246;\n\tvar widgetKnobActiveColour = 0xFFC1C1C2;\n\tvar widgetKnobMargin = widgetHeight/4;\n\tvar widgetHorizontalTextOffset = widgetHeight;\n\tvar widgetLegendTextVerticalOffset = -8;\n\tvar widgetValueTextVerticalOffset = 6;\n\tvar widgetOffsetAdjustment = 0.08;\n\tvar numberOfDecimalPlaces = 0;\n\tvar opacity;\n\n\t// ------------- Knob Surface\n\t\n\t// Specify and store the knob's desired surface in an array.\n\tvar KnobSurfaceArea = [widgetKnobMargin, widgetKnobMargin, widgetHeight - (2 * widgetKnobMargin), widgetHeight - ( 2* widgetKnobMargin)];\n\n\t// Set the knob surface's colour information.\n\tif (widget.enabled) {\n\t\t\n\t\t// If the the widget is enabled, and the mouse is over it or \n\t\t// its been clicked, then set opacity to 100%; otherwise set \n\t\t// it to 80%.\n\t\tif ( widget.hover || widget.clicked) { opacity = 1.0; } else { opacity = 0.8; }\t\n\t\n\t\t// Create a colour gradient from itemColour1 to itemColour2 with \n\t\t// whatever opacity was set.\n\t\tgraphics.setGradientFill ([Colours.withAlpha(widget.itemColour1, opacity), widgetKnobMargin / 2, widgetKnobMargin / 2, Colours.withAlpha(widget.itemColour2, opacity), widgetHeight-widgetKnobMargin, widgetHeight-widgetKnobMargin]);\n\t\t\n\t} else {\n\t\n\t\t// If the widget isn't enabled, make the widget a dark, unform \n\t\t// colour indicating that it is disabled. Don't show \n\t\t// mouse-over changes.\n\t\tgraphics.setColour (Colours.withAlpha (widget.itemColour2, 0.5));\n\t}\n\t\n\t// Draw the knob.\n\tgraphics.fillEllipse (KnobSurfaceArea);\n\t\n\t// ------------- Knob Text Legend\n\t\n\t// Set the text colour.\n\tif (widget.enabled) {\n\t\n\t\t// If the widget is enabled, use the textColour field from the \n\t\t// Inspector.\n\t\tgraphics.setColour (widget.textColour);\n\n\t} else {\n\n\t\t// Otherwise, use our default colour for disabled legend text.\n\t\tgraphics.setColour (WIDGETOFF_INDICATOR_COLOUR);\n\t}\n\t\n\t// Set the font and size.\n\tgraphics.setFont (DEFAULT_BOLDFONT, DEFAULT_LABEL_FONTSIZE); \n\n\t// Draw the text.\n\tgraphics.drawAlignedText (widget.text, [widgetWIDGET_STARTX + widgetHorizontalTextOffset, widgetLegendTextVerticalOffset, widgetHeight + widgetHorizontalTextOffset, widgetHeight], \"left\");    \n\t\n\t// ------------- Knob text Value\n\t\n\t// Set the fobt face and size.\n\tgraphics.setFont (DEFAULT_MEDIUMFONT, DEFAULT_SMALL_FONTSIZE); \n\t\n\tif (widget.enabled) {\n\t\t\n\t\t// If the widget is enabled, use the enabled value colour.\n\t\tgraphics.setColour (enabledKnobwidgetValueColour);\n\n\t} else {\n\t\t\n\t\t// Otherwise, use the default disabled value colour.\n\t\tgraphics.setColour (disabledKnobwidgetValueColour);\n\t}\n\t\n\t// Format the value string to a consistent number of decimal places.\n\tvar ConcatenatedValue = Engine.doubleToString (widget.value,numberOfDecimalPlaces) + widget.suffix;\n\t\n\t// Draw the text.\n\tgraphics.drawAlignedText (ConcatenatedValue, [widgetWIDGET_STARTX + widgetHorizontalTextOffset, widgetValueTextVerticalOffset, widgetHeight+widgetHorizontalTextOffset, widgetHeight], \"left\");    \n\t\n\t// ------------- Value Arc\n\t//\n\t// The math here is basically voodoo. Part of the reason it's complex \n\t// is so every graphic element scales correctly when you resize the \n\t// widget. The value arc is the widget's value indicator.\n\t\n\t// Create an empty path for drawing the arc.\n\tvar pathSemiCircle = Content.createPath();\n\t\n\t// Use the widget's minimum and maximum values (set in the Inspector) \n\t// to set the range for the path.\t\t\n\tvar ValueRange = widget.max - widget.min;\n\t\n\t// Define the (graphical) offsets for where the path begins and ends.\n\tvar startOffset = 2.4;\n\tvar endOffset = -startOffset + 2.0 * startOffset * widget.valueNormalized;\n\tif ((widget.min < 0) && (widget.max > 0)) startOffset = - 0.08;\n\t\n\t// Specify a thickness (stroke) for the arc.\n\tvar arcThickness = 0.02;\n\t\n\t// Based on the thickness, compute the arc's width.\n\tvar arcWidth = 1.0 - 2.0 * arcThickness;\n\t\n\t// I\u2026don't remember what this is for.\n\tvar ArcOffset = 0.1;\n\t\t   \n\t// Add the arc to the path.\n\tpathSemiCircle.addArc ([arcThickness / 2 + ArcOffset, arcThickness / 2 + ArcOffset, arcWidth + arcThickness - ArcOffset*2, arcWidth + arcThickness - ArcOffset*2], -startOffset - widgetOffsetAdjustment, endOffset + widgetOffsetAdjustment);   \n\t\n\t// The path area is\u2026let's just keep going.   \n    var pathArea = pathSemiCircle.getBounds (widgetHeight);  \n\t\n\t// Set the colour information.\n\tif (widget.enabled) {\t\n\n\t\t// If the the widget is enabled, and the mouse is over it or its \n\t\t// been clicked, then set opacity to 100%; otherwise set it to 80%. \n\t\tif (widget.hover || widget.clicked) { opacity = 1.0; } else { opacity = 0.8; }\n\n\t\t// Set the colour with whatever we set the opacity to.\n\t\tgraphics.setColour (Colours.withAlpha(widgetIndicatorColour, opacity));\n\t\t\n\t} else {\n\n\t\t// If the widget isn't enabled, make the indicator a darker version of\n\t\t// indicator-off colour.\n\t\tgraphics.setColour (Colours.withAlpha(WIDGETOFF_INDICATOR_COLOUR, 0.5));\n\t}\n\t\n    // Draw the arc. Finaly.\n    graphics.drawPath (pathSemiCircle, pathArea, widgetWidth * arcThickness);\n\n\t// ------------- Value Pointer\n\t//\n\t// This is the dot on the knob that shows its relative value to the \n\t// value arc.\n\n    // Rotate the indicator so it follows the arc.\n    graphics.rotate (endOffset, [widgetHeight / 2, widgetHeight / 2]);\n\n\t// Set its colour.\n    if (widget.enabled) {\n\n\t    // If the widget is enabled, use the widget's text colour.\n    \tgraphics.setColour (widget.textColour);\n\n    } else {\n\n\t    // Otherwise use a darkened version. \n    \tgraphics.setColour (Colours.withAlpha(widget.textColour, 0.5));\n    }\n    \n    // Draw the indicator.\n    graphics.fillRoundedRectangle ([widgetHeight / 2 - widgetHeight * -0.01, widgetHeight / 2 - widgetHeight * 0.295, widgetHeight  * 0.03, widgetHeight * 0.03], 3);\n});\n\n////////////////////////////////// RADIO BUTTON /////////////////////////////\n//\n// ------------- Description\n//\n// This radio button is designed to be used in rectangluar design blocks. \n// Add a panel to your object model, and attach all the radio buttons \n// inside. You can then move all the radio buttons as one unit. You can also \n// add a border by making the panel larger than the area of the radio \n// buttons. This backing panel has no LAF (because it doesn't need one.) \n// The customisable  LAF enable additional control over look and feel for:\n//\n// \u2022 Mouse-over events (all button state configurations).\n// \u2022 Indicator values (off and on).\n// \u2022 Disabled state colours (all graphic elements).\n//\n// ------------- Inspector Colour Mapping\n//\n// This LAF maps the same Colours (in the Inspector) as HISE's button.\n//\n// \u2022 bgColour is not used, since the radio buttons don't have borders.\n// \u2022 itemColour is for the button surface.\n// \u2022 itemColour2 is unused.\n// \u2022 textColour is for the text legend.\n//\n/////////////////////////////////////////////////////////////////////////////\n\n// Create an LAF for the widget.\nconst LAF_radioButton = Content.createLocalLookAndFeel();\n\n// Toggle Button for Sections\nLAF_radioButton.registerFunction(\"drawToggleButton\", function(graphics, widget) {\n\t\n\t// ------------- Initialisation\n\t\n\t// Create descriptive variables name for the widget's properties.\n\tvar widgetArea = widget.area;\n\tvar widgetHeight = widget.area [WIDGET_HEIGHT];\n\tvar widgetWidth = widget.area [WIDGET_WIDTH];\n\tvar widgetWIDGET_STARTX = widget.area [WIDGET_STARTX];\n\tvar widgetStartY = widget.area [WIDGET_STARTY];\n\tvar widgetOn = widget.value;\n\t\n\t// Set customisable LAF variables.\n\tvar widgetCornerSize = 4;\n\tvar widgetBorderWidth = 1;\n\tvar widgetWellLeftOffset = 5;\n\tvar widgetWellRadius = 14;\n\tvar widgetIndicatorColour = 0xFFF6FF00;\n\tvar widgetIndicatorInset = 8;\n\tvar widgetHorizontalLegendOffset = 3;\n\tvar widgetVerticalTextCentreOffset = -1;\n\tvar opacity;\n\tvar fillColour;\n\n\t// ------------- Button Well\n\t\n\t// Draw button well. It's the same regardless of button's active state.\n\tgraphics.setGradientFill([CONST_BUTTONWELL_TOPGRADIENT_COLOUR, widgetWIDGET_STARTX, widgetStartY, CONST_SurfaceGradientBottom, widgetWIDGET_STARTX, widgetHeight]);\n\tgraphics.fillEllipse([widgetWIDGET_STARTX + widgetWellLeftOffset, widgetStartY + (widgetHeight / 2) - (widgetWellRadius/2), widgetWellRadius, widgetWellRadius]);\n\t\n\t// ------------- Button Surface\n\t\n\t// Set the colour information.\n\tif (widget.enabled) {\t\t\n\n\t\t// Set the colour with whatever we set the opacity to.\n\t\tgraphics.setColour(widget.itemColour1);\t\t\n\n\t} else {\n\n\t\t// Otherwise, use transparency to darken it more.\n\t\tgraphics.setColour(Colours.withAlpha(widget.itemColour1, 0.40));\n\t}\n\n\t// Draw the surface without a border.\n\tgraphics.fillRoundedRectangle(widgetArea, 0);\n\n\t// ------------- Indicator Light\n\t\n\t// Choose the colour(s).\n\tif (widget.enabled) {\n\n\t\t// Choose a colour depending on if the button is on.\n\t\tif (widget.value) { fillColour = widgetIndicatorColour; } else { fillColour = WIDGETOFF_INDICATOR_COLOUR; }\n\t\t\n\t\t// Set the colour.\n\t\tgraphics.setColour(Colours.withAlpha(fillColour, widget.over ? 1.0 : 0.8));\n\n\t} else {\n\n\t\t// If the button is disabled, use a drkened version of our default disabled indictor colour.\n\t\tgraphics.setColour(Colours.withAlpha(WIDGETOFF_INDICATOR_COLOUR, 0.5)); \n\t}\n\t\n\t// Draw the indicator.\n\tgraphics.fillEllipse([widgetWIDGET_STARTX + widgetIndicatorInset, widgetStartY + (widgetHeight / 2) - (widgetIndicatorInset/2), widgetIndicatorInset, widgetIndicatorInset]);\n\t\n\t// ------------- Text Label\n\t\n\t// Set the font.\n\tgraphics.setFont(DEFAULT_MEDIUMFONT, DEFAULT_LABEL_FONTSIZE); \n\t\n\tif (widget.enabled) {\n\t\t\n\t\t// If widget is enabled, use transparency to show the on or off state.\n\t\tgraphics.setColour(Colours.withAlpha(widget.textColour, widget.value ? 1.0 : 0.5));\n\t\n\t} else {\n\t\t\n\t\t// Otherwise, use transparency to darken it more.\n\t\tgraphics.setColour(Colours.withAlpha(widget.textColour, 0.25));\n\t}\n\t\n\t// Draw the text.\n\tgraphics.drawAlignedText(widget.text, [widgetWellLeftOffset + widgetWellRadius + widgetHorizontalLegendOffset,widgetVerticalTextCentreOffset, widgetWidth, widgetHeight], \"left\");\n});\n\n///////////////////////////////// COMBO BOX /////////////////////////////////\n//\n// ------------- Description\n//\n// This is not a LAF function; it's a regular function to style and enable\n// HISE's standard comboboxes. Using an LAF would be a more elegant approach\n// as purely a toolkit, but in my plugin, there's other things to do in\n// this function.\n//\n// To use the function, pass a reference to the combobox you wish to enable \n// or disable to this function (as the first parameter) and whether you want \n// to enable or disable it (as the second  paramater). See the examples at \n// the end of this file for how to do this. \n//\n// Please note that in addition to providing the styling for enabled and \n// disabled states, this function also enables and disables the component\n// itself.\n//\n// ------------- Inspector Colour Mapping\n//\n// This LAF maps the same Colours (in the Inspector) as HISE's combobox.\n//\n// \u2022 bgColour for the border.\n// \u2022 itemColour is the top gradient of the combobox surface.\n// \u2022 itemColour2 bottom gradient of the combobox surface.\n// \u2022 textColour is the text legend.\n//\n/////////////////////////////////////////////////////////////////////////////\n\ninline function EnableComboBox (widget, makeEnabled) {\n\t\n\t// ------------- Initialisation\n\t\n\tif (makeEnabled == true) {\n\t\n\t\t// If we're enabling the widget, set it's HISE state to enabled.\n\t\twidget.set(\"enabled\", true);\n\t\t\n\t\t// Set its colours to the ones in the HISE Inspector.\n\t\twidget.setColour(1, widget.get(\"itemColour\"));\n\t\twidget.setColour(2, widget.get(\"itemColour2\"));\n\t\twidget.setColour(3, widget.get(\"textColour\"));\n\n\t} else {\n\t\n\t\t// Otherwise, we're enabling the widget, so set it's HISE state to \n\t\t// disabled.\n\t\twidget.set(\"enabled\", false);\n\t\n\t\t// Set its colours to darker versions (50% transparency)of the ones \n\t\t// in the HISE Inspector. We use transparency so your overall colours \n\t\t// scheme is maintained.\n\t\twidget.setColour(1, (Colours.withAlpha(widget.get(\"itemColour\"), 0.5)));\n\t\twidget.setColour(2, (Colours.withAlpha(widget.get(\"itemColour2\"), 0.5)));\n\t\twidget.setColour(3, (Colours.withAlpha(widget.get(\"textColour\"), 0.5)));\n\t}\n};\n\n\n/////////////////////////////// FERRET widget ///////////////////////////////\n//\n// There is no ferret widget. I'm not even sure what that would be. I guess \n// it would\u2026maybe steal all the keys from your keyboard and hide them\n// somewhere.\n//\n/////////////////////////////////////////////////////////////////////////////\n\n///////////////////////////// CIRCULAR GLYPH BUTTON /////////////////////////\n//\n// ------------- Description\n//\n// This button is used for specific functionality in my plugin. You can \n// easily customise to your own needs. Unlike the other widgets in this \n// toolkit, the Circular Glyph button is comprised of two different elements: \n// a HISE button (in the shape of a circle), and a HISE label that is intended \n// to be a single glyph (inside the circle). \n// \n// In the included example, I'm using a numberical glyph. In my plugin, I \n// use a pictogram font, and that is real intention of this widget: a \n// circular icon button. To specify the glyph character, type the character \n// into the Label's value field. \n// \n// To set up this button, you must create both widgets (Button and Label). \n// Type the ID of the Label (i.e., the Label's first field in the Inspector)\n// into the \"text\" field of the Button.\n//\n// The Circle Button, like the Textless Button in this toolkit, is intended \n// as a top-level widget; as such, it has no disabled state. It has no \n// mouse-over states \u2013 this is an artistic decision, and you can certainly \n// implement your own using the approaches for other widgets in this \n// toolkit.\n//\n// ------------- Inspector Colour Mapping\n//\n// This LAF maps the same Colours (in the Inspector) as HISE's combobox.\n//\n// \u2022 bgColour for the border.\n// \u2022 itemColour is the circle's surface colour.\n// \u2022 itemColour2 is unused (because there's no gradient).\n// \u2022 textColour is unused (because the text glyph is created using the label.\n// \u2022 Set the opacity to 0%.\n//\n// For the Label, there is no LAF, so whatever you specify in the Inspector for it\n// will be directly applied.\n//\n// \u2022 bgColour is unused; set to 0% opacity).\n// \u2022 itemColour is unused; set to 0% opacity).\n// \u2022 itemColour2 is unused; set to 0% opacity).\n// \u2022 textColour is the glyph's colour.\n//\n/////////////////////////////////////////////////////////////////////////////\n\n// Create an LAF for the widget.\nconst LAF_CircleButton = Content.createLocalLookAndFeel();\n\n// Register and define the drawing function for the button component.\nLAF_CircleButton.registerFunction(\"drawToggleButton\", function(graphics, widget) {\n\n// ------------- Initialisation\n\t\n\t// Get a more descriptive name for the button's area.\n\tvar widgetArea = widget.area;\n\tvar widgetHeight = widget.area[WIDGET_HEIGHT];\n\tvar widgetWidth = widget.area[WIDGET_WIDTH];\n\tvar widgetWIDGET_STARTX = widget.area[WIDGET_STARTX];\n\tvar widgetStartY = widget.area[WIDGET_STARTY];\n\tvar widgetCircleDiameter = 40;\n\tvar widgetCircleMargin = 2;\n\t\n\t// ------------- Button\n\t\n\t// Set the border's colour.\n\tgraphics.setColour(widget.bgColour);\n\t\n\t// Draw the border.\n\tgraphics.fillEllipse([0, 0, widgetCircleDiameter,widgetCircleDiameter]);\n\t\n\t// Set the surface's colour.\n\tgraphics.setColour(widget.itemColour1);\n\t\n\t// Draw the surface.\n\tgraphics.fillEllipse([widgetCircleMargin,widgetCircleMargin, (widgetCircleDiameter - (2 * widgetCircleMargin)), (widgetCircleDiameter - (2 * widgetCircleMargin))]);\n\n\t// ------------- Glyph\n\n\t// Get the ID of the Label component containing the glyph we want\n\t// to use for our button. We get it from the text field of the button. \n\t// (You must first write the Label's ASC ID in this field.)\n\tvar glyphID = widget.text;\n\n\t// Get a reference to the Label.\n\tvar glyph = Content.getComponent(glyphID);\n\n\t// Get the Label's text colour.\n\tvar textColour = glyph.get(\"textColour\");\n\n\tif (widget.value == true) {\n\t\t\n\t\t// If the button is on, use no tranparency for the colour.\n\t\tglyph.setColour(3,Colours.withAlpha(textColour, 1.0));\n\t\t\n\t} else {\n\t\t\n\t\t// Otherwise, use 40% opacity. This will dim the the glyph.\n\t\tglyph.setColour(3,Colours.withAlpha(textColour, 0.4));\t\n\t}\t\n});\n\n/////////////////////////////////////////////////////////////////////////////\n//                                                                         //\n//                       LAF TUTORIAL TOOLKIT EXAMPLES                     //\n//                                                                         //\n/////////////////////////////////////////////////////////////////////////////\n\n// Create the HISE canvas\nContent.makeFrontInterface(549, 600);\n\n// ================================ KNOBS ===================================\n\n// Get references to the widgets.\nconst var knbStandard1 = Content.getComponent(\"knob1\");\nconst var knbStandard2 = Content.getComponent(\"knob2\");\n\n// Style the widgets.\nknbStandard1.setLocalLookAndFeel(LAF_StandardKnob);\nknbStandard2.setLocalLookAndFeel(LAF_StandardKnob);\n\n// ============================== COMBOBOXES ================================\n\nconst var cmbStandard1 = Content.getComponent(\"combobox1\");\nconst var cmbStandard2 = Content.getComponent(\"combobox2\");\n\nEnableComboBox (cmbStandard1,true);\nEnableComboBox (cmbStandard2,false);\n\n// ============================ STANDARD BUTTONS ============================\n\n// Get references to the widgets.\nconst var btnStandard1 = Content.getComponent(\"standardButton1\");\nconst var btnStandard2 = Content.getComponent(\"standardButton2\");\nconst var btnStandard3 = Content.getComponent(\"standardButton3\");\n\n// Style the widgets.\nbtnStandard1.setLocalLookAndFeel(LAF_standardButton);\nbtnStandard2.setLocalLookAndFeel(LAF_standardButton);\nbtnStandard3.setLocalLookAndFeel(LAF_standardButton);\n\n// ============================ TEXTLESS BUTTONS ============================\n\n// Get references to the widgets.\nconst var btnTextless1 = Content.getComponent(\"textlessButton1\");\nconst var btnTextless2 = Content.getComponent(\"textlessButton2\");\n\n// Style the widgets.\nbtnTextless1.setLocalLookAndFeel(LAF_textlessButton);\nbtnTextless2.setLocalLookAndFeel(LAF_textlessButton);\n\n// =============================== CHECKBOXES ===============================\n\n// Get references to the widgets.\nconst var btnCheckbox1 = Content.getComponent(\"checkbox1\");\nconst var btnCheckbox2 = Content.getComponent(\"checkbox2\");\n\n// Style the widgets.\nbtnCheckbox1.setLocalLookAndFeel(LAF_Checkbox);\nbtnCheckbox2.setLocalLookAndFeel(LAF_Checkbox);\n\n// ============================ RADIO BUTTONS ===============================\n\n// ------------- Enabled Radio Panel\n\n// Get references to the widgets.\nconst var btnRadio1 = Content.getComponent(\"radioButton1\");\nconst var btnRadio2 = Content.getComponent(\"radioButton2\");\nconst var btnRadio3 = Content.getComponent(\"radioButton3\");\nconst var btnRadio4 = Content.getComponent(\"radioButton4\");\n\n// Style the widgets.\nbtnRadio1.setLocalLookAndFeel(LAF_radioButton);\nbtnRadio2.setLocalLookAndFeel(LAF_radioButton);\nbtnRadio3.setLocalLookAndFeel(LAF_radioButton);\nbtnRadio4.setLocalLookAndFeel(LAF_radioButton);\n\n// ------------- Disabled Radio Panel\n\n// Get references to the widgets.\nconst var btnRadio5 = Content.getComponent(\"radioButton5\");\nconst var btnRadio6 = Content.getComponent(\"radioButton6\");\nconst var btnRadio7 = Content.getComponent(\"radioButton7\");\nconst var btnRadio8 = Content.getComponent(\"radioButton8\");\n\n// Style the widgets.\nbtnRadio5.setLocalLookAndFeel(LAF_radioButton);\nbtnRadio6.setLocalLookAndFeel(LAF_radioButton);\nbtnRadio7.setLocalLookAndFeel(LAF_radioButton);\nbtnRadio8.setLocalLookAndFeel(LAF_radioButton);\n\n// ========================== CIRCLE GLYPH BUTTONS ==========================\n\n// Get widget references.\nconst var btnCircle1 = Content.getComponent(\"circleButton1\");\nconst var btnCircle2 = Content.getComponent(\"circleButton2\");\n\n// Style the button.\nbtnCircle1.setLocalLookAndFeel(LAF_CircleButton);\nbtnCircle2.setLocalLookAndFeel(LAF_CircleButton);\n\n/////////////////////////////////////////////////////////////////////////////\n//                                                                         //\n//                      END OF HISE LAF TOOLKIT AND TUTORIAL               //\n//                                                                         //\n/////////////////////////////////////////////////////////////////////////////\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "LAF UI Kit",
    "category": "UI",
    "tags": [
      "First contact",
      "LookAndFeel"
    ],
    "description": "\n\nA collection of sliders, buttons and Icons styled with LocalLookAndFeels by [orange](https://forum.hise.audio/user/orange).",
    "code": "Content.makeFrontInterface(600, 400);\n\n// Paths\nnamespace Paths\n{\n\t\n\t//! =============== Gandalf Icon ====================\n\tconst var Gandalf_path = Content.createPath();\n\tconst var Gandalf_path_svg_data = [110,109,205,204,244,67,154,153,174,67,98,154,89,242,67,164,16,172,67,0,128,239,67,154,153,169,67,154,89,236,67,0,32,168,67,98,154,57,229,67,0,192,164,67,103,198,221,67,164,16,162,67,31,133,214,67,123,244,158,67,98,31,5,207,67,0,192,155,67,164,144,199,\n67,123,116,152,67,52,51,192,67,72,1,149,67,108,52,51,192,67,72,1,149,67,108,56,205,191,67,241,198,148,67,108,72,106,191,67,147,135,148,67,108,162,10,191,67,88,67,148,67,108,131,174,190,67,107,250,147,67,108,39,86,190,67,250,172,147,67,108,198,1,190,67,\n56,91,147,67,108,150,177,189,67,88,5,147,67,108,203,101,189,67,146,171,146,67,108,148,30,189,67,30,78,146,67,108,32,220,188,67,57,237,145,67,108,153,158,188,67,34,137,145,67,108,124,116,188,67,113,61,145,67,108,124,116,188,67,113,61,145,67,98,247,72,\n182,67,154,25,134,67,32,69,176,67,144,194,117,67,83,56,170,67,154,89,95,67,98,52,83,163,67,92,207,69,67,11,151,141,67,236,209,69,67,216,163,134,67,103,166,95,67,98,216,35,129,67,21,46,116,67,156,89,118,67,215,35,132,67,84,248,107,67,164,144,142,67,98,\n156,25,104,67,164,112,146,67,94,79,99,67,205,44,149,67,135,171,91,67,184,190,150,67,113,51,115,61,67,123,244,156,67,154,25,31,67,0,0,163,67,98,154,25,18,67,225,154,165,67,154,25,5,67,72,65,168,67,103,102,245,66,61,42,173,67,98,185,158,227,66,184,94,177,\n67,103,102,227,66,112,61,181,67,103,230,246,66,225,218,184,67,108,103,230,246,66,226,218,184,67,108,98,241,2,67,6,139,187,67,108,243,177,10,67,94,10,190,67,108,242,175,18,67,82,87,192,67,108,134,171,24,67,30,229,193,67,108,133,171,24,67,30,229,193,67,\n98,174,71,39,67,204,108,197,67,123,148,54,67,40,60,200,67,10,23,70,67,122,116,203,67,98,10,23,70,67,71,129,203,67,0,0,70,67,235,17,204,67,246,232,69,67,214,163,204,67,98,174,71,69,67,214,131,208,67,226,58,68,67,142,98,212,67,185,30,68,67,214,67,216,67,\n98,165,240,67,67,40,60,222,67,42,92,63,67,101,166,226,67,195,117,52,67,101,102,229,67,108,196,117,52,67,100,102,229,67,108,120,189,45,67,56,49,231,67,108,47,53,39,67,119,38,233,67,108,144,66,35,67,233,113,234,67,108,144,66,35,67,234,113,234,67,98,93,\n79,27,67,60,42,237,67,93,79,22,67,111,253,240,67,164,176,21,67,111,221,245,67,108,164,176,21,67,110,221,245,67,108,72,138,21,67,89,16,250,67,108,107,207,21,67,225,66,254,67,108,30,5,22,67,193,213,255,67,108,31,5,22,67,193,213,255,67,98,205,140,22,67,\n112,77,2,68,92,143,20,67,61,74,4,68,82,248,10,67,224,106,5,68,98,21,174,9,67,234,145,5,68,123,148,9,67,60,90,6,68,82,248,8,67,173,215,6,68,98,82,248,10,67,234,241,6,68,31,133,13,67,245,72,7,68,62,10,15,67,173,23,7,68,98,21,238,23,67,40,12,6,68,82,184,\n29,67,40,92,4,68,21,238,29,67,81,200,1,68,98,93,15,30,67,50,19,0,68,113,253,29,67,152,185,252,67,11,151,29,67,234,81,249,67,98,52,243,28,67,254,223,243,67,165,48,33,67,142,194,239,67,154,89,42,67,244,232,236,67,108,154,89,42,67,244,232,236,67,108,124,\n200,47,67,143,65,235,67,108,243,95,53,67,116,189,233,67,108,52,243,54,67,80,88,233,67,108,52,243,54,67,80,88,233,67,98,236,145,70,67,100,166,229,67,206,12,77,67,172,103,223,67,21,46,76,67,193,245,214,67,108,22,46,76,67,193,245,214,67,108,36,16,76,67,\n148,197,213,67,108,163,16,76,67,8,149,212,67,108,148,47,76,67,225,100,211,67,108,226,108,76,67,226,53,210,67,108,72,161,76,67,111,125,209,67,108,72,161,76,67,111,125,209,67,98,72,33,79,67,111,157,202,67,174,199,82,67,162,208,195,67,185,94,84,67,29,229,\n188,67,108,185,94,84,67,29,229,188,67,108,96,217,85,67,151,107,183,67,108,166,223,87,67,72,253,177,67,108,63,112,90,67,170,157,172,67,108,226,250,91,67,224,218,169,67,108,226,250,91,67,224,218,169,67,98,31,133,94,67,234,145,165,67,226,250,98,67,50,83,\n163,67,226,250,107,67,91,143,163,67,98,103,38,108,67,91,143,163,67,236,81,108,67,91,143,163,67,62,138,108,67,81,152,163,67,98,62,138,108,67,101,166,165,67,195,117,108,67,9,183,167,67,62,138,108,67,101,198,169,67,113,11,215,108,67,70,1,177,67,31,69,109,\n67,111,61,184,67,98,21,174,109,67,70,225,190,67,11,87,111,67,162,144,197,67,31,69,110,67,29,37,204,67,98,82,248,108,67,254,127,212,67,103,230,105,67,19,206,220,67,185,222,102,67,234,17,229,67,98,113,125,100,67,234,145,235,67,103,102,96,67,224,186,241,\n67,11,23,88,67,29,37,247,67,108,12,23,88,67,30,37,247,67,108,159,246,85,67,218,147,248,67,108,136,251,83,67,187,15,250,67,108,13,39,82,67,207,151,251,67,108,88,122,80,67,26,43,253,67,108,126,246,78,67,155,200,254,67,108,116,156,77,67,164,55,0,68,108,\n24,109,76,67,10,15,1,68,108,46,105,75,67,246,233,1,68,108,92,145,74,67,219,199,2,68,108,42,230,73,67,43,168,3,68,108,7,104,73,67,87,138,4,68,108,68,23,73,67,207,109,5,68,108,20,244,72,67,255,81,6,68,108,142,254,72,67,88,54,7,68,108,0,0,73,67,0,64,7,68,\n108,0,0,73,67,0,64,7,68,108,0,0,73,67,0,64,7,68,108,65,251,72,67,0,150,7,68,108,82,229,72,67,213,235,7,68,108,66,190,72,67,72,65,8,68,108,41,134,72,67,35,150,8,68,108,43,61,72,67,48,234,8,68,108,119,227,71,67,56,61,9,68,108,70,121,71,67,7,143,9,68,108,\n61,74,71,67,92,175,9,68,108,61,74,71,67,92,175,9,68,98,245,168,66,67,246,216,12,68,82,56,59,67,31,133,15,68,92,15,48,67,82,120,17,68,98,133,107,45,67,21,238,17,68,82,120,43,67,72,113,18,68,41,156,45,67,236,49,19,68,98,41,156,47,67,11,231,19,68,21,110,\n50,67,113,157,19,68,41,156,52,67,21,46,19,68,98,154,89,69,67,21,238,15,68,113,253,80,67,216,243,11,68,246,104,81,67,123,100,6,68,108,247,104,81,67,123,100,6,68,108,18,135,81,67,237,127,5,68,108,212,210,81,67,8,156,4,68,108,14,76,82,67,94,185,3,68,108,\n11,87,82,67,82,168,3,68,108,10,87,82,67,82,168,3,68,98,20,46,84,67,246,248,0,68,112,61,89,67,246,72,253,67,0,128,95,67,103,230,248,67,98,0,128,98,67,164,208,246,67,195,53,101,67,216,163,244,67,61,202,103,67,123,180,242,67,98,215,99,107,67,62,74,251,67,\n51,179,110,67,184,238,1,68,215,163,114,67,184,46,6,68,98,31,69,117,67,51,3,9,68,246,104,120,67,143,210,11,68,72,33,124,67,143,146,14,68,98,113,125,125,67,143,146,15,68,154,121,128,67,0,112,16,68,72,1,130,67,225,58,17,68,98,62,106,130,67,164,112,17,68,\n11,23,132,67,41,76,17,68,185,190,132,67,153,9,17,68,98,72,33,133,67,143,226,16,68,175,231,132,67,163,32,16,68,175,135,132,67,184,190,15,68,98,165,48,131,67,143,98,14,68,247,72,129,67,143,34,13,68,236,81,128,67,82,184,11,68,98,155,217,125,67,21,174,9,\n68,42,28,124,67,133,139,7,68,11,87,122,67,21,110,5,68,98,31,5,119,67,21,110,1,68,83,184,115,67,216,227,250,67,134,235,112,67,42,220,242,67,98,154,153,109,67,124,84,233,67,134,43,113,67,52,243,223,67,206,76,116,67,124,148,214,67,98,22,46,117,67,93,239,\n211,67,196,181,117,67,144,66,209,67,247,104,118,67,124,148,206,67,108,32,197,119,67,93,111,206,67,98,93,15,123,67,134,75,209,67,32,197,126,67,21,14,212,67,144,194,128,67,134,11,215,67,98,144,34,130,67,247,8,218,67,62,234,130,67,62,106,218,67,103,102,\n133,67,236,113,216,67,108,103,102,133,67,236,113,216,67,108,218,202,134,67,166,105,215,67,108,16,60,136,67,132,115,214,67,108,28,185,137,67,38,144,213,67,108,12,65,139,67,27,192,212,67,108,229,210,140,67,234,3,212,67,108,165,109,142,67,10,92,211,67,108,\n69,16,144,67,232,200,210,67,108,186,185,145,67,225,74,210,67,108,21,174,146,67,205,12,210,67,108,21,174,146,67,205,12,210,67,108,22,174,146,67,205,12,210,67,108,46,208,147,67,176,195,209,67,108,146,245,148,67,41,137,209,67,108,132,29,150,67,96,93,209,\n67,108,72,71,151,67,110,64,209,67,108,31,114,152,67,104,50,209,67,108,74,157,153,67,86,51,209,67,108,9,200,154,67,55,67,209,67,108,158,241,155,67,2,98,209,67,108,73,25,157,67,162,143,209,67,108,78,62,158,67,251,203,209,67,108,42,60,159,67,205,12,210,\n67,108,42,60,159,67,205,12,210,67,108,42,60,159,67,205,12,210,67,108,102,234,160,67,69,126,210,67,108,108,146,162,67,26,5,211,67,108,46,51,164,67,244,160,211,67,108,160,203,165,67,113,81,212,67,108,190,90,167,67,32,22,213,67,108,135,223,168,67,130,238,\n213,67,108,4,89,170,67,14,218,214,67,108,65,198,171,67,44,216,215,67,108,42,188,172,67,51,147,216,67,108,42,188,172,67,51,147,216,67,98,42,28,175,67,10,119,218,67,93,239,175,67,112,29,218,67,93,79,177,67,20,78,215,67,98,93,175,178,67,184,126,212,67,185,\n94,180,67,0,0,210,67,134,235,181,67,225,90,207,67,98,226,26,183,67,205,236,211,67,83,120,183,67,71,65,216,67,185,94,184,67,82,120,220,67,98,154,249,185,67,82,248,227,67,185,94,186,67,133,139,235,67,52,19,185,67,164,16,243,67,98,113,93,183,67,225,250,\n252,67,124,84,181,67,41,108,3,68,134,43,179,67,102,86,8,68,98,226,250,177,67,245,8,11,68,124,20,177,67,102,214,13,68,124,212,172,67,235,241,15,68,98,52,115,172,67,235,33,16,68,32,165,172,67,102,230,16,68,226,26,173,67,235,33,17,68,98,164,144,173,67,112,\n93,17,68,216,3,175,67,102,118,17,68,226,122,175,67,102,70,17,68,98,185,190,176,67,102,198,16,68,72,33,178,67,82,40,16,68,154,185,178,67,0,112,15,68,98,123,84,180,67,133,123,13,68,103,230,181,67,20,126,11,68,41,220,182,67,0,112,9,68,98,41,92,185,67,0,\n16,4,68,174,135,187,67,205,76,253,67,246,200,189,67,154,185,242,67,98,246,72,191,67,205,236,244,67,144,226,192,67,246,104,247,67,10,151,194,67,195,213,249,67,98,215,227,198,67,164,240,255,67,153,57,201,67,185,78,3,68,133,11,201,67,103,22,7,68,108,133,\n11,201,67,103,22,7,68,108,215,14,201,67,250,143,7,68,108,79,30,201,67,82,9,8,68,108,228,57,201,67,31,130,8,68,108,130,97,201,67,22,250,8,68,108,18,149,201,67,232,112,9,68,108,114,212,201,67,75,230,9,68,108,121,31,202,67,243,89,10,68,108,31,37,202,67,\n236,97,10,68,108,31,37,202,67,236,97,10,68,108,31,37,202,67,236,97,10,68,108,71,204,202,67,226,61,11,68,108,54,137,203,67,100,21,12,68,108,116,91,204,67,232,231,12,68,108,122,66,205,67,233,180,13,68,108,179,61,206,67,225,123,14,68,108,128,76,207,67,83,\n60,15,68,108,50,110,208,67,195,245,15,68,108,17,162,209,67,186,167,16,68,108,87,231,210,67,199,81,17,68,108,53,61,212,67,124,243,17,68,108,52,179,212,67,174,39,18,68,108,52,179,212,67,175,39,18,68,108,52,179,212,67,175,39,18,68,108,82,55,213,67,4,99,\n18,68,108,52,193,213,67,248,154,18,68,108,130,80,214,67,104,207,18,68,108,224,228,214,67,51,0,19,68,108,238,125,215,67,57,45,19,68,108,76,27,216,67,93,86,19,68,108,216,99,216,67,175,103,19,68,108,216,99,216,67,175,103,19,68,98,93,15,217,67,226,138,19,\n68,216,99,218,67,175,87,19,68,216,227,218,67,93,15,19,68,98,144,66,219,67,206,220,18,68,155,249,218,67,226,58,18,68,103,166,218,67,21,222,17,68,98,62,106,218,67,21,158,17,68,226,154,217,67,226,122,17,68,83,24,217,67,31,69,17,68,98,83,152,210,67,11,151,\n14,68,165,80,205,67,226,106,11,68,104,38,205,67,246,8,7,68,98,43,252,204,67,10,167,2,68,247,72,202,67,93,175,253,67,217,99,197,67,174,135,246,67,98,2,32,195,67,10,55,243,67,248,8,193,67,174,135,239,67,43,252,191,67,164,176,235,67,98,125,84,187,67,184,\n190,218,67,166,144,184,67,164,144,201,67,104,70,187,67,174,231,183,67,98,2,160,187,67,72,161,181,67,155,121,187,67,31,69,179,67,114,125,187,67,235,241,176,67,98,32,133,187,67,153,249,172,67,114,125,187,67,143,2,169,67,114,125,187,67,235,241,164,67,98,\n1,96,188,67,10,23,165,67,114,125,189,67,40,92,165,67,32,165,190,67,235,113,165,67,98,237,209,192,67,255,159,165,67,227,26,194,67,163,176,166,67,32,165,194,67,122,212,168,67,98,155,249,195,67,214,35,174,67,12,151,197,67,142,98,179,67,196,181,198,67,40,\n188,184,67,98,114,221,199,67,214,67,190,67,94,111,200,67,60,234,195,67,32,133,201,67,194,117,201,67,98,32,133,202,67,102,134,206,67,237,113,203,67,194,117,211,67,32,37,203,67,71,193,216,67,98,42,188,202,67,245,232,223,67,12,247,205,67,20,110,229,67,175,\n135,212,67,61,202,232,67,98,185,30,215,67,112,29,234,67,134,171,217,67,61,138,235,67,144,34,220,67,194,21,237,67,98,195,213,224,67,245,8,240,67,21,174,226,67,174,103,244,67,246,72,226,67,184,222,249,67,98,51,19,226,67,102,198,252,67,10,247,225,67,235,\n177,255,67,10,247,225,67,20,78,1,68,98,10,247,225,67,20,238,3,68,92,111,228,67,20,206,5,68,123,20,233,67,122,4,7,68,98,215,99,234,67,132,91,7,68,133,171,235,67,163,144,7,68,205,140,236,67,91,207,6,68,98,21,110,237,67,19,14,6,68,21,110,236,67,132,139,\n5,68,185,30,235,67,204,60,5,68,98,11,23,231,67,245,72,4,68,52,211,229,67,173,151,2,68,226,250,229,67,122,132,0,68,98,124,20,230,67,121,52,254,67,246,72,230,67,254,95,251,67,1,96,230,67,244,136,248,67,98,237,145,230,67,224,122,242,67,103,38,228,67,172,\n167,237,67,237,49,223,67,224,58,234,67,108,237,49,223,67,224,58,234,67,108,89,210,219,67,202,20,232,67,108,92,88,216,67,142,26,230,67,108,73,65,215,67,172,135,229,67,108,73,65,215,67,173,135,229,67,98,237,241,208,67,60,42,226,67,206,204,206,67,142,66,\n222,67,73,65,207,67,173,39,215,67,108,73,65,207,67,172,39,215,67,108,180,73,207,67,40,223,212,67,108,229,52,207,67,243,150,210,67,108,234,2,207,67,130,80,208,67,108,83,248,206,67,122,244,207,67,108,83,248,206,67,122,244,207,67,98,134,203,206,67,235,17,\n206,67,11,87,206,67,9,55,204,67,83,248,205,67,142,66,202,67,98,237,145,206,67,50,19,202,67,175,7,207,67,132,235,201,67,1,128,207,67,132,203,201,67,108,1,128,207,67,132,203,201,67,108,232,192,212,67,198,72,200,67,108,205,236,217,67,76,131,198,67,108,96,\n0,223,67,56,124,196,67,108,98,248,227,67,214,52,194,67,108,164,209,232,67,157,174,191,67,108,14,137,237,67,40,235,188,67,108,134,171,237,67,192,213,188,67,108,134,171,237,67,193,213,188,67,108,134,171,237,67,193,213,188,67,108,185,140,239,67,129,155,\n187,67,108,158,93,241,67,154,73,186,67,108,11,29,243,67,226,224,184,67,108,114,61,244,67,213,227,183,67,108,114,61,244,67,213,227,183,67,98,82,152,247,67,0,0,181,67,31,229,247,67,205,204,177,67,205,204,244,67,154,153,174,67,99,109,143,130,72,67,164,208,\n198,67,108,141,130,72,67,164,208,198,67,108,241,223,61,67,70,68,197,67,108,91,104,51,67,93,116,195,67,108,126,34,41,67,20,98,193,67,108,235,20,31,67,186,14,191,67,108,18,70,21,67,208,123,188,67,108,58,188,11,67,250,170,185,67,108,124,125,2,67,6,158,182,\n67,108,16,46,255,66,10,151,181,67,108,20,46,255,66,10,151,181,67,108,20,46,255,66,10,151,181,67,108,249,0,15,67,179,193,177,67,108,16,200,30,67,50,80,174,67,108,56,226,46,67,185,68,171,67,108,36,69,63,67,61,161,168,67,108,86,230,79,67,110,103,166,67,\n108,226,250,86,67,10,151,165,67,108,225,250,86,67,10,151,165,67,98,195,117,76,67,61,74,176,67,20,238,77,67,72,161,187,67,143,130,72,67,164,208,198,67,99,109,20,78,149,67,0,96,205,67,108,235,49,142,67,205,236,206,67,98,40,124,142,67,205,204,204,67,235,\n177,142,67,113,61,203,67,122,244,142,67,103,102,201,67,108,61,138,149,67,185,94,204,67,99,109,20,206,156,67,236,113,205,67,98,20,206,156,67,41,28,205,67,20,206,156,67,175,199,204,67,20,206,156,67,236,113,204,67,108,20,14,164,67,52,211,200,67,98,112,125,\n164,67,144,194,202,67,92,239,164,67,226,186,204,67,112,125,165,67,195,53,207,67,99,109,20,46,183,67,93,47,184,67,108,20,46,183,67,94,47,184,67,108,125,192,182,67,141,73,188,67,108,134,135,182,67,231,103,192,67,108,0,128,182,67,113,221,193,67,108,0,128,\n182,67,113,221,193,67,98,82,120,182,67,154,121,197,67,225,186,181,67,72,193,200,67,10,151,179,67,113,189,203,67,98,61,170,177,67,21,110,206,67,92,239,175,67,113,61,209,67,10,23,174,67,113,29,212,67,98,61,106,171,67,41,188,210,67,71,129,169,67,185,94,\n209,67,153,57,169,67,41,220,205,67,98,81,248,168,67,51,147,202,67,214,163,167,67,154,57,199,67,225,26,166,67,0,64,196,67,98,30,69,165,67,113,157,194,67,71,33,163,67,61,138,193,67,143,98,161,67,20,142,192,67,98,153,217,160,67,0,64,192,67,143,98,159,67,\n10,215,192,67,143,226,158,67,122,116,193,67,98,245,136,158,67,30,229,193,67,204,204,158,67,204,76,195,67,102,70,159,67,224,218,195,67,98,102,198,160,67,152,153,197,67,133,43,160,67,122,244,197,67,102,102,158,67,122,52,199,67,98,30,133,154,67,91,239,201,\n67,0,64,151,67,50,19,201,67,225,154,147,67,204,12,199,67,98,245,8,146,67,204,44,198,67,112,125,145,67,71,161,197,67,153,217,146,67,204,44,196,67,98,255,191,147,67,9,55,195,67,71,129,148,67,132,203,193,67,122,20,147,67,143,2,193,67,98,183,62,146,67,20,\n142,192,67,235,113,144,67,112,221,192,67,214,163,143,67,143,130,193,67,98,245,232,139,67,143,130,196,67,132,107,138,67,163,208,200,67,153,57,138,67,204,108,205,67,98,71,33,138,67,184,190,207,67,143,98,137,67,81,24,209,67,40,92,135,67,102,6,210,67,98,\n163,80,134,67,102,134,210,67,173,103,133,67,102,70,211,67,9,247,131,67,153,57,212,67,98,51,51,129,67,133,75,207,67,246,168,124,67,0,128,202,67,164,176,119,67,0,128,197,67,98,0,64,118,67,92,15,196,67,205,12,119,67,236,17,194,67,144,194,118,67,195,85,192,\n67,98,144,66,118,67,103,70,189,67,93,207,117,67,11,55,186,67,246,40,117,67,62,42,183,67,98,31,197,116,67,236,81,181,67,103,230,116,67,93,207,179,67,195,117,119,67,226,26,178,67,98,226,186,128,67,11,119,171,67,41,28,136,67,31,5,172,67,226,58,142,67,83,\n248,173,67,98,113,29,142,67,32,133,175,67,216,67,141,67,103,6,176,67,144,194,139,67,83,248,175,67,108,144,194,139,67,82,248,175,67,108,18,170,137,67,64,224,175,67,108,12,145,135,67,5,227,175,67,108,212,120,133,67,160,0,176,67,108,144,66,133,67,32,5,176,\n67,108,144,66,133,67,32,5,176,67,98,124,116,132,67,42,28,176,67,144,194,131,67,104,38,177,67,72,1,131,67,145,194,177,67,98,226,186,131,67,43,124,178,67,246,104,132,67,145,194,179,67,92,47,133,67,12,215,179,67,108,92,47,133,67,12,215,179,67,108,197,8,\n137,67,56,251,179,67,108,193,226,140,67,24,238,179,67,108,92,175,142,67,12,215,179,67,108,92,175,142,67,12,215,179,67,108,92,175,142,67,12,215,179,67,108,108,215,142,67,136,206,179,67,108,1,255,142,67,7,196,179,67,108,4,38,143,67,142,183,179,67,108,91,\n76,143,67,38,169,179,67,108,237,113,143,67,216,152,179,67,108,162,150,143,67,175,134,179,67,108,99,186,143,67,181,114,179,67,108,26,221,143,67,249,92,179,67,108,175,254,143,67,135,69,179,67,108,13,31,144,67,112,44,179,67,108,32,62,144,67,194,17,179,67,\n108,212,91,144,67,143,245,178,67,108,21,120,144,67,233,215,178,67,108,210,146,144,67,227,184,178,67,108,250,171,144,67,145,152,178,67,108,124,195,144,67,8,119,178,67,108,174,199,144,67,166,112,178,67,108,174,199,144,67,166,112,178,67,108,174,199,144,\n67,166,112,178,67,108,120,195,145,67,46,192,176,67,108,85,169,146,67,171,3,175,67,108,51,83,147,67,53,147,173,67,108,51,83,147,67,53,147,173,67,98,123,52,148,67,94,175,171,67,215,163,147,67,207,108,170,67,41,156,145,67,53,19,170,67,98,51,51,141,67,12,\n87,169,67,215,195,136,67,145,194,168,67,41,28,132,67,53,19,168,67,98,205,44,132,67,207,172,167,67,82,88,132,67,63,234,166,67,92,111,132,67,33,37,166,67,98,92,239,132,67,33,165,161,67,92,239,132,67,176,103,161,67,102,102,137,67,43,124,161,67,98,20,142,\n148,67,94,175,161,67,122,180,159,67,227,26,162,67,153,217,170,67,125,116,162,67,108,153,217,170,67,125,116,162,67,108,3,144,171,67,110,139,162,67,108,14,69,172,67,118,171,162,67,108,153,217,172,67,207,204,162,67,108,153,217,172,67,207,204,162,67,98,173,\n39,173,67,64,170,164,67,122,116,173,67,197,117,166,67,81,184,173,67,12,23,168,67,98,204,140,169,67,196,181,168,67,255,95,165,67,207,76,169,67,81,56,161,67,196,245,169,67,98,9,87,158,67,63,106,170,67,235,177,157,67,206,140,171,67,91,15,159,67,176,7,174,\n67,98,30,229,162,67,186,254,180,67,183,190,160,67,94,207,179,67,91,143,168,67,166,240,179,67,98,91,15,170,67,12,247,179,67,40,156,171,67,146,34,180,67,91,15,173,67,238,209,179,67,98,101,230,173,67,146,162,179,67,91,143,174,67,2,160,178,67,132,75,175,\n67,43,252,177,67,98,245,136,174,67,63,74,177,67,9,215,173,67,156,25,176,67,142,2,173,67,43,252,175,67,98,132,203,170,67,197,181,175,67,142,130,168,67,104,6,176,67,101,70,166,67,84,216,175,67,98,29,101,165,67,33,197,175,67,234,145,164,67,2,0,175,67,40,\n220,163,67,197,53,174,67,98,9,119,168,67,43,124,172,67,20,238,172,67,177,7,172,67,40,92,177,67,33,197,173,67,98,143,34,181,67,20,78,175,67,205,172,183,67,10,55,180,67,133,43,183,67,92,47,184,67,99,109,40,92,117,67,93,79,164,67,98,245,104,117,67,73,193,\n163,67,30,5,119,67,21,238,162,67,163,48,120,67,103,198,162,67,98,9,215,122,67,21,110,162,67,132,171,125,67,21,110,162,67,235,81,128,67,103,70,162,67,98,153,89,129,67,31,133,167,67,71,225,123,67,205,44,170,67,81,56,117,67,164,80,173,67,98,133,43,117,67,\n133,11,170,67,0,0,117,67,133,43,167,67,92,79,117,67,92,79,164,67,99,109,143,98,177,67,73,97,163,67,108,143,98,177,67,73,97,163,67,108,107,15,179,67,213,143,163,67,108,107,185,180,67,193,211,163,67,108,51,211,181,67,206,12,164,67,108,51,211,181,67,206,\n12,164,67,98,51,83,182,67,165,48,164,67,112,221,182,67,206,12,165,67,205,236,182,67,104,166,165,67,98,62,42,183,67,32,5,168,67,82,56,183,67,247,104,170,67,0,96,183,67,73,97,173,67,98,123,52,180,67,143,98,170,67,154,25,177,67,10,23,168,67,41,92,177,67,\n72,97,163,67,99,109,174,167,143,67,247,40,157,67,98,92,79,105,67,247,168,157,67,0,192,53,67,22,142,163,67,102,38,5,67,63,138,175,67,98,41,220,3,67,43,220,175,67,61,138,2,67,217,35,176,67,225,58,1,67,165,112,176,67,108,30,133,0,67,145,226,175,67,98,214,\n163,4,67,186,126,174,67,194,117,8,67,2,192,172,67,50,243,12,67,104,198,171,67,98,204,204,28,67,12,87,168,67,50,243,44,67,2,64,165,67,40,220,60,67,114,221,161,67,98,194,117,74,67,12,247,158,67,50,243,87,67,63,234,155,67,9,87,101,67,104,198,152,67,98,101,\n102,107,67,43,92,151,67,70,225,110,67,22,206,148,67,60,10,114,67,2,192,145,67,98,132,107,125,67,2,192,134,67,71,193,132,67,127,212,119,67,92,207,138,67,168,48,98,67,98,205,236,143,67,25,238,79,67,92,207,160,67,35,197,79,67,225,250,165,67,66,138,97,67,\n98,41,220,171,67,15,215,117,67,174,103,177,67,33,69,133,67,194,21,183,67,248,136,143,67,108,194,21,183,67,248,136,143,67,108,189,39,183,67,128,193,143,67,108,223,54,183,67,220,250,143,67,108,31,67,183,67,231,52,144,67,108,115,76,183,67,125,111,144,67,\n108,20,78,183,67,44,124,144,67,108,20,78,183,67,43,124,144,67,98,163,240,179,67,53,19,144,67,163,176,176,67,74,161,143,67,133,107,173,67,207,76,143,67,98,225,90,171,67,12,23,143,67,31,69,169,67,23,14,143,67,164,48,167,67,53,243,142,67,98,205,204,165,\n67,73,225,142,67,225,154,164,67,125,52,143,67,205,140,164,67,43,220,144,67,98,185,126,164,67,217,131,146,67,144,162,165,67,43,220,146,67,205,12,167,67,115,253,146,67,98,10,87,172,67,166,144,147,67,215,163,177,67,84,24,148,67,215,227,182,67,207,236,148,\n67,98,82,152,184,67,238,49,149,67,164,48,186,67,248,72,150,67,61,202,187,67,12,23,151,67,98,245,232,192,67,63,170,153,67,0,224,197,67,12,151,156,67,143,34,203,67,166,208,158,67,98,102,102,212,67,43,188,162,67,143,226,221,67,2,32,166,67,20,46,231,67,12,\n247,169,67,98,71,225,234,67,114,125,171,67,174,103,238,67,32,133,173,67,122,244,240,67,104,230,176,67,98,214,131,237,67,32,133,175,67,81,24,234,67,124,20,174,67,71,161,230,67,217,195,172,67,98,51,147,202,67,143,34,162,67,113,157,173,67,154,153,156,67,\n72,161,143,67,246,40,157,67,99,109,184,30,205,67,104,70,198,67,98,215,99,202,67,186,254,187,67,82,120,203,67,104,70,177,67,102,70,198,67,155,57,167,67,108,102,70,198,67,155,57,167,67,108,0,39,209,67,173,251,169,67,108,214,224,219,67,9,72,173,67,108,10,\n109,230,67,148,28,177,67,108,220,196,240,67,216,118,181,67,108,0,32,241,67,2,160,181,67,108,0,32,241,67,1,160,181,67,98,174,7,230,67,225,186,189,67,164,48,218,67,82,216,194,67,82,24,205,67,102,70,198,67,99,109,246,232,172,67,53,19,229,67,98,195,21,171,\n67,84,248,227,67,226,250,168,67,94,79,227,67,154,249,166,67,217,131,226,67,98,164,240,163,67,94,79,225,67,236,241,161,67,145,66,223,67,236,177,161,67,104,230,219,67,98,236,145,161,67,217,67,218,67,11,215,160,67,12,215,217,67,62,74,159,67,104,230,217,\n67,98,11,55,155,67,104,6,218,67,144,34,151,67,237,17,218,67,93,15,147,67,2,0,218,67,98,42,92,145,67,84,248,217,67,124,116,144,67,12,87,218,67,236,81,144,67,145,66,220,67,98,226,26,144,67,145,66,223,67,236,81,142,67,206,76,225,67,11,151,139,67,125,116,\n226,67,98,206,172,137,67,217,67,227,67,124,180,135,67,125,244,227,67,52,211,133,67,166,208,228,67,98,134,11,132,67,217,163,229,67,247,136,130,67,64,170,230,67,21,142,130,67,166,16,233,67,98,21,142,130,67,125,180,233,67,175,71,129,67,12,247,234,67,21,\n206,128,67,186,222,234,67,98,196,245,127,67,53,179,234,67,83,184,125,67,94,207,233,67,42,92,125,67,176,7,233,67,108,41,92,125,67,176,7,233,67,108,106,62,125,67,121,195,232,67,108,135,39,125,67,154,126,232,67,108,141,23,125,67,62,57,232,67,108,135,14,\n125,67,146,243,231,67,108,122,12,125,67,195,173,231,67,108,105,17,125,67,253,103,231,67,108,80,29,125,67,109,34,231,67,108,39,48,125,67,63,221,230,67,108,226,73,125,67,160,152,230,67,108,113,106,125,67,188,84,230,67,108,190,145,125,67,189,17,230,67,108,\n178,191,125,67,208,207,229,67,108,46,244,125,67,29,143,229,67,108,17,47,126,67,207,79,229,67,108,52,112,126,67,14,18,229,67,108,112,183,126,67,1,214,228,67,108,149,4,127,67,207,155,228,67,108,114,87,127,67,158,99,228,67,108,211,175,127,67,144,45,228,\n67,108,192,6,128,67,201,249,227,67,108,29,56,128,67,106,200,227,67,108,226,107,128,67,147,153,227,67,108,238,161,128,67,97,109,227,67,108,31,218,128,67,240,67,227,67,108,21,14,129,67,74,33,227,67,108,21,14,129,67,74,33,227,67,108,21,14,129,67,74,33,227,\n67,108,48,144,130,67,219,47,226,67,108,224,29,132,67,5,82,225,67,108,40,182,133,67,86,136,224,67,108,1,88,135,67,80,211,223,67,108,154,25,136,67,176,135,223,67,108,154,25,136,67,176,135,223,67,98,31,165,138,67,176,135,222,67,246,72,140,67,145,66,221,\n67,93,143,140,67,33,69,218,67,98,236,209,140,67,166,112,215,67,247,8,143,67,207,236,213,67,32,5,146,67,105,230,213,67,108,186,254,159,67,33,197,213,67,98,94,15,163,67,115,189,213,67,135,43,165,67,115,61,215,67,247,136,165,67,125,84,218,67,98,227,218,\n165,67,125,20,221,67,165,80,167,67,125,84,222,67,52,179,169,67,115,61,223,67,98,195,21,172,67,105,38,224,67,21,110,174,67,176,7,225,67,42,92,176,67,74,129,226,67,98,93,239,177,67,197,181,227,67,42,220,178,67,217,195,229,67,42,92,180,67,228,218,231,67,\n98,175,39,179,67,136,43,233,67,226,122,178,67,126,148,234,67,62,138,177,67,248,200,234,67,98,1,224,175,67,33,37,235,67,134,171,175,67,207,172,233,67,164,80,175,67,115,61,232,67,108,164,80,175,67,115,61,232,67,108,106,57,175,67,23,248,231,67,108,192,30,\n175,67,251,179,231,67,108,183,0,175,67,74,113,231,67,108,98,223,174,67,46,48,231,67,108,214,186,174,67,210,240,230,67,108,44,147,174,67,93,179,230,67,108,124,104,174,67,248,119,230,67,108,226,58,174,67,199,62,230,67,108,123,10,174,67,241,7,230,67,108,\n101,215,173,67,151,211,229,67,108,194,161,173,67,220,161,229,67,108,180,105,173,67,223,114,229,67,108,95,47,173,67,190,70,229,67,108,231,242,172,67,150,29,229,67,108,143,226,172,67,51,19,229,67,108,143,226,172,67,51,19,229,67,99,109,246,232,156,67,217,\n227,144,67,98,62,170,156,67,63,170,145,67,72,97,155,67,197,53,146,67,10,119,154,67,104,166,146,67,98,143,2,154,67,114,221,146,67,123,84,153,67,155,153,146,67,10,119,152,67,104,134,146,67,98,10,119,151,67,43,156,146,67,194,21,150,67,196,245,146,67,123,\n212,148,67,114,189,146,67,98,113,253,147,67,12,151,146,67,133,75,147,67,1,160,145,67,246,136,146,67,32,5,145,67,98,144,34,147,67,216,67,144,67,31,165,147,67,155,249,142,67,154,89,148,67,227,218,142,67,108,154,89,148,67,227,218,142,67,108,156,31,150,67,\n98,170,142,67,108,121,231,151,67,161,144,142,67,108,15,176,153,67,177,141,142,67,108,30,197,154,67,12,151,142,67,108,31,197,154,67,12,151,142,67,98,0,32,156,67,113,157,142,67,154,89,157,67,215,99,143,67,143,226,156,67,215,227,144,67,99,109,41,220,176,\n67,238,113,186,67,98,51,211,176,67,105,70,187,67,82,24,176,67,84,152,188,67,31,101,175,67,64,202,188,67,108,31,101,175,67,64,202,188,67,108,81,223,172,67,75,88,189,67,108,55,83,170,67,225,197,189,67,108,122,52,169,67,136,235,189,67,108,123,52,169,67,\n136,235,189,67,98,31,69,164,67,105,6,190,67,143,98,161,67,228,218,187,67,0,0,159,67,44,252,184,67,98,205,140,158,67,239,113,184,67,215,195,158,67,146,226,182,67,184,62,159,67,13,55,182,67,98,61,138,159,67,23,206,181,67,235,241,160,67,167,48,182,67,153,\n217,161,67,3,64,182,67,98,153,249,161,67,3,64,182,67,40,28,162,67,54,115,182,67,194,53,162,67,54,147,182,67,98,174,231,164,67,74,1,186,67,225,122,168,67,23,46,186,67,10,87,172,67,85,88,185,67,98,30,37,173,67,136,43,185,67,246,8,174,67,95,207,184,67,30,\n197,174,67,3,0,185,67,98,70,129,175,67,167,48,185,67,225,218,176,67,82,248,185,67,195,213,176,67,236,113,186,67,99,109,0,0,147,67,20,78,182,67,98,195,117,148,67,102,198,183,67,82,88,147,67,215,3,185,67,236,49,146,67,10,23,186,67,98,103,198,143,67,10,\n87,188,67,236,49,141,67,194,53,190,67,11,151,137,67,10,23,190,67,98,93,79,135,67,51,179,189,67,226,250,132,67,10,119,189,67,31,197,130,67,123,212,188,67,98,174,7,130,67,113,157,188,67,11,151,129,67,113,93,187,67,215,3,129,67,10,151,186,67,98,20,206,129,\n67,133,11,186,67,235,145,130,67,10,23,185,67,174,103,131,67,61,10,185,67,108,174,103,131,67,61,10,185,67,108,178,11,132,67,126,9,185,67,108,138,175,132,67,242,16,185,67,108,207,82,133,67,147,32,185,67,108,23,245,133,67,89,56,185,67,108,252,149,134,67,\n51,88,185,67,108,21,53,135,67,14,128,185,67,108,164,144,135,67,225,154,185,67,108,164,144,135,67,225,154,185,67,98,215,195,138,67,164,112,186,67,113,61,141,67,71,65,185,67,246,104,143,67,133,11,183,67,98,10,119,144,67,0,0,182,67,31,165,145,67,205,236,\n180,67,0,0,147,67,20,78,182,67,99,101,0,0 ];\n\tGandalf_path.loadFromData(Gandalf_path_svg_data);\n\t\n}\n\n\n\n// Local LAF\nconst locl_laf = Content.createLocalLookAndFeel();\n\n\n//  Sliders\nlocl_laf.registerFunction(\"drawRotarySlider\", function(g, obj)\n{\n\n// Text Knobs\n if (obj.text == \"Vol\" || obj.text == \"Unison\") \n   {\n\tg.fillAll(obj.itemColour1);\n\t\n\tvar a = obj.area;\n\tvar val = \"\";\n\t\n\t\n\t// Label Text\n    g.setColour(obj.bgColour);\n    g.setFont(\"Oxygen Regular\", 12); \n    g.drawAlignedText(obj.text, [a[0], -0.15*a[3], a[2], a[3]], \"centred\");\n\t\n\t\n\t// Value Text\n    val = obj.value;\n    g.setColour(obj.itemColour2);\n    g.setFont(\"Oxygen Regular\", 12); \n    \n    if (obj.hover || obj.clicked)\n    {\n    \tg.setColour(obj.textColour);\n    \tg.setFont(\"Oxygen Regular\", 12); \n    \tg.drawAlignedText(obj.text, [a[0], -0.15*a[3], a[2], a[3]], \"centred\");\n    }\n    \n\n\tg.drawAlignedText(Math.round(val) + \"\" + obj.suffix, [a[0], 0.15*a[3], a[2], a[3]], \"centred\");\n \n    \n }\n\n\n\n\n\n\n\n// Pan Text Module Knob\n else if (obj.text == \"Pan\") \n   {\n\tg.fillAll(obj.itemColour1);\n\t\n\tvar a = obj.area;\n\tvar val = \"\";\n\t\n\t\n\t// Label Text\n    g.setColour(obj.bgColour);\n    g.setFont(\"Oxygen Regular\", 12); \n    g.drawAlignedText(obj.text, [a[0], -0.15*a[3], a[2], a[3]], \"centred\");\n\t\n\t\t\n    g.setColour(obj.itemColour2);\n    g.setFont(\"Oxygen Regular\", 12); \n    \n    if (obj.hover || obj.clicked)\n    {\n    \tg.setColour(obj.textColour);\n    \tg.setFont(\"Oxygen Regular\", 12); \n    \tg.drawAlignedText(obj.text, [a[0], -0.15*a[3], a[2], a[3]], \"centred\");\n    }\n\n\n\t//  pan text values\n\tif (obj.value < 0) val = \"L\" + Math.abs(Math.round(obj.value));\n\n\telse if (obj.value > 0) val = \"R\" + Math.round(obj.value);\n\n\telse val = \"C\";\n\n\t\n\tg.drawAlignedText(val, [a[0], 0.15*a[3], a[2], a[3]], \"centred\");\n \n    \n }\n\n\n\n\n // Horizontal Slider\n else if (obj.text == \"Horizontal\") \n   {\n\tvar a = obj.area;\n\t       \n\tvar w = 9;\n\tvar h = 9;\n\tvar thickness = 2;\n\t\t        \n\tvar y = a[3] / 2 - h / 2;\n\tvar x = (a[2] - w - 2*thickness) * obj.valueNormalized + thickness;\n\t\t\t\t\t\n\tg.fillAll(0);\n\tg.setColour(obj.itemColour1);\n\tg.drawLine(0, a[2], a[3]/2, a[3]/2, 2*thickness);\n\n\t       \n\tg.setColour(obj.bgColour);\n\tg.fillRoundedRectangle([x, y, w, h], h);\n\n\n\tg.setColour(obj.itemColour2);  \n\tg.drawEllipse([x, y, w, h], thickness);\t\n\n\tif (obj.hover || obj.clicked)\n\t{\n\t\tg.setColour(obj.textColour);  \n\t\tg.drawEllipse([x, y, w, h], thickness);\t\t\n\t}  \t\n }\n\t\n\n\n\n// Arc Knob\n  else if (obj.text == \"Arc_Gain\" || obj.text == \"Arc_Drive\" || obj.text == \"Arc_Warmth\")\n    {\n    var K = Content.createPath();\n    var p1 = Content.createPath();\n    var range = obj.max - obj.min;\n    \n    var startOffset = 2.5;\n    var arcThickness = 0.13;\n    var arcWidth = 1.0 - 2.0 * arcThickness;\n      \n    p1.clear();\n\n\tvar endOffset = -startOffset + 2.0 * startOffset * obj.valueNormalized;\n    \n    var val = \"\";\n\n    var a = obj.area;\n    var w = obj.area;\n    var round = 2;\n    var h = a[3];\n    \n    \n// Label Text\n\tg.setColour(obj.itemColour1);\n\tg.setFont(\"Oxygen Regular\", 12); \n\tg.drawAlignedText(obj.text.replace(\"Arc_\", \"\"), [a[0], a[3]-a[2], a[2], a[3]], \"centred\");    \n\t    \n\t    \n    g.setColour(obj.bgColour);\n    p1.addArc([arcThickness / 2, arcThickness / 2, arcWidth + arcThickness, arcWidth + arcThickness], - startOffset , 2.5);\n\n        \n    var pathArea = p1.getBounds(obj.area[2]);\n\n        \n    g.setColour(obj.bgColour);\n    g.drawPath(p1, pathArea, obj.area[2] * arcThickness);\n\n    \n    K.addArc([arcThickness / 2, arcThickness / 2, arcWidth + arcThickness, arcWidth + arcThickness], -startOffset - 0.08 , endOffset);   \n\n    \n    var pathArea = K.getBounds(obj.area[2]);\n    \n\n    g.setColour(obj.itemColour2);\n    g.drawPath(K, pathArea, obj.area[2] * arcThickness );\n\n   \n    \n    if (obj.hover || obj.clicked)\n    {\n\n    g.setColour(obj.textColour);\t\n    g.drawPath(K, pathArea, obj.area[2] * arcThickness );\n\n    }\n    \n    \n    g.rotate(endOffset, [obj.area[2] / 2, obj.area[2] / 2]);\n    g.setColour(obj.textColour);\n    g.fillRoundedRectangle([obj.area[2] / 2 - obj.area[2] * 0.04, obj.area[2] / 2 - obj.area[2] * 0.5, obj.area[2]  * 0.1, obj.area[2] * 0.13], 0);\n\n} \n\n});\n\n\n\n\n\n\n\n\n//  Toggle Button\nlocl_laf.registerFunction(\"drawToggleButton\", function(g, obj)\n{  \n\n\tif (obj.text == \"Power\")\n\t{\t    \n\t\n\t\t    if(obj.value)\n\t\t    {\n\t\t    \tif(obj.over)\n   \t\t\t    {\n   \t\t\t    \tg.setColour(obj.itemColour1);\n   \t\t\t    }\n   \t\t    \t\n   \t\t     \telse if(obj.down)\n   \t\t     \t{\n   \t\t     \t  \tg.setColour(obj.textColour);\n   \t\t     \t}\n   \t\t    \t\n   \t\t    \telse\n   \t\t    \t{\n   \t\t    \t\tg.setColour(obj.textColour);\t\n   \t\t    \t}\n\t\t    \t\t\t    \t\n\t\t    \tg.drawEllipse([4, 8, 10, 10], 1);\n\t\t    \tg.fillEllipse([6, 10, 6, 6]);\n\t\t    \tg.setFont(\"Oxygen Regular\", 14); \n\t\t    \tg.drawAlignedText(\"ON\", [0, 4, obj.area[2], 20], \"centred\");\t\n\t\t    }\n\t\t    \n\t\t    else if(!obj.value)\n   \t\t    {\n   \t\t    \tif(obj.over)\n   \t\t\t    {\n   \t\t\t    \tg.setColour(obj.itemColour1);\n   \t\t\t    }\n   \t\t    \t\n   \t\t     \telse if(obj.down)\n   \t\t     \t{\n   \t\t     \t  \tg.setColour(obj.itemColour2);\n   \t\t     \t}\n   \t\t    \t\n   \t\t    \telse\n   \t\t    \t{\n   \t\t    \t\tg.setColour(obj.itemColour2);\t\n   \t\t    \t}\n\n   \t\t    \tg.drawEllipse([4, 8, 10, 10], 1);\n   \t\t    \tg.setFont(\"Oxygen Regular\", 14); \n\t\t\t\tg.drawAlignedText(\"OFF\", [0, 4, obj.area[2], 20], \"centred\");\t\n   \t\t    }\t \n   \t    \t     \n\t}\n\t\n\n\n\telse if (obj.text == \"Gandalf\")\n\t{\t    \n\t\n\t\t    if(obj.value)\n\t\t    {\n\t\t    \tif(obj.over)\n\t   \t\t\t    {\n\t   \t\t\t    \tg.setColour(obj.itemColour1);\n\t   \t\t\t    }\n\t   \t\t    \t\n\t   \t\t     \telse if(obj.down)\n\t   \t\t     \t{\n\t   \t\t     \t  \tg.setColour(obj.textColour);\n\t   \t\t     \t}\n\t   \t\t    \t\n\t   \t\t    \telse\n\t   \t\t    \t{\n\t   \t\t    \t\tg.setGradientFill([obj.textColour, 10, 0.2* obj.area[3], obj.bgColour, 1.2*obj.area[2], 0.6*obj.area[3]]);\t\t\n\t   \t\t    \t}\n\t\t    \t\t\t    \t\n\t\t\t\tg.fillPath(Paths.Gandalf_path, [0, 0, obj.area[2], 1.02 * obj.area[2]]); \n\t\t\t\t\n\t\t\t\tg.setFont(\"Oxygen Regular\", 12); \n\t\t\t\tg.drawAlignedText(\"Gandalf Magic\", [0, obj.area[3]-25, obj.area[2], 20], \"centred\");\n\t\t\t\t\t\n\t\t    }\n\t\t    \n\t\t    else if(!obj.value)\n\t   \t\t    {\n\t   \t\t    \tif(obj.over)\n\t   \t\t\t    {\n\t   \t\t\t    \tg.setColour(obj.itemColour1);\n\t   \t\t\t    }\n\t   \t\t    \t\n\t   \t\t     \telse if(obj.down)\n\t   \t\t     \t{\n\t   \t\t     \t  \tg.setColour(obj.itemColour2);\n\t   \t\t     \t}\n\t   \t\t    \t\n\t   \t\t    \telse\n\t   \t\t    \t{\n\t   \t\t    \t\tg.setColour(obj.itemColour2);\t\n\t   \t\t    \t}\n\t\n\n\t\t\t\tg.fillPath(Paths.Gandalf_path, [0, 0, obj.area[2], 1.02 * obj.area[2]]); \n\t\t\t\t\n\t\t\t\tg.setFont(\"Oxygen Regular\", 12); \n\t\t\t\tg.drawAlignedText(\"Gandalf Magic\", [0, obj.area[3]-25, obj.area[2], 20], \"centred\");\n\t\t\t\t\t\n\t   \t\t    }\t \n\t   \t    \t     \n\t}\n\t\n\n});\n\n\n\n\n\nconst var Slider_VolumeText = Content.getComponent(\"Slider_VolumeText\");\nconst var Slider_UnisonText = Content.getComponent(\"Slider_UnisonText\");\nconst var Slider_PanText = Content.getComponent(\"Slider_PanText\");\nconst var Slider_Horizontal1 = Content.getComponent(\"Slider_Horizontal1\");\nconst var Slider_Horizontal2 = Content.getComponent(\"Slider_Horizontal2\");\nconst var Slider_ArcKnob1 = Content.getComponent(\"Slider_ArcKnob1\");\nconst var Slider_ArcKnob2 = Content.getComponent(\"Slider_ArcKnob2\");\nconst var Slider_ArcKnob3 = Content.getComponent(\"Slider_ArcKnob3\");\nconst var Button_Power = Content.getComponent(\"Button_Power\");\nconst var Button_Magic = Content.getComponent(\"Button_Magic\");\n\n\n\n\n\nSlider_VolumeText.setLocalLookAndFeel(locl_laf);\nSlider_UnisonText.setLocalLookAndFeel(locl_laf);\nSlider_PanText.setLocalLookAndFeel(locl_laf);\nSlider_Horizontal1.setLocalLookAndFeel(locl_laf);\nSlider_Horizontal2.setLocalLookAndFeel(locl_laf);\nSlider_ArcKnob1.setLocalLookAndFeel(locl_laf);\nSlider_ArcKnob2.setLocalLookAndFeel(locl_laf);\nSlider_ArcKnob3.setLocalLookAndFeel(locl_laf);\nButton_Power.setLocalLookAndFeel(locl_laf);\nButton_Magic.setLocalLookAndFeel(locl_laf);\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Loop a filmstrip",
    "category": "UI",
    "tags": [
      "Graphics API",
      "ScriptPanel",
      "Simple"
    ],
    "description": "\n\nLoops through a filmstrip with a ScriptPanel Timer.",
    "code": "Content.makeFrontInterface(160, 150);\r\n\nFileSystem.loadExampleAssets();\n\n\r\nconst var Panel1 = Content.getComponent(\"Panel1\");\r\nconst var Button1 = Content.getComponent(\"Button1\");\r\n\r\nreg index = 0; // index of the filmstrip \r\nreg total_frames = 99; // total frames in the filmstrip\r\nreg frame_height = 64; // the height(y) of each frame\r\n\r\n\r\nPanel1.loadImage(\"{PROJECT_FOLDER}knob_filmstrip.png\", \"dot\");\r\n\r\nPanel1.setPaintRoutine(function(g){\r\n    \r\n    g.drawImage(\"dot\", [0, 0, this.get(\"width\"), this.get(\"height\")], 0, index * frame_height);\r\n});\r\n\r\nPanel1.setTimerCallback(function(){\r\n    index = (index + 1) % total_frames;\r\n    this.repaint();\r\n});\r\n\r\n// Custom Callback for Button1\r\n\r\ninline function onButton1Control(component, value)\r\n{\r\n\tif (value)\r\n    {  \r\n        Panel1.startTimer(100);\r\n    }\r\n    else\r\n    {\r\n        Panel1.stopTimer();\r\n    }\r\n};\r\n\r\nContent.getComponent(\"Button1\").setControlCallback(onButton1Control);\r\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Lottie Hello World",
    "category": "UI",
    "tags": [
      "Visuals"
    ],
    "description": "Plays back a Lottie animation sequence in HISE. On the right side you can scrub through the animation frame by frame with a mouse drag.\n",
    "code": "Content.makeFrontInterface(600, 200);\n\nContent.setHeight(200);\n\nconst var p = Content.addPanel(\"Panel\", 0, 0);\np.set(\"width\", 300);\np.set(\"height\", 200);\n\n// This loads a Lottie animation. The string is a processed JSON file\n// that was compressed with the Lottie Dev Panel.\n\nconst var lottieAnim = \"2431.nT6K8CVP5z5R.nYQvsfIP7FkNXfcbj1U7O0HpZ0ec3FT+fqP+.O.VgDxxHStiI.QUUUUMvXt.TK.jBvuzc4UtPcucQdMTmI9Hy8JQuqU+zuX2vg4lS6Z0qZks2u5T7JgnErhog3EyFN4jSCENKLJPHIxDJIZZnTYWjFZWqgZTuFXxliglPuPFgRjSFLEGIQzH4Xn0Tbl.YoQg4XnyBjFIvZTl3fjo3fgIGCoPZzrfAEGoDNMNYnASwQxjEIRTNFJMEGGbvgigNrw7HBiaogAGSw4ADHNFJ60TbrvwPqjibLDyz3XnTYJNMObLzwQE6io3HwICoMlJ2PIUeVlz.hHr4DlHQkKClyhINOZh7fDHJMOnURQHwUbxbxzLwNiQCHXTZNfilNsPQuJkq+8WoNCGOXm0rLwQCCHwVnPyhBzGOdrte9o7yujqqdpGW6ookS7aky7B8mUK2L1ZqveWocYOkV3qJO8bas+bkZqRFx4U4Uk3P4AGffoBQZNfclCrlHSXr.Aq.Bf.A.xiigNpAwDkIVpPyDF9RUlyFWMgp9axthqlSMptegItwfuZb20t51uZWcZHkpTu6ehIkg1F0UwmSpzBy6t2W7Mjg51PFxY0Uqdg74Ni8qvURU3dF5tOQ2PpVSKkRhGu6x6t6bCYHCYH0pJ1ntXj0TBWCsbL4N+31XuXgHNLPxghDKX4jJSk+z2pu82a1VjvzvgiBvJ0wwRlTkwPFpUJ9sCFMMF.umhppP+Lz5wUqYB0UhIT0xpSXXLzIUIjGH7EVfAWovKD.fIVDQixCMydsfxMlpUQvCKMoEZmp+8e+Ok78Pc6I7WY86W8KFU6k7+pZa3oTs3dYLxjMkptVHudl5qdhY5aCIxDlPiF3I8TqNw5woK4nJs1000p7y2s6JknxmJwz9M+IdWxSquXE1qdspxtCKMP0I+qew452lS+4kmJ2U+m3ck2c2cmlLtx8UF2UBW2c2c2c24op2TyVyku9eyESvfrfprS7UEM...JZH.hDkghknKmzox6HJXHQo4nvXXHiBYX.HPfAF...BD..I..LgdIVeX6P.tISV2YPpGpMIObyzKIS1Uo6atGDwnoXMe3wU+dzIySjGoo4yeOTtDIJEOVs9ZmRKzR7xwrdbQNR7wOU8YuobmDhFeXFYsKrKAZ63Kz4FPT7PW07BinoACHaN1JR9MliXlPY0O0cfHjBow3bbewCKxnnRYMmvbB3aftqcbPvu.JLMKzkJj2d.HHfTlNblfEPoB3VdVPzBbnyDPqjRfVQn+Yf5Vm32f5PUkF0CNkWIo+R5yNCjsPCzo.Gax8nfrfsvgClZnrIQWeV65gFsJtzRIFFlcheJkFJ4TDO3jH0pEWlGcK5CUlAG.EP1lLKQE3s2lDL93RJZF.FUgqbAvseJLFUFnUoJY6lc7j..Djd7YQI+BMBVD7LQDdF0iVe8w.6YffxHfGk8KE5xRIHrfestGxUNVZ4kp1t5uLYzRBixAh0Rj5m0t+JxewNwJSTtmULpSnWZFtBtqW.tCkIma7Q7hICPzRrM4GKfYB6MrNwZXzAT6B7P6XJnYra3q1.iy1618SN7anG3KFzSZfWrvtrDcKK4V3fmK8VTlqXg0FtFaSpDU+ZMiIenUj6zZiwtgRLyhko8QCVMZwjo4TeK6oW3y33JXqgjBhE9Pkt5wi4uSQ0nGS9xo7CZN6QvXkjqMw1F.O1.Ccx0NCm5BZ+JEkbTcKUp4htPpHenLcgutvr6v2Jb2xJH8rI8+EhI.lC9DAPP4vI3GfafkoBqik.zOd.UsufcGSMfvB8rnShgsxnEgEZissyAIsUObzvfwhj1DjADH7FIj+F9F4YZLqFHv83PhAxbXSYojiDCnuwBfsU2qMm4MsokSZFzEn9QS.RM90hnZNS2zVoQgwKrzuvwPBpqem+J.DZ+R+ul2d1j+0K7pU4SwKcleTjE.SWcjXrjny.EkQQYsXAYZoxl2RlCgcX+4f1Ub+wU4cLOk2Xnk+V.hb.oAYEb9ThrgIjTETzwOdYw24LdnlVNxRyNi52CNfKs+MupXqOYDF.brnqgjdm6MXYphemRphB401Vp22wOc0DQydqzu6jXc0lsZQF+tq6I4KnX8kIvYEmYQpaoOxNkBViZuDviyQMqjbFPp0Jvfyg+JwgtaVVon1ptzc7NQNvnpCebtrLd7903Mw9AIHuVIB.5yHjIdEFiqKY5EGu7QHy2iD4HcjyR4yQs+evORAaK2ewX1VE2nfrvHfJhPa73DC7fsvFgs3M.d5wvLJRLLqMZJ0TeUUpzlQ6q9wrCWaR.MRbLuqOH6.ZA9X3WERAvZsKyCJZ8RI44RWacgvqpoT1IptuBuZtPcI5QEwYxtO.NYjcbMTNCpglkqlMuC65qwejdscuaPPewYHpzdrGwE+bOzkQrqC46VAXYUlyGQiAQ.vvtr3D2YctdPmM7iZeo9pcXHhkRfFJA8xYHlRrWjyMRg8hkpMuWsgPeDvKPa8je5u80pgf7ACNueNKLiTdGIJzxWP.fvjmOv51tvQre71otYzP1CUZWgkjAgN2c3QIbPDb7kiTWPvNyd4O8rp0sOoYRU1Y68PxcRFcbuRlsmF.ncz4kt3TrMowJMDVhhushSKVZZKSJRMZXHpG.ZJbzkrx.C.RR6ajfoU3Uvb2jSgF2vHe6fcIUHevzjB5BI7UZN9yJA+aSQL7yyy53GaAQnlYQpWje84PPbRaQSZJLwX0gNaItAuUeYx7znJOgn.QWOVZLMvXDTNz20Boyt5GPMUVLqHBSPwd4uFvwpYS7Z8wD9jnNobf..mPsymcCPFQTM3EWFHirJEZdsVqvfweIq5EavS9UzkSxse3ppCZpHgAzJXoLbqmHE34awmZTlxQnnEH2GlxpA4FF8Uzbs7TdZLmSk0HyP94ut7CdGT2PRGRiYY7aoww8eNqeDUrXAEZX3p2GvHyrgpIeGKI1Sbhe4r66p0kn71ok1LW8pJcoVyLhnose1BzF5GRYasrb9Abvk0miypkkrmZja3RRGb8cKFTUr1BfF9rwnrFZJtajKipCFVf4EJ7CrujgIh6kgLSlQ2KJc5GRu1Gq.CXirxLWVzfPykM0ueahqkFSGYkvC7B3.brKVt5.2tga7pUEmedPun7g0824bZcf5.9yp6ImiDBvfUyPMyFGGb.H3.rBzJa4XtdA5n+ymdWMRZpqwdZRdnC3iJTYgB+bwcSP4JqUqveOwe5p1PbseDu2GnQzcO.\"\n\np.setAnimation(lottieAnim);\n\n// We'll use it to control the animation playback.\nconst var object = p.getAnimationData();\n\n// Let's do a simple looped animation first\np.setTimerCallback(function()\n{\n    // using modulo to wrap around the loop\n    var nextFrame = (object.currentFrame + 1) % object.numFrames;\n\n    this.setAnimationFrame(nextFrame);\n});\n\n// We need to convert the framerate from Hz to a millisecond interval for the timer:\np.startTimer(1000.0 / object.frameRate);\n\n\n// Now let's make the animation react to the mouse, to \"scrub\" through the animation.\n\nconst var p1 = Content.addPanel(\"Panel1\", 0, 0);\np1.set(\"width\", 300);\np1.set(\"height\", 200);\np1.set(\"x\", 300);\n\np1.setAnimation(lottieAnim);\n\n// Set the panel to react on mouse drags\np1.set(\"allowCallbacks\", \"Clicks, Hover & Dragging\");\n\n\np1.setMouseCallback(function(event)\n{\n    if(event.drag)\n    {\n        // We'll calculate the normalised drag position\n        var value = event.y / this.getHeight();\n        // now we set the animation frame\n        this.setAnimationFrame(value * object.numFrames);\n    }\n});\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Modulate a circle with a Gain LFO",
    "category": "UI",
    "tags": [
      "Graphics API",
      "ScriptPanel",
      "Simple"
    ],
    "description": "\nTakes the value of the Modulator and paints the alpha value of a red circle with a ScriptPanels PaintRoutine.\n",
    "code": "Content.makeFrontInterface(50, 50);\r\n\r\nconst var LFOModulator1 = Synth.getModulator(\"LFO Modulator1\");\r\n\r\nconst var Panel1 = Content.getComponent(\"Panel1\");\r\n\r\nPanel1.setPaintRoutine(function(g){\n    g.setColour(Colours.withAlpha(0xca2332, LFOModulator1.getCurrentLevel()));\n    g.fillEllipse([5,3,40,40]);\n});\n\nPanel1.setTimerCallback(function(){\n    this.repaint();\n});\r\n\nPanel1.startTimer(40);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Open a Website",
    "category": "UI",
    "tags": [
      "ScriptPanel"
    ],
    "description": "You can open an Website with\u00a0`Engine.openWebsite(\"\")`\u00a0. The easiest way to implement this is with a ScriptPanel. A click event will open up the website in an external webbrowser.\n\nPlease remember to set the ScriptPanels\u00a0`allowCallbacks`\u00a0property to \"Clicks & Hover\".",
    "code": "Content.makeFrontInterface(600, 500);\r\n\r\nconst var Panel1 = Content.getComponent(\"Panel1\");\r\n\r\nreg link_hover = 0;\r\n\r\nPanel1.setPaintRoutine(function(g)\r\n{\r\n    g.setColour(Colours.antiquewhite);\r\n    g.drawText(\"wikipedia.org\", [0,0,100,20]);\r\n    \r\n    if (link_hover == true)\r\n    {\r\n      g.drawLine(12, 88, 20, 20, 1.0);\n    }\r\n});\r\n\r\nPanel1.setMouseCallback(function(event)\r\n{\r\n  if (event.clicked)\r\n  {\r\n    Engine.openWebsite(\"https://www.wikipedia.org/\");\n  } \r\n  else \r\n  {\r\n    link_hover = event.hover;\r\n    this.repaint();\r\n  }\r\n});\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Peak Meter LAF with FilmStrip Image",
    "category": "UI",
    "tags": [
      "LookAndFeel"
    ],
    "description": "\n\nA Peak meter LAF with filmstrip drawn on a MatrixPeakMeter floating tile by [orange](https://forum.hise.audio/user/orange).\n\n[download_VuMeter.png](https://forum.hise.audio/assets/uploads/files/1705336096765-vu_meter.zip)",
    "code": "Content.makeFrontInterface(500, 200);\n\n/*\n\nThis peak meter is just to show the usage of imagestrip in LAF. The dB values on the image may not match the real values. \n\nAdjust the frame number and zero dB frame number in the LAF. Also set the height of the FloatingTile to the desired image height.\n\nAdjust the Decay values inside the FloatingTile. \n\nAlso make sure that the background color is full transparent to prevent the glitch.\n\n*/\n\nconst laf = Content.createLocalLookAndFeel();\n\n// Load the filmstrip image into the laf\nlaf.loadImage(\"{PROJECT_FOLDER}VuMeter.png\", \"VUMeter\");\n\n// Peak meter floating tile\nlaf.registerFunction(\"drawMatrixPeakMeter\", function(g, obj)\n   {\n\n\tvar a = obj.area;\n\tvar z_value = 0;\n\t\n\t// Total Frames\n\tvar frames = 100;\n\t\n\t// Zero dB frmae number\n\tvar zerpnt = 70;\n\t\n\t\n\tfor (i = 0; i < 2; i++)\n\t{\n\t\tvar z = obj.peaks[i];\n\t\t\n\t\t// dB is up to 0\n       \tif (z <= 1.0)\n\t\tz_value = Math.round((zerpnt - 1) * z);\n\t\t\t\t\n\t\t\n\t\t// dB is between 0 & +3\n       \telse if (z > 1.0 && z <= 1.413)\n\t\tz_value = Math.round((zerpnt - 1) + (frames - zerpnt) * (z - 1.0)/0.413);\n\t\t\n\t\t// dB above +3\n\t\telse\n\t\tz_value = frames - 1;\n\t\t\t\n\t\t// Draw the image\n\t\tg.drawImage(\"VUMeter\", [i * 150, 0, 128, a[3]], 0, 80 * z_value);\t\t\t\t\t\n\t}\n   \t\n});\n\n\nconst var FloatingTile1 = Content.getComponent(\"FloatingTile1\");\nFloatingTile1.setLocalLookAndFeel(laf);\n\n\n\n\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Preset dropdown menu",
    "category": "UI",
    "tags": [
      "UI Logic"
    ],
    "description": "\nA combobox to access the saved UserPresets with a combobox.\n\n[Forum Topic](https://forum.hise.audio/topic/11783/parse-getuserpresetlist-output-into-2d-array/9)\n\n@d.healey",
    "code": "Content.makeFrontInterface(600, 600);\n\nconst var cmbPresets = Content.getComponent(\"cmbPresets\");\ncmbPresets.setControlCallback(oncmbPresetsControl);\n\ninline function oncmbPresetsControl(component, value)\n{\n\tif (!value)\n\t\treturn;\n\n\tlocal itemText = Engine.getUserPresetList()[value - 1];\n\n\tConsole.print(itemText);\n}\n\npopulatePresetsMenu();\n\ninline function populatePresetsMenu()\n{\n\tcmbPresets.set(\"items\", \"\");\n\n\tfor (x in Engine.getUserPresetList())\n\t{\n\t\tlocal arr = x.split(\"/\");\t\t\t\n\t\tlocal item = \"\";\n\t\t\n\t\tfor (i = 0; i < arr.length; i++)\n\t\t{\n\t\t\titem += arr[i];\n\t\t\t\n\t\t\tif (i < arr.length - 1)\n\t\t\t\titem += \"::\";\n\t\t}\n\n\t\tcmbPresets.addItem(item);\n\t}\n}\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "A ball shooting Game",
    "category": "UI",
    "tags": [
      "First contact",
      "ScriptPanel",
      "UI Logic"
    ],
    "description": "\n\n\nA little ball shooting game. Let's have some funs! ",
    "code": "Content.makeFrontInterface(400, 400);\r\n\r\nconst var p = Content.createPath();\n\r\np.loadFromData([110,109,186,73,104,65,59,223,223,63,98,143,194,156,65,145,237,20,64,86,14,193,65,170,241,202,64,242,210,200,65,18,131,54,65,98,53,94,201,65,63,53,60,65,156,196,201,65,158,239,65,65,37,6,202,65,20,174,71,65,108,231,251,215,65,68,139,68,65,108,231,251,\n215,65,139,108,107,65,108,0,0,202,65,186,73,104,65,98,217,206,198,65,223,79,151,65,205,204,175,65,229,208,184,65,242,210,142,65,199,75,198,65,98,41,92,134,65,131,192,201,65,96,229,122,65,168,198,203,65,23,217,104,65,238,124,204,65,108,139,108,107,65,\n231,251,215,65,108,68,139,68,65,231,251,215,65,108,233,38,71,65,248,83,204,65,98,209,34,5,65,221,36,201,65,72,225,138,64,164,112,181,65,78,98,32,64,25,4,151,65,98,145,237,236,63,246,40,140,65,18,131,192,63,53,94,128,65,217,206,183,63,23,217,104,65,108,\n0,0,0,0,139,108,107,65,108,0,0,0,0,68,139,68,65,108,152,110,194,63,150,67,71,65,98,16,88,1,64,131,192,6,65,190,159,142,64,162,69,146,64,25,4,4,65,51,51,51,64,98,76,55,25,65,129,149,11,64,88,57,48,65,254,212,232,63,178,157,71,65,12,2,219,63,108,68,139,\n68,65,0,0,0,0,108,139,108,107,65,0,0,0,0,108,186,73,104,65,59,223,223,63,99,109,35,219,201,64,172,28,96,65,108,72,225,66,64,207,247,101,65,98,236,81,88,64,4,86,145,65,31,133,187,64,236,81,174,65,240,167,22,65,182,243,185,65,98,135,22,39,65,211,77,189,\n65,225,122,56,65,147,24,191,65,74,12,74,65,201,118,191,65,108,10,215,79,65,129,149,165,65,98,233,38,57,65,90,100,165,65,141,151,34,65,207,247,161,65,70,182,15,65,94,186,154,65,98,12,2,235,64,20,174,144,65,115,104,205,64,80,141,128,65,35,219,201,64,172,\n28,96,65,99,109,233,38,163,65,129,149,95,65,98,209,34,163,65,221,36,110,65,178,157,161,65,72,225,124,65,211,77,158,65,43,135,133,65,98,219,249,149,65,16,88,151,65,18,131,131,65,84,227,162,65,49,8,96,65,2,43,165,65,108,193,202,101,65,84,227,190,65,98,\n225,122,142,65,201,118,187,65,143,194,168,65,70,182,170,65,86,14,181,65,88,57,145,65,98,33,176,185,65,178,157,135,65,123,20,188,65,29,90,122,65,176,114,188,65,125,63,101,65,108,233,38,163,65,129,149,95,65,99,109,215,163,82,65,238,124,251,64,98,193,202,\n37,65,240,167,254,64,119,190,255,64,29,90,38,65,139,108,243,64,39,49,82,65,108,115,104,45,65,231,251,87,65,108,45,178,241,64,59,223,93,65,98,213,120,241,64,74,12,106,65,53,94,246,64,29,90,118,65,33,176,0,65,111,18,129,65,98,184,30,15,65,31,133,144,65,\n137,65,48,65,184,30,154,65,39,49,82,65,123,20,155,65,108,231,251,87,65,174,71,129,65,108,143,194,93,65,111,18,155,65,98,31,133,111,65,55,137,154,65,213,120,128,65,55,137,151,65,94,186,135,65,33,176,145,65,98,100,59,146,65,76,55,137,65,125,63,151,65,35,\n219,119,65,246,40,151,65,96,229,92,65,108,174,71,129,65,231,251,87,65,108,109,231,150,65,209,34,83,65,98,84,227,148,65,182,243,41,65,25,4,135,65,18,131,2,65,199,75,93,65,246,40,252,64,108,231,251,87,65,115,104,45,65,108,215,163,82,65,238,124,251,64,99,\n109,248,83,101,65,55,137,89,64,108,203,161,95,65,250,126,210,64,98,92,143,137,65,123,20,222,64,147,24,159,65,219,249,28,65,215,163,162,65,18,131,80,65,108,84,227,187,65,23,217,74,65,98,104,145,184,65,188,116,19,65,231,251,167,65,86,14,189,64,53,94,142,\n65,227,165,139,64,98,33,176,133,65,143,194,117,64,43,135,120,65,174,71,97,64,248,83,101,65,55,137,89,64,99,109,141,151,74,65,20,174,87,64,98,207,247,1,65,125,63,109,64,37,6,129,64,227,165,231,64,111,18,75,64,55,137,59,65,98,139,108,71,64,4,86,64,65,8,\n172,68,64,2,43,69,65,170,241,66,64,0,0,74,65,108,113,61,202,64,84,227,79,65,98,182,243,205,64,10,215,55,65,59,223,223,64,127,106,32,65,166,155,0,65,98,16,14,65,98,205,204,20,65,20,174,239,64,59,223,49,65,117,147,212,64,186,73,80,65,104,145,209,64,108,\n141,151,74,65,20,174,87,64,99,101,0,0]); // Sniper Icon. You can convert svg to path data with \"Tools > SVG to path data\" \n\r\n                \r\nconst var Panel1 = Content.getComponent(\"Panel1\");\r\n\r\nconst var colours = [Colours.yellow, Colours.navy, Colours.pink, Colours.teal, Colours.brown, Colours.seagreen, Colours.blanchedalmond ];\r\n\r\ninline function createBall(w, h)\r\n{\r\n    local obj = \r\n    {\r\n        \"alpha\": 1.0,\r\n        \"x\": Math.randInt(0, w),\r\n        \"y\": Math.randInt(0, h),\r\n        \"c\": colours[Math.randInt(0, colours.length-1)],\r\n        \"deltaX\": Math.randInt(1, 6),\r\n        \"deltaY\": Math.randInt(1, 6)\r\n    };\r\n    \r\n    return obj;\n}\r\n\r\nPanel1.data.targets = [];\r\n\r\nPanel1.set(\"allowCallbacks\", \"Clicks & Hover\");\r\n\r\n\r\nfor(i = 0; i < 10; i++)\r\n    Panel1.data.targets.push(createBall(Panel1.get(\"width\"), Panel1.get(\"height\")));\r\n\r\ninline function contains(area, point)\r\n{\r\n    return point[0] > area[0] && point[0] < (area[0]+ area[2]) &&\r\n           point[1] > area[1] && point[1] < (area[1]+ area[3]);\n}\r\n\r\nreg BALL_WIDTH = 40;\r\n\r\ninline function getExpandedRectangle(point, delta)\r\n{\r\n    return [point[0] - delta, point[1] - delta, delta * 2, delta * 2]\n}\r\n    \r\nPanel1.setPaintRoutine(function(g)\n{\r\n    g.setColour(Colours.white);\r\n    \r\n    g.fillAll(0x22FFFFFF);\r\n    \r\n    \n\tfor(t in this.data.targets)\r\n    {\r\n        g.setColour(Colours.withAlpha(t.c, t.alpha));\r\n        g.fillEllipse(getExpandedRectangle([t.x, t.y], BALL_WIDTH/2));\n    }\n});\n\r\nconst var Speed = Content.getComponent(\"Speed\");\r\n\r\n\r\ninline function onSizeControl(component, value)\r\n{\r\n\tBALL_WIDTH = 60 * value;\r\n};\r\n\r\nContent.getComponent(\"Size\").setControlCallback(onSizeControl);\r\n\r\n\r\nPanel1.setTimerCallback(function()\r\n{\r\n    var w = this.get(\"width\");\r\n    var h = this.get(\"height\");\r\n    \r\n    for(t in this.data.targets)\r\n    {\r\n        var thisDeltaX = t.deltaX * Speed.getValue();\r\n        var thisDeltaY = t.deltaY * Speed.getValue();\r\n        \r\n        t.x += thisDeltaX;\r\n        t.y += thisDeltaY;\r\n        \r\n        if(t.x > w-BALL_WIDTH/2 || t.x < BALL_WIDTH/2)\r\n        {\r\n            t.deltaX *= -1;\r\n            t.x = Math.range(t.x, BALL_WIDTH/2, w-BALL_WIDTH/2);\r\n        }\r\n        \r\n        if(t.y > h-BALL_WIDTH/2 || t.y < BALL_WIDTH/2)\r\n        {\r\n            t.deltaY *= -1;\r\n            t.y = Math.range(t.y, BALL_WIDTH/2, h-BALL_WIDTH/2);   \r\n        }\r\n        \n    }\r\n    \r\n    this.repaint();\n});\r\n\r\nPanel1.startTimer(30);\r\n\r\nPanel1.setMouseCallback(function(event)\n{\r\n    if(event.clicked)\r\n    {\r\n\t    this.data.x = event.x;\r\n\t    this.data.y = event.y;\r\n\t    \r\n\t    for(t in this.data.targets)\r\n        {\r\n            if(contains(getExpandedRectangle([t.x, t.y], BALL_WIDTH/2), [event.x, event.y]))\r\n                t.alpha = 0.0;\n        }\r\n    }\n});\n\r\ninline function onRestartControl(component, value)\r\n{\r\n\tfor(t in Panel1.data.targets)\r\n\t    t.alpha = 1.0;\r\n};\r\n\r\nContent.getComponent(\"Restart\").setControlCallback(onRestartControl);\r\n\n\r\nPanel1.setMouseCursor(p, Colours.red, [0.5, 0.5]);  // Exchanges the mouse cursor with the loaded path data.\r\n\r\n\r\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Rotating Tape Reel Icon Knobs LAF",
    "category": "UI",
    "tags": [
      "LookAndFeel"
    ],
    "description": "\nA rotating Tape Reel Icon Knobs LAF by [fortune](https://forum.hise.audio/user/fortune). Drag to turn the tape reel.",
    "code": "Content.makeFrontInterface(400, 300);\n\n// Paths\nnamespace Paths\n{\n\t\n\t//! =============== TapeReel Icon ====================\n\tconst var TapeReel_path = Content.createPath();\n\tconst var TapeReel_path_svg_data = [110,109,20,14,149,67,225,186,193,67,108,20,14,149,67,225,186,193,67,108,153,3,149,67,129,172,193,67,108,107,248,148,67,171,158,193,67,108,142,236,148,67,104,145,193,67,108,12,224,148,67,194,132,193,67,108,236,210,148,67,191,120,193,67,108,55,197,148,\n67,104,109,193,67,108,245,182,148,67,197,98,193,67,108,47,168,148,67,219,88,193,67,108,239,152,148,67,177,79,193,67,108,63,137,148,67,78,71,193,67,108,41,121,148,67,181,63,193,67,108,182,104,148,67,237,56,193,67,108,243,87,148,67,250,50,193,67,108,232,\n70,148,67,223,45,193,67,108,161,53,148,67,160,41,193,67,108,42,36,148,67,63,38,193,67,108,141,18,148,67,191,35,193,67,108,213,0,148,67,33,34,193,67,108,15,239,147,67,102,33,193,67,108,69,221,147,67,142,33,193,67,108,130,203,147,67,155,34,193,67,108,211,\n185,147,67,138,36,193,67,108,66,168,147,67,91,39,193,67,108,219,150,147,67,11,43,193,67,108,169,133,147,67,153,47,193,67,108,182,116,147,67,2,53,193,67,108,14,100,147,67,66,59,193,67,108,187,83,147,67,85,66,193,67,108,200,67,147,67,55,74,193,67,108,63,\n52,147,67,226,82,193,67,108,42,37,147,67,81,92,193,67,108,146,22,147,67,126,102,193,67,108,129,8,147,67,98,113,193,67,108,0,251,146,67,247,124,193,67,108,24,238,146,67,53,137,193,67,108,208,225,146,67,21,150,193,67,108,49,214,146,67,141,163,193,67,108,\n66,203,146,67,149,177,193,67,108,10,193,146,67,38,192,193,67,108,144,183,146,67,52,207,193,67,108,217,174,146,67,182,222,193,67,108,236,166,146,67,163,238,193,67,108,205,159,146,67,241,254,193,67,108,129,153,146,67,148,15,194,67,108,11,148,146,67,131,\n32,194,67,108,112,143,146,67,178,49,194,67,108,179,139,146,67,22,67,194,67,108,213,136,146,67,165,84,194,67,108,216,134,146,67,83,102,194,67,108,191,133,146,67,20,120,194,67,108,137,133,146,67,222,137,194,67,108,54,134,146,67,165,155,194,67,108,199,135,\n146,67,94,173,194,67,108,59,138,146,67,253,190,194,67,108,142,141,146,67,119,208,194,67,108,193,145,146,67,192,225,194,67,108,207,150,146,67,207,242,194,67,108,182,156,146,67,151,3,195,67,108,113,163,146,67,15,20,195,67,108,254,170,146,67,43,36,195,67,\n108,85,179,146,67,225,51,195,67,108,116,188,146,67,40,67,195,67,108,83,198,146,67,245,81,195,67,108,236,208,146,67,63,96,195,67,108,56,220,146,67,253,109,195,67,108,49,232,146,67,38,123,195,67,108,206,244,146,67,177,135,195,67,108,7,2,147,67,151,147,\n195,67,108,213,15,147,67,208,158,195,67,108,46,30,147,67,85,169,195,67,108,9,45,147,67,31,179,195,67,108,92,60,147,67,40,188,195,67,108,30,76,147,67,106,196,195,67,108,69,92,147,67,223,203,195,67,108,198,108,147,67,132,210,195,67,108,150,125,147,67,83,\n216,195,67,108,172,142,147,67,73,221,195,67,108,251,159,147,67,99,225,195,67,108,122,177,147,67,158,228,195,67,108,28,195,147,67,249,230,195,67,108,215,212,147,67,113,232,195,67,108,159,230,147,67,5,233,195,67,108,104,248,147,67,182,232,195,67,108,40,\n10,148,67,132,231,195,67,108,211,27,148,67,111,229,195,67,108,94,45,148,67,120,226,195,67,108,189,62,148,67,162,222,195,67,108,230,79,148,67,239,217,195,67,108,204,96,148,67,98,212,195,67,108,103,113,148,67,254,205,195,67,108,170,129,148,67,200,198,195,\n67,108,140,145,148,67,196,190,195,67,108,2,161,148,67,248,181,195,67,108,3,176,148,67,104,172,195,67,108,51,179,148,67,61,170,195,67,108,51,179,148,67,61,170,195,67,108,51,179,148,67,61,170,195,67,108,155,193,148,67,178,159,195,67,108,120,207,148,67,\n113,148,195,67,108,193,220,148,67,131,136,195,67,108,109,233,148,67,239,123,195,67,108,115,245,148,67,189,110,195,67,108,205,0,149,67,245,96,195,67,108,115,11,149,67,160,82,195,67,108,95,21,149,67,200,67,195,67,108,137,30,149,67,117,52,195,67,108,236,\n38,149,67,179,36,195,67,108,131,46,149,67,137,20,195,67,108,72,53,149,67,4,4,195,67,108,57,59,149,67,46,243,194,67,108,79,64,149,67,17,226,194,67,108,138,68,149,67,184,208,194,67,108,228,71,149,67,47,191,194,67,108,94,74,149,67,128,173,194,67,108,244,\n75,149,67,184,155,194,67,108,167,76,149,67,225,137,194,67,108,117,76,149,67,6,120,194,67,108,94,75,149,67,52,102,194,67,108,100,73,149,67,117,84,194,67,108,136,70,149,67,214,66,194,67,108,202,66,149,67,97,49,194,67,108,47,62,149,67,33,32,194,67,108,185,\n56,149,67,33,15,194,67,108,106,50,149,67,109,254,193,67,108,73,43,149,67,15,238,193,67,108,87,35,149,67,17,222,193,67,108,156,26,149,67,126,206,193,67,108,29,17,149,67,96,191,193,67,108,20,14,149,67,225,186,193,67,108,20,14,149,67,225,186,193,67,99,109,\n61,106,147,67,153,217,194,67,108,61,106,147,67,152,217,194,67,108,29,102,147,67,23,211,194,67,108,81,98,147,67,99,204,194,67,108,220,94,147,67,129,197,194,67,108,192,91,147,67,117,190,194,67,108,0,89,147,67,67,183,194,67,108,157,86,147,67,240,175,194,\n67,108,151,84,147,67,129,168,194,67,108,242,82,147,67,251,160,194,67,108,174,81,147,67,98,153,194,67,108,203,80,147,67,187,145,194,67,108,74,80,147,67,11,138,194,67,108,44,80,147,67,88,130,194,67,108,112,80,147,67,165,122,194,67,108,23,81,147,67,248,\n114,194,67,108,32,82,147,67,86,107,194,67,108,138,83,147,67,195,99,194,67,108,85,85,147,67,70,92,194,67,108,127,87,147,67,225,84,194,67,108,6,90,147,67,154,77,194,67,108,234,92,147,67,119,70,194,67,108,41,96,147,67,122,63,194,67,108,192,99,147,67,169,\n56,194,67,108,173,103,147,67,9,50,194,67,108,237,107,147,67,156,43,194,67,108,126,112,147,67,104,37,194,67,108,93,117,147,67,113,31,194,67,108,135,122,147,67,186,25,194,67,108,249,127,147,67,70,20,194,67,108,174,133,147,67,26,15,194,67,108,164,139,147,\n67,57,10,194,67,108,214,145,147,67,165,5,194,67,108,65,152,147,67,99,1,194,67,108,224,158,147,67,116,253,193,67,108,176,165,147,67,218,249,193,67,108,171,172,147,67,153,246,193,67,108,206,179,147,67,179,243,193,67,108,19,187,147,67,40,241,193,67,108,\n119,194,147,67,252,238,193,67,108,245,201,147,67,47,237,193,67,108,134,209,147,67,194,235,193,67,108,40,217,147,67,182,234,193,67,108,213,224,147,67,13,234,193,67,108,135,232,147,67,198,233,193,67,108,59,240,147,67,225,233,193,67,108,235,247,147,67,95,\n234,193,67,108,146,255,147,67,63,235,193,67,108,44,7,148,67,129,236,193,67,108,179,14,148,67,35,238,193,67,108,34,22,148,67,38,240,193,67,108,118,29,148,67,135,242,193,67,108,169,36,148,67,69,245,193,67,108,182,43,148,67,94,248,193,67,108,154,50,148,\n67,208,251,193,67,108,79,57,148,67,153,255,193,67,108,210,63,148,67,183,3,194,67,108,30,70,148,67,39,8,194,67,108,47,76,148,67,230,12,194,67,108,1,82,148,67,242,17,194,67,108,145,87,148,67,70,23,194,67,108,219,92,148,67,223,28,194,67,108,220,97,148,67,\n187,34,194,67,108,144,102,148,67,212,40,194,67,108,61,106,148,67,20,46,194,67,108,61,106,148,67,20,46,194,67,108,61,106,148,67,20,46,194,67,108,93,110,148,67,149,52,194,67,108,41,114,148,67,73,59,194,67,108,158,117,148,67,43,66,194,67,108,186,120,148,\n67,55,73,194,67,108,122,123,148,67,105,80,194,67,108,221,125,148,67,188,87,194,67,108,227,127,148,67,43,95,194,67,108,136,129,148,67,177,102,194,67,108,204,130,148,67,74,110,194,67,108,175,131,148,67,241,117,194,67,108,48,132,148,67,161,125,194,67,108,\n78,132,148,67,84,133,194,67,108,10,132,148,67,7,141,194,67,108,99,131,148,67,180,148,194,67,108,90,130,148,67,86,156,194,67,108,240,128,148,67,232,163,194,67,108,37,127,148,67,102,171,194,67,108,251,124,148,67,203,178,194,67,108,116,122,148,67,17,186,\n194,67,108,144,119,148,67,53,193,194,67,108,81,116,148,67,50,200,194,67,108,186,112,148,67,3,207,194,67,108,206,108,148,67,163,213,194,67,108,141,104,148,67,16,220,194,67,108,252,99,148,67,68,226,194,67,108,29,95,148,67,59,232,194,67,108,243,89,148,67,\n242,237,194,67,108,130,84,148,67,102,243,194,67,108,204,78,148,67,146,248,194,67,108,214,72,148,67,115,253,194,67,108,164,66,148,67,6,2,195,67,108,57,60,148,67,73,6,195,67,108,154,53,148,67,56,10,195,67,108,203,46,148,67,210,13,195,67,108,207,39,148,\n67,19,17,195,67,108,172,32,148,67,249,19,195,67,108,103,25,148,67,131,22,195,67,108,3,18,148,67,176,24,195,67,108,134,10,148,67,125,26,195,67,108,244,2,148,67,234,27,195,67,108,82,251,147,67,246,28,195,67,108,166,243,147,67,159,29,195,67,108,243,235,\n147,67,230,29,195,67,108,63,228,147,67,203,29,195,67,108,143,220,147,67,77,29,195,67,108,232,212,147,67,109,28,195,67,108,79,205,147,67,43,27,195,67,108,200,197,147,67,137,25,195,67,108,88,190,147,67,134,23,195,67,108,4,183,147,67,37,21,195,67,108,210,\n175,147,67,104,18,195,67,108,196,168,147,67,79,15,195,67,108,225,161,147,67,220,11,195,67,108,43,155,147,67,19,8,195,67,108,169,148,147,67,245,3,195,67,108,93,142,147,67,133,255,194,67,108,76,136,147,67,198,250,194,67,108,121,130,147,67,187,245,194,67,\n108,233,124,147,67,103,240,194,67,108,159,119,147,67,205,234,194,67,108,158,114,147,67,242,228,194,67,108,234,109,147,67,216,222,194,67,108,61,106,147,67,152,217,194,67,108,61,106,147,67,153,217,194,67,99,109,112,29,146,67,30,69,194,67,108,112,29,146,\n67,31,69,194,67,108,198,29,146,67,38,76,194,67,108,194,29,146,67,49,83,194,67,108,112,29,146,67,153,89,194,67,108,112,29,146,67,153,89,194,67,108,255,255,145,67,153,89,194,67,98,224,154,145,67,184,62,194,67,194,53,145,67,143,34,194,67,91,207,144,67,245,\n8,194,67,98,81,184,144,67,245,8,194,67,193,181,144,67,153,249,193,67,152,185,144,67,30,229,193,67,108,152,185,144,67,30,229,193,67,108,225,194,144,67,46,188,193,67,108,52,206,144,67,193,147,193,67,108,136,219,144,67,242,107,193,67,108,213,234,144,67,\n219,68,193,67,108,17,252,144,67,148,30,193,67,108,49,15,145,67,53,249,192,67,108,42,36,145,67,215,212,192,67,108,237,58,145,67,146,177,192,67,108,108,83,145,67,122,143,192,67,108,152,109,145,67,167,110,192,67,108,19,110,145,67,20,110,192,67,108,19,110,\n145,67,20,110,192,67,98,39,124,145,67,40,92,192,67,101,134,145,67,153,89,192,67,152,153,145,67,174,103,192,67,108,152,153,146,67,102,38,193,67,98,172,167,146,67,163,48,193,67,203,172,146,67,153,57,193,67,152,153,146,67,174,71,193,67,108,152,153,146,67,\n174,71,193,67,108,249,137,146,67,202,88,193,67,108,59,123,146,67,167,106,193,67,108,101,109,146,67,60,125,193,67,108,130,96,146,67,124,144,193,67,108,153,84,146,67,91,164,193,67,108,178,73,146,67,204,184,193,67,108,213,63,146,67,193,205,193,67,108,6,\n55,146,67,46,227,193,67,108,77,47,146,67,5,249,193,67,108,173,40,146,67,56,15,194,67,108,44,35,146,67,185,37,194,67,108,204,30,146,67,120,60,194,67,108,113,29,146,67,31,69,194,67,108,113,29,146,67,31,69,194,67,99,109,143,2,149,67,194,149,197,67,98,143,\n226,148,67,184,158,197,67,71,193,148,67,61,170,197,67,184,158,148,67,235,177,197,67,108,184,158,148,67,235,177,197,67,108,69,114,148,67,4,186,197,67,108,121,69,148,67,225,191,197,67,108,113,24,148,67,127,195,197,67,108,72,235,147,67,220,196,197,67,108,\n28,190,147,67,247,195,197,67,108,11,145,147,67,208,192,197,67,108,48,100,147,67,105,187,197,67,108,82,88,147,67,153,185,197,67,108,82,88,147,67,153,185,197,67,98,41,60,147,67,153,185,197,67,10,55,147,67,133,171,197,67,225,58,147,67,235,145,197,67,113,\n20,78,147,67,225,250,196,67,112,93,147,67,143,98,196,67,98,112,93,147,67,245,72,196,67,102,102,147,67,184,62,196,67,143,130,147,67,30,69,196,67,108,143,130,147,67,30,69,196,67,108,87,151,147,67,215,73,196,67,108,84,172,147,67,132,77,196,67,108,122,193,\n147,67,35,80,196,67,108,186,214,147,67,180,81,196,67,108,8,236,147,67,51,82,196,67,108,86,1,148,67,162,81,196,67,108,149,22,148,67,1,80,196,67,108,185,43,148,67,80,77,196,67,108,179,64,148,67,146,73,196,67,108,119,85,148,67,200,68,196,67,108,247,105,\n148,67,247,62,196,67,108,38,126,148,67,32,56,196,67,108,20,142,148,67,235,49,196,67,108,20,142,148,67,235,49,196,67,98,30,165,148,67,245,40,196,67,163,176,148,67,133,43,196,67,81,184,148,67,174,71,196,67,98,163,208,148,67,205,172,196,67,204,236,148,67,\n92,15,197,67,173,7,149,67,51,115,197,67,98,61,10,149,67,0,128,197,67,195,21,149,67,133,139,197,67,0,0,149,67,195,149,197,67,99,109,143,2,149,67,163,240,192,67,108,30,229,149,67,20,14,192,67,98,50,243,149,67,0,0,192,67,112,253,149,67,143,2,192,67,132,\n11,150,67,20,14,192,67,108,132,11,150,67,20,14,192,67,108,117,41,150,67,166,41,192,67,108,252,69,150,67,173,70,192,67,108,6,97,150,67,24,101,192,67,108,131,122,150,67,212,132,192,67,108,234,145,150,67,30,165,192,67,108,234,145,150,67,30,165,192,67,108,\n234,145,150,67,30,165,192,67,108,113,169,150,67,167,200,192,67,108,41,191,150,67,83,237,192,67,108,5,211,150,67,8,19,193,67,108,249,228,150,67,176,57,193,67,108,248,244,150,67,49,97,193,67,108,80,248,150,67,61,106,193,67,108,80,248,150,67,61,106,193,\n67,98,182,254,150,67,41,124,193,67,182,254,150,67,30,133,193,67,60,234,150,67,20,142,193,67,98,244,136,150,67,194,181,193,67,244,40,150,67,184,222,193,67,244,200,149,67,20,14,194,67,98,234,177,149,67,81,24,194,67,101,166,149,67,194,21,194,67,183,158,\n149,67,112,253,193,67,108,183,158,149,67,112,253,193,67,108,13,152,149,67,100,232,193,67,108,89,144,149,67,179,211,193,67,108,158,135,149,67,108,191,193,67,108,226,125,149,67,155,171,193,67,108,44,115,149,67,77,152,193,67,108,130,103,149,67,142,133,193,\n67,108,237,90,149,67,106,115,193,67,108,115,77,149,67,237,97,193,67,108,30,63,149,67,34,81,193,67,108,246,47,149,67,20,65,193,67,108,6,32,149,67,205,49,193,67,108,88,15,149,67,87,35,193,67,108,101,6,149,67,40,28,193,67,108,101,6,149,67,40,28,193,67,98,\n10,247,148,67,133,11,193,67,195,245,148,67,0,0,193,67,0,0,149,67,164,240,192,67,99,109,194,117,151,67,81,24,192,67,108,194,117,151,67,81,24,192,67,108,218,85,151,67,221,235,191,67,108,196,51,151,67,17,193,191,67,108,150,15,151,67,6,152,191,67,108,102,\n233,150,67,215,112,191,67,108,76,193,150,67,157,75,191,67,108,100,151,150,67,112,40,191,67,108,198,107,150,67,103,7,191,67,108,144,62,150,67,150,232,190,67,108,222,15,150,67,17,204,190,67,108,206,223,149,67,236,177,190,67,108,127,174,149,67,53,154,190,\n67,108,17,124,149,67,253,132,190,67,108,163,72,149,67,81,114,190,67,108,86,20,149,67,61,98,190,67,108,77,223,148,67,203,84,190,67,108,168,169,148,67,4,74,190,67,108,139,115,148,67,239,65,190,67,108,24,61,148,67,145,60,190,67,108,113,6,148,67,237,57,190,\n67,108,187,207,147,67,6,58,190,67,108,22,153,147,67,218,60,190,67,108,168,98,147,67,105,66,190,67,108,146,44,147,67,174,74,190,67,108,247,246,146,67,165,85,190,67,108,250,193,146,67,70,99,190,67,108,188,141,146,67,136,115,190,67,108,95,90,146,67,98,134,\n190,67,108,3,40,146,67,199,155,190,67,108,201,246,145,67,169,179,190,67,108,209,198,145,67,250,205,190,67,108,56,152,145,67,168,234,190,67,108,30,107,145,67,161,9,191,67,108,158,63,145,67,209,42,191,67,108,212,21,145,67,35,78,191,67,108,220,237,144,67,\n128,115,191,67,108,207,199,144,67,209,154,191,67,108,197,163,144,67,252,195,191,67,108,213,129,144,67,232,238,191,67,108,22,98,144,67,119,27,192,67,108,154,68,144,67,143,73,192,67,108,118,41,144,67,17,121,192,67,108,186,16,144,67,223,169,192,67,108,119,\n250,143,67,217,219,192,67,108,186,230,143,67,225,14,193,67,108,145,213,143,67,213,66,193,67,108,5,199,143,67,148,119,193,67,108,33,187,143,67,252,172,193,67,108,237,177,143,67,235,226,193,67,108,109,171,143,67,63,25,194,67,108,166,167,143,67,212,79,194,\n67,108,156,166,143,67,137,134,194,67,108,77,168,143,67,57,189,194,67,108,185,172,143,67,194,243,194,67,108,222,179,143,67,1,42,195,67,108,183,189,143,67,211,95,195,67,108,61,202,143,67,22,149,195,67,108,104,217,143,67,168,201,195,67,108,48,235,143,67,\n103,253,195,67,108,135,255,143,67,49,48,196,67,108,99,22,144,67,232,97,196,67,108,178,47,144,67,105,146,196,67,108,103,75,144,67,152,193,196,67,108,110,105,144,67,85,239,196,67,108,180,137,144,67,131,27,197,67,108,38,172,144,67,6,70,197,67,108,173,208,\n144,67,195,110,197,67,108,49,247,144,67,159,149,197,67,108,154,31,145,67,130,186,197,67,108,206,73,145,67,85,221,197,67,108,178,117,145,67,0,254,197,67,108,42,163,145,67,111,28,198,67,108,25,210,145,67,143,56,198,67,108,96,2,146,67,77,82,198,67,108,226,\n51,146,67,153,105,198,67,108,126,102,146,67,101,126,198,67,108,19,154,146,67,162,144,198,67,108,130,206,146,67,69,160,198,67,108,168,3,147,67,69,173,198,67,108,99,57,147,67,152,183,198,67,108,145,111,147,67,56,191,198,67,108,15,166,147,67,33,196,198,\n67,108,187,220,147,67,80,198,198,67,108,113,19,148,67,193,197,198,67,108,15,74,148,67,119,194,198,67,108,113,128,148,67,116,188,198,67,108,116,182,148,67,186,179,198,67,108,247,235,148,67,80,168,198,67,108,215,32,149,67,62,154,198,67,108,241,84,149,67,\n139,137,198,67,108,37,136,149,67,67,118,198,67,108,83,186,149,67,114,96,198,67,108,89,235,149,67,37,72,198,67,108,24,27,150,67,110,45,198,67,108,114,73,150,67,92,16,198,67,108,122,84,150,67,245,8,198,67,108,122,84,150,67,245,8,198,67,108,122,84,150,67,\n245,8,198,67,108,255,128,150,67,39,233,197,67,108,223,171,150,67,41,199,197,67,108,254,212,150,67,17,163,197,67,108,66,252,150,67,247,124,197,67,108,147,33,151,67,243,84,197,67,108,215,68,151,67,30,43,197,67,108,249,101,151,67,147,255,196,67,108,227,\n132,151,67,110,210,196,67,108,129,161,151,67,204,163,196,67,108,194,187,151,67,203,115,196,67,108,148,211,151,67,137,66,196,67,108,233,232,151,67,39,16,196,67,108,178,251,151,67,195,220,195,67,108,227,11,152,67,128,168,195,67,108,114,25,152,67,126,115,\n195,67,108,87,36,152,67,224,61,195,67,108,139,44,152,67,199,7,195,67,108,7,50,152,67,87,209,194,67,108,202,52,152,67,178,154,194,67,108,208,52,152,67,251,99,194,67,108,26,50,152,67,85,45,194,67,108,170,44,152,67,228,246,193,67,108,131,36,152,67,201,192,\n193,67,108,171,25,152,67,40,139,193,67,108,40,12,152,67,35,86,193,67,108,2,252,151,67,220,33,193,67,108,69,233,151,67,116,238,192,67,108,253,211,151,67,13,188,192,67,108,54,188,151,67,198,138,192,67,108,0,162,151,67,190,90,192,67,108,108,133,151,67,22,\n44,192,67,108,82,120,151,67,82,24,192,67,108,82,120,151,67,82,24,192,67,99,109,204,12,145,67,122,116,196,67,108,204,12,145,67,122,116,196,67,108,63,244,144,67,1,79,196,67,108,154,221,144,67,91,40,196,67,108,235,200,144,67,159,0,196,67,108,62,182,144,\n67,231,215,195,67,108,161,165,144,67,78,174,195,67,108,29,151,144,67,237,131,195,67,108,188,138,144,67,224,88,195,67,108,133,128,144,67,66,45,195,67,108,128,120,144,67,48,1,195,67,108,178,114,144,67,197,212,194,67,108,30,111,144,67,30,168,194,67,108,\n198,109,144,67,87,123,194,67,108,171,110,144,67,142,78,194,67,108,206,113,144,67,222,33,194,67,108,42,119,144,67,101,245,193,67,108,191,126,144,67,63,201,193,67,108,133,136,144,67,136,157,193,67,108,120,148,144,67,92,114,193,67,108,144,162,144,67,214,\n71,193,67,108,195,178,144,67,19,30,193,67,108,7,197,144,67,44,245,192,67,108,81,217,144,67,59,205,192,67,108,147,239,144,67,92,166,192,67,108,191,7,145,67,165,128,192,67,108,199,33,145,67,48,92,192,67,108,152,61,145,67,19,57,192,67,108,34,91,145,67,102,\n23,192,67,108,81,122,145,67,62,247,191,67,108,17,155,145,67,174,216,191,67,108,79,189,145,67,204,187,191,67,108,242,224,145,67,168,160,191,67,108,230,5,146,67,86,135,191,67,108,18,44,146,67,228,111,191,67,108,93,83,146,67,99,90,191,67,108,175,123,146,\n67,222,70,191,67,108,238,164,146,67,101,53,191,67,108,0,207,146,67,0,38,191,67,108,200,249,146,67,186,24,191,67,108,45,37,147,67,157,13,191,67,108,19,81,147,67,174,4,191,67,108,92,125,147,67,243,253,190,67,108,238,169,147,67,113,249,190,67,108,171,214,\n147,67,43,247,190,67,108,118,3,148,67,34,247,190,67,108,52,48,148,67,86,249,190,67,108,199,92,148,67,198,253,190,67,108,19,137,148,67,111,4,191,67,108,252,180,148,67,77,13,191,67,108,102,224,148,67,89,24,191,67,108,52,11,149,67,142,37,191,67,108,75,53,\n149,67,226,52,191,67,108,145,94,149,67,75,70,191,67,108,235,134,149,67,191,89,191,67,108,63,174,149,67,49,111,191,67,108,116,212,149,67,148,134,191,67,108,114,249,149,67,215,159,191,67,108,32,29,150,67,236,186,191,67,108,105,63,150,67,193,215,191,67,\n108,54,96,150,67,67,246,191,67,108,114,127,150,67,96,22,192,67,108,9,157,150,67,1,56,192,67,108,232,184,150,67,19,91,192,67,108,254,210,150,67,125,127,192,67,108,58,235,150,67,42,165,192,67,108,139,1,151,67,1,204,192,67,108,229,21,151,67,233,243,192,\n67,108,57,40,151,67,201,28,193,67,108,125,56,151,67,134,70,193,67,108,165,70,151,67,6,113,193,67,108,170,82,151,67,45,156,193,67,108,130,92,151,67,224,199,193,67,108,40,100,151,67,4,244,193,67,108,150,105,151,67,123,32,194,67,108,202,108,151,67,41,77,\n194,67,108,194,109,151,67,242,121,194,67,108,124,108,151,67,185,166,194,67,108,249,104,151,67,97,211,194,67,108,60,99,151,67,207,255,194,67,108,73,91,151,67,228,43,195,67,108,36,81,151,67,134,87,195,67,108,212,68,151,67,152,130,195,67,108,97,54,151,67,\n255,172,195,67,108,212,37,151,67,159,214,195,67,108,56,19,151,67,94,255,195,67,108,153,254,150,67,34,39,196,67,108,3,232,150,67,209,77,196,67,108,133,207,150,67,84,115,196,67,108,48,181,150,67,144,151,196,67,108,19,153,150,67,113,186,196,67,108,65,123,\n150,67,222,219,196,67,108,205,91,150,67,195,251,196,67,108,203,58,150,67,12,26,197,67,108,80,24,150,67,164,54,197,67,108,114,244,149,67,122,81,197,67,108,71,225,149,67,183,94,197,67,108,71,225,149,67,183,94,197,67,108,71,225,149,67,183,94,197,67,108,\n108,187,149,67,169,118,197,67,108,106,148,149,67,175,140,197,67,108,91,108,149,67,188,160,197,67,108,88,67,149,67,193,178,197,67,108,124,25,149,67,180,194,197,67,108,225,238,148,67,138,208,197,67,108,163,195,148,67,58,220,197,67,108,221,151,148,67,190,\n229,197,67,108,171,107,148,67,14,237,197,67,108,42,63,148,67,39,242,197,67,108,118,18,148,67,4,245,197,67,108,171,229,147,67,165,245,197,67,108,231,184,147,67,9,244,197,67,108,70,140,147,67,48,240,197,67,108,228,95,147,67,29,234,197,67,108,222,51,147,\n67,213,225,197,67,108,81,8,147,67,91,215,197,67,108,87,221,146,67,184,202,197,67,108,12,179,146,67,244,187,197,67,108,140,137,146,67,22,171,197,67,108,242,96,146,67,44,152,197,67,108,86,57,146,67,63,131,197,67,108,210,18,146,67,95,108,197,67,108,128,\n237,145,67,153,83,197,67,108,118,201,145,67,254,56,197,67,108,205,166,145,67,158,28,197,67,108,153,133,145,67,139,254,196,67,108,241,101,145,67,218,222,196,67,108,233,71,145,67,157,189,196,67,108,147,43,145,67,235,154,196,67,108,3,17,145,67,218,118,196,\n67,108,92,15,145,67,123,116,196,67,108,92,15,145,67,123,116,196,67,99,101,0,0 ];\n\tTapeReel_path.loadFromData(TapeReel_path_svg_data);\n\t\n\n\n\n\n\n//! =============== Tape BG ====================\nconst var TapeBG_path = Content.createPath();\nconst var TapeBG_path_svg_data = [110,109,174,71,155,67,133,235,200,67,98,164,112,155,67,133,235,200,67,225,154,155,67,133,235,200,67,174,199,155,67,133,235,200,67,98,123,244,155,67,133,235,200,67,164,240,155,67,235,241,200,67,92,239,155,67,164,16,201,67,108,92,239,155,67,164,16,201,\n67,108,133,237,155,67,17,71,201,67,108,103,238,155,67,133,125,201,67,108,92,239,155,67,164,144,201,67,108,92,239,155,67,164,144,201,67,98,92,239,155,67,205,172,201,67,92,239,155,67,82,184,201,67,61,202,155,67,10,183,201,67,98,30,165,155,67,194,181,201,\n67,112,125,155,67,10,183,201,67,10,87,155,67,10,183,201,67,98,164,48,155,67,10,183,201,67,184,30,155,67,112,189,201,67,184,30,155,67,133,235,201,67,98,184,30,155,67,10,183,202,67,184,30,155,67,72,129,203,67,184,30,155,67,133,75,204,67,98,184,30,155,67,\n123,116,204,67,10,23,155,67,61,138,204,67,245,232,154,67,215,131,204,67,98,224,186,154,67,113,125,204,67,81,120,154,67,82,152,204,67,153,89,154,67,154,121,204,67,98,225,58,154,67,226,90,204,67,51,83,154,67,185,30,204,67,235,81,154,67,21,238,203,67,108,\n235,81,154,67,41,28,203,67,98,235,81,154,67,164,176,202,67,235,81,154,67,102,70,202,67,235,81,154,67,225,218,201,67,98,235,81,154,67,112,189,201,67,245,72,154,67,123,180,201,67,133,43,154,67,10,183,201,67,108,72,161,153,67,10,183,201,67,98,205,140,153,\n67,10,183,201,67,31,133,153,67,164,176,201,67,31,133,153,67,41,156,201,67,98,31,133,153,67,133,107,201,67,31,133,153,67,41,60,201,67,31,133,153,67,205,12,201,67,98,31,133,153,67,51,243,200,67,205,140,153,67,62,234,200,67,103,166,153,67,133,235,200,67,\n98,123,212,153,67,133,235,200,67,144,2,154,67,133,235,200,67,164,48,154,67,133,235,200,67,98,62,74,154,67,133,235,200,67,236,81,154,67,143,226,200,67,236,81,154,67,61,202,200,67,98,236,81,154,67,153,153,200,67,236,81,154,67,61,106,200,67,236,81,154,67,\n225,58,200,67,98,236,81,154,67,215,35,200,67,82,88,154,67,225,26,200,67,93,111,154,67,41,28,200,67,108,0,0,155,67,41,28,200,67,98,10,23,155,67,41,28,200,67,0,32,155,67,215,35,200,67,184,30,155,67,225,58,200,67,98,184,30,155,67,174,103,200,67,184,30,155,\n67,123,148,200,67,184,30,155,67,225,186,200,67,98,184,30,155,67,71,225,200,67,102,38,155,67,205,236,200,67,174,71,155,67,133,235,200,67,99,109,194,117,156,67,72,129,202,67,98,225,154,156,67,72,129,202,67,143,194,156,67,72,129,202,67,174,231,156,67,72,\n129,202,67,98,205,12,157,67,72,129,202,67,184,30,157,67,62,138,202,67,113,29,157,67,195,181,202,67,98,113,29,157,67,144,66,203,67,113,29,157,67,21,206,203,67,113,29,157,67,226,90,204,67,98,113,29,157,67,226,122,204,67,103,38,157,67,31,133,204,67,103,\n70,157,67,216,131,204,67,108,103,70,157,67,216,131,204,67,108,189,123,157,67,250,129,204,67,108,27,177,157,67,200,130,204,67,108,103,198,157,67,216,131,204,67,108,103,198,157,67,216,131,204,67,98,144,226,157,67,216,131,204,67,62,234,157,67,42,124,204,\n67,62,234,157,67,1,96,204,67,98,62,234,157,67,11,23,204,67,62,234,157,67,21,206,203,67,62,234,157,67,216,131,203,67,98,62,234,157,67,155,57,203,67,62,234,157,67,236,241,202,67,62,234,157,67,175,167,202,67,98,62,234,157,67,134,139,202,67,164,240,157,67,\n1,128,202,67,93,15,158,67,73,129,202,67,98,22,46,158,67,145,130,202,67,247,104,158,67,73,129,202,67,93,143,158,67,73,129,202,67,98,175,167,158,67,73,129,202,67,165,176,158,67,227,122,202,67,165,176,158,67,73,97,202,67,98,165,176,158,67,53,51,202,67,165,\n176,158,67,32,5,202,67,165,176,158,67,196,213,201,67,98,165,176,158,67,114,189,201,67,247,168,158,67,124,180,201,67,93,143,158,67,196,181,201,67,98,195,117,158,67,12,183,201,67,154,57,158,67,196,181,201,67,93,15,158,67,196,181,201,67,98,32,229,157,67,\n196,181,201,67,144,226,157,67,94,175,201,67,216,227,157,67,135,139,201,67,98,216,227,157,67,104,70,201,67,216,227,157,67,2,0,201,67,216,227,157,67,155,185,200,67,98,216,227,157,67,104,134,200,67,196,245,157,67,145,66,200,67,42,220,157,67,32,37,200,67,\n98,144,194,157,67,175,7,200,67,83,120,157,67,32,37,200,67,32,69,157,67,227,26,200,67,98,237,17,157,67,166,16,200,67,83,24,157,67,104,38,200,67,83,24,157,67,247,72,200,67,98,83,24,157,67,165,176,200,67,83,24,157,67,83,24,201,67,83,24,157,67,1,128,201,\n67,98,83,24,157,67,175,167,201,67,83,24,157,67,226,186,201,67,32,229,156,67,196,181,201,67,98,237,177,156,67,166,176,201,67,196,149,156,67,196,181,201,67,22,110,156,67,196,181,201,67,98,104,70,156,67,196,181,201,67,176,71,156,67,186,190,201,67,247,72,\n156,67,42,220,201,67,108,247,72,156,67,42,220,201,67,108,212,74,156,67,128,17,202,67,108,7,74,156,67,222,70,202,67,108,247,72,156,67,42,92,202,67,108,247,72,156,67,42,92,202,67,98,205,76,156,67,0,128,202,67,154,89,156,67,0,128,202,67,195,117,156,67,0,\n128,202,67,99,109,112,93,159,67,72,193,196,67,108,112,93,159,67,144,98,205,67,108,123,180,146,67,144,98,205,67,108,123,180,146,67,31,165,196,67,108,123,244,145,67,31,165,196,67,108,123,244,145,67,31,37,206,67,108,113,29,160,67,31,37,206,67,108,113,29,\n160,67,72,193,196,67,99,109,10,151,155,67,52,147,192,67,108,205,44,150,67,52,147,192,67,108,205,44,150,67,52,83,193,67,108,10,151,155,67,52,83,193,67,99,109,246,136,147,67,83,88,204,67,98,246,136,147,67,42,252,202,67,246,136,147,67,73,161,201,67,246,\n136,147,67,32,69,200,67,98,246,136,147,67,145,34,200,67,195,149,147,67,227,26,200,67,195,181,147,67,42,28,200,67,108,93,239,149,67,42,28,200,67,98,134,171,150,67,42,28,200,67,175,103,151,67,42,28,200,67,216,35,152,67,42,28,200,67,98,175,71,152,67,42,\n28,200,67,196,85,152,67,216,35,200,67,196,85,152,67,134,75,200,67,98,196,85,152,67,216,163,201,67,196,85,152,67,114,253,202,67,196,85,152,67,195,85,204,67,98,196,85,152,67,82,120,204,67,22,78,152,67,215,131,204,67,247,40,152,67,215,131,204,67,108,11,\n183,147,67,215,131,204,67,98,51,147,147,67,0,128,204,67,174,135,147,67,0,128,204,67,246,136,147,67,82,88,204,67,99,109,123,84,148,67,103,6,201,67,108,123,84,148,67,195,149,203,67,98,123,84,148,67,21,174,203,67,41,92,148,67,123,180,203,67,51,115,148,67,\n123,180,203,67,98,246,168,148,67,123,180,203,67,184,222,148,67,123,180,203,67,194,21,149,67,123,180,203,67,108,194,21,149,67,123,180,203,67,108,48,24,149,67,109,180,203,67,108,157,26,149,67,63,180,203,67,108,7,29,149,67,243,179,203,67,108,108,31,149,\n67,136,179,203,67,108,203,33,149,67,255,178,203,67,108,35,36,149,67,87,178,203,67,108,113,38,149,67,146,177,203,67,108,181,40,149,67,175,176,203,67,108,237,42,149,67,175,175,203,67,108,23,45,149,67,148,174,203,67,108,50,47,149,67,93,173,203,67,108,62,\n49,149,67,12,172,203,67,108,55,51,149,67,161,170,203,67,108,30,53,149,67,29,169,203,67,108,241,54,149,67,129,167,203,67,108,175,56,149,67,206,165,203,67,108,86,58,149,67,6,164,203,67,108,230,59,149,67,41,162,203,67,108,94,61,149,67,57,160,203,67,108,\n189,62,149,67,54,158,203,67,108,1,64,149,67,35,156,203,67,108,42,65,149,67,0,154,203,67,108,56,66,149,67,207,151,203,67,108,143,66,149,67,10,151,203,67,108,143,66,149,67,10,151,203,67,108,143,66,149,67,10,151,203,67,108,0,71,149,67,104,143,203,67,108,\n209,75,149,67,1,136,203,67,108,255,80,149,67,218,128,203,67,108,135,86,149,67,248,121,203,67,108,102,92,149,67,94,115,203,67,108,151,98,149,67,18,109,203,67,108,22,105,149,67,24,103,203,67,108,224,111,149,67,114,97,203,67,108,241,118,149,67,37,92,203,\n67,108,66,126,149,67,52,87,203,67,108,209,133,149,67,162,82,203,67,108,151,141,149,67,114,78,203,67,108,145,149,149,67,167,74,203,67,108,185,157,149,67,68,71,203,67,108,9,166,149,67,74,68,203,67,108,125,174,149,67,187,65,203,67,108,15,183,149,67,153,\n63,203,67,108,185,191,149,67,229,61,203,67,108,143,194,149,67,112,61,203,67,108,143,194,149,67,112,61,203,67,108,143,194,149,67,112,61,203,67,108,233,197,149,67,235,60,203,67,108,59,201,149,67,58,60,203,67,108,131,204,149,67,96,59,203,67,108,191,207,\n149,67,91,58,203,67,108,238,210,149,67,46,57,203,67,108,12,214,149,67,216,55,203,67,108,24,217,149,67,91,54,203,67,108,16,220,149,67,183,52,203,67,108,242,222,149,67,238,50,203,67,108,188,225,149,67,0,49,203,67,108,109,228,149,67,239,46,203,67,108,3,\n231,149,67,189,44,203,67,108,123,233,149,67,106,42,203,67,108,213,235,149,67,248,39,203,67,108,15,238,149,67,106,37,203,67,108,40,240,149,67,191,34,203,67,108,30,242,149,67,250,31,203,67,108,239,243,149,67,30,29,203,67,108,156,245,149,67,42,26,203,67,\n108,34,247,149,67,35,23,203,67,108,82,248,149,67,122,20,203,67,108,82,248,149,67,122,20,203,67,98,92,47,150,67,61,170,202,67,62,106,150,67,255,63,202,67,215,163,150,67,194,213,201,67,108,205,172,150,67,194,213,201,67,98,205,172,150,67,102,230,201,67,\n205,172,150,67,194,245,201,67,103,166,150,67,30,5,202,67,98,123,148,150,67,91,111,202,67,72,129,150,67,225,218,202,67,93,111,150,67,30,69,203,67,98,93,111,150,67,235,81,203,67,175,103,150,67,112,93,203,67,93,111,150,67,61,106,203,67,108,154,89,151,67,\n163,176,203,67,98,123,116,151,67,163,176,203,67,113,125,151,67,245,168,203,67,113,125,151,67,204,140,203,67,98,113,125,151,67,194,181,202,67,113,125,151,67,184,222,201,67,113,125,151,67,102,6,201,67,98,113,125,151,67,20,238,200,67,123,116,151,67,102,\n230,200,67,41,92,151,67,102,230,200,67,108,0,128,148,67,102,230,200,67,98,61,106,148,67,61,234,200,67,51,83,148,67,143,226,200,67,123,84,148,67,102,6,201,67,99,101,0,0 ];\nTapeBG_path.loadFromData(TapeBG_path_svg_data);\n\n}\n\n\n//! ======= Tape BG ========\n\nconst var TapeBG_Pnl = Content.getComponent(\"TapeBG_Pnl\");\n\n\nTapeBG_Pnl.setPaintRoutine(function(g)\n{\n\n\tg.setColour(0xFFc2c2c2);\n\tg.fillPath(Paths.TapeBG_path, [0, 0, this.getWidth(), 0.93 * this.getWidth()]);\n});\n\n\n\n\nconst locl_laf = Content.createLocalLookAndFeel();\n\n\nlocl_laf.registerFunction(\"drawRotarySlider\", function(g, obj)\n{\n\n if (obj.text == \"TapeReel\") \n   {\n\tg.fillAll(0);\n\t\n\tvar a = obj.area;\n\tvar val = \"\";\n\t\n\n\tg.rotate(Math.toRadians(obj.valueNormalized * 360), [0.5 * obj.area[2], 0.5 * obj.area[2]]);\n\tg.setColour(obj.itemColour2);\n\tg.fillPath(Paths.TapeReel_path, [0.15 * obj.area[2], 0.15 * obj.area[2], 0.7 * obj.area[2], 0.7 * obj.area[2]]); \n\t \n }\n\n});\n\n\n\nconst var Slider_TapeKnob1 = Content.getComponent(\"Slider_TapeKnob1\");\nconst var Slider_TapeKnob2 = Content.getComponent(\"Slider_TapeKnob2\");\n\n\nSlider_TapeKnob1.setLocalLookAndFeel(locl_laf);\nSlider_TapeKnob2.setLocalLookAndFeel(locl_laf);\n\n\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Skeumorphic Knob LAF",
    "category": "UI",
    "tags": [
      "LookAndFeel"
    ],
    "description": "\nA skeumorphic Knob LAF by [straticah](https://forum.hise.audio/user/straticah).",
    "code": "Content.makeFrontInterface(600, 400);\n\n\nconst var PanelBG = Content.addPanel(\"PanelBG\", 270, 150);\nContent.setPropertiesFromJSON(\"PanelBG\", {\n    \"width\": 50.0,\n    \"height\": 50.0,\n    \"itemColour\": 4285032552,\n    \"itemColour2\": 4278190080,\n    \"borderRadius\": 20.0,\n    \"borderSize\": 9.0,\n    \"textColour\": 0\n});\n\n\nconst var PanelAbove = Content.addPanel(\"PanelAbove\", 280, 160);\nContent.setPropertiesFromJSON(\"PanelAbove\", {\n    \"width\": 30.0,\n    \"height\": 30.0,\n    \"itemColour\": 4278190080,\n    \"itemColour2\": 4283847250,\n    \"borderSize\": 1.0,\n    \"borderRadius\": 20.0\n});\n\n\n\n\n\nconst var Slider_ArcKnob2 = Content.addKnob(\"Slider_ArcKnob2\", 270, 150);\nContent.setPropertiesFromJSON(\"Slider_ArcKnob2\", {\n    \"text\": \"Arc_Drive\",\n    \"width\": 50.0,\n    \"height\": 70.0,\n    \"max\": 100.0,\n    \"suffix\": \" %\",\n    \"itemColour2\": 4044291995,\n    \"itemColour\": 4291480266,\n    \"defaultValue\": 70.0,\n    \"bgColour\": \"520093695\"\n});\n\n\n\n\n\n// Local LAF\nconst locl_laf = Content.createLocalLookAndFeel();\n\n\n//  Sliders\nlocl_laf.registerFunction(\"drawRotarySlider\", function(g, obj)\n{\n\n// Text Knobs\n if (obj.text == \"Vol\" || obj.text == \"Unison\") \n   {\n\tg.fillAll(obj.itemColour1);\n\t\n\tvar a = obj.area;\n\tvar val = \"\";\n\t\n\tg.drawAlignedText(Math.round(val) + \"\" + obj.suffix, [a[0], 0.15*a[3], a[2], a[3]], \"centred\");\n \n    \n }\n\n\n\n// Arc Knob\n  else if (obj.text == \"Arc_Gain\" || obj.text == \"Arc_Drive\" || obj.text == \"Arc_Warmth\")\n    {\n    var K = Content.createPath();\n    var p1 = Content.createPath();\n    var range = obj.max - obj.min;\n    \n    var startOffset = 2.4;\n    var arcThickness = 0.08;\n    var arcWidth = 1.0 - 2.0 * arcThickness;\n      \n    p1.clear();\n\n\tvar endOffset = -startOffset + 2.0 * startOffset * obj.valueNormalized;\n    \n    var val = \"\";\n\n    var a = obj.area;\n    var w = obj.area;\n    var round = 2;\n    var h = a[3];\n    \n    \n// Label Text\n\tg.setColour(obj.itemColour1);\n\tg.setFont(\"Oxygen Regular\", 15); \n\tg.drawAlignedText(obj.text.replace(\"Arc_\", \"\"), [a[0], a[3]-a[2], a[2], a[3]], \"centred\");    \n\t    \n\t    \n    g.setColour(obj.bgColour);\n    p1.addArc([arcThickness / 2, arcThickness / 2, arcWidth + arcThickness, arcWidth + arcThickness], - startOffset , 2.5);\n\n        \n    var pathArea = p1.getBounds(obj.area[2]);\n\n        \n    g.setColour(obj.bgColour);\n    g.drawPath(p1, pathArea, obj.area[2] * arcThickness);\n\n    \n    K.addArc([arcThickness / 2, arcThickness / 2, arcWidth + arcThickness, arcWidth + arcThickness], -startOffset - 0.08 , endOffset);   \n\n    \n    var pathArea = K.getBounds(obj.area[2]);\n    \n\n    g.setColour(obj.itemColour2);\n    g.drawPath(K, pathArea, obj.area[2] * arcThickness );\n\n   \n    \n    if (obj.hover || obj.clicked)\n    {\n\n    g.setColour(obj.textColour);\t\n    g.drawPath(K, pathArea, obj.area[2] * arcThickness );\n\n    }\n    \n    \n    g.rotate(endOffset, [obj.area[2] / 2, obj.area[2] / 2]);\n    g.setColour(obj.textColour);\n    g.fillRoundedRectangle([obj.area[2] / 2 - obj.area[2] * 0.04, obj.area[2] / 2 - obj.area[2] * 0.5, obj.area[2]  * 0.1, obj.area[2] * 0.13], 0);\n\n} \n\n});\n\n\n\n\nSlider_ArcKnob2.setLocalLookAndFeel(locl_laf);\n\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Script references and callbacks for components",
    "category": "UI",
    "tags": [
      "First contact",
      "Simple",
      "UI Logic"
    ],
    "description": "\n\n\nYou can create script references to Interface components and callbacks with a right click on the selected elements. Plus a few examples of callback usagee.\n",
    "code": "Content.makeFrontInterface(600, 150);\n\n/* Create script references to interface components.\n   You can do so with right-clicking a selected interface element, \n   and clicking: \"Create script reference for selection\". You can then paste the \n   reference into the onInit script.\n*/\n\nconst var Knob1 = Content.getComponent(\"Knob1\");\nconst var Label1 = Content.getComponent(\"Label1\");\n\nconst var Button1 = Content.getComponent(\"Button1\");\nconst var Label2 = Content.getComponent(\"Label2\");\n\nconst var Button2 = Content.getComponent(\"Button2\");\nconst var Label3 = Content.getComponent(\"Label3\");\n\nconst var ComboBox1 = Content.getComponent(\"ComboBox1\");\nconst var Label4 = Content.getComponent(\"Label4\");\n\n\n/* You can \"Create a custom callback for selection\" in the same way. \n   The little code snippet hooks up the callback to the component and contains a \n   callback function that executes, whenever you interact with the component. \n   You can access it's current value with the \"value\" variable inside the function.\n*/\n\n// Takes the current value of Knob1 and prints it as the text of the label underneath.\ninline function onKnob1Control(component, value)\n{\n\tLabel1.set(\"text\", Engine.doubleToString(value,2)); // Engine.doubleToString shortens to value 2 digits\n};\n\nContent.getComponent(\"Knob1\").setControlCallback(onKnob1Control);\n\n\n// The standard toggle button behaviour \n\ninline function onButton1Control(component, value)\n{\n\tLabel2.set(\"text\", value ? \"On\" : \"Off\"); \n\t// The terniary operator switches between the first (if value == 1) and second value.\n};\n\nContent.getComponent(\"Button1\").setControlCallback(onButton1Control);\n\n\n// The buttons \"isMomentary\" variable is set to enabled. The value is one, when you hold the mouse down.\ninline function onButton2Control(component, value)\n{\n\tLabel3.set(\"text\", value ? 1 : 0);\n};\n\nContent.getComponent(\"Button2\").setControlCallback(onButton2Control);\n\n\n// Set the Label to the current Combobox selected Item text.\ninline function onComboBox1Control(component, value)\n{\n\tLabel4.set(\"text\", ComboBox1.getItemText());\n};\n\nContent.getComponent(\"ComboBox1\").setControlCallback(onComboBox1Control);\n\n\n\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Advanced Table Customization",
    "category": "UI",
    "tags": [
      "Graphics API",
      "LookAndFeel",
      "UI Logic"
    ],
    "description": "\nThis snippet shows how to style the Table UI component with both script LAF and CSS\nas well as how to customize the behaviour & other properties using a JSON object. ",
    "code": "/** Advanced Table Customization\n\nThis snippet shows how to style the Table UI component with both script LAF and CSS\nas well as how to customize the behaviour & other properties using a JSON object. \n*/\n\nContent.makeFrontInterface(600, 600);\n\nconst var Table1 = Content.getComponent(\"Table1\");\n\n// These are the properties that customize the table behaviour\nconst var TABLE_PROPERTIES = {\n\tmargin: 20,\n\tmidPointSize: 12,\n\tendPointSize: 12,\n\tfixLeftEdge: 0.5,\n\tfixRightEdge: 0.5,\n\tclosePath: false,\n\tnumSteps: 8\n};\n\n// Set this to true to use the script LAF instead of the CSS renderer\n// Except for the grid it should look almost the same (minus some fancy shadows of the CSS renderer)\nconst var USE_SCRIPT_LAF = false;\n\nTable1.setMouseHandlingProperties(TABLE_PROPERTIES);\n\nconst var scriptLaf = Content.createLocalLookAndFeel();\n\nscriptLaf.registerFunction(\"drawTableBackground\", function(g, obj)\n{\n\tg.setColour(obj.bgColour);\n\tg.fillRoundedRectangle(Rectangle(obj.area).reduced(-TABLE_PROPERTIES.margin), TABLE_PROPERTIES.margin);\n\t\n\tvar r = Rectangle(obj.area);\n\tvar grid = r[2] / TABLE_PROPERTIES.numSteps;\n\t\n\tg.setColour(Colours.withAlpha(obj.itemColour2, 0.2));\n\tg.drawRect(r, 1);\n\t\n\tfor(i = 0; i < TABLE_PROPERTIES.numSteps-1; i++)\n\t{\n\t\tr.removeFromLeft(grid);\n\t\tg.drawVerticalLine(r[0], r[1], r[1]+r[3]);\n\t}\n});\n\nscriptLaf.registerFunction(\"drawTablePath\", function(g, obj)\n{\n\tg.setColour(obj.itemColour);\n\tg.fillPath(obj.path, obj.area);\n});\n\nscriptLaf.registerFunction(\"drawTablePoint\", function(g, obj)\n{\n\tg.setColour(obj.itemColour2);\n\tg.fillRoundedRectangle(Rectangle(obj.tablePoint).reduced(2), 2);\n});\n\nscriptLaf.registerFunction(\"drawTableMidPoint\", function(g, obj)\n{\n\tg.setColour(obj.itemColour2);\n\tg.fillEllipse(Rectangle(obj.midPoint).reduced(2));\n});\n\nscriptLaf.registerFunction(\"drawTableRuler\", function(g, obj)\n{\n\tvar a = Rectangle(obj.area);\n\tvar x = obj.position * a[2] + a[0];\n\n\tg.setColour(obj.itemColour2);\n\tg.drawVerticalLine(x, a[1], a[1]+a[3]);\n});\n\nconst var cssLaf = Content.createLocalLookAndFeel();\n\ncssLaf.setStyleSheetProperty(\"MARGIN\", 20, \"number\");\n\ncssLaf.setInlineStyleSheet(\"\n\n.scripttable \n{\n\tbackground-color: var(--bgColour);\t\n\tborder-radius: var(--MARGIN);\n}\n\n.scripttable::before\n{\n\tcontent: '';\n\tbackground-image: var(--tablePath);\n\tbackground-color: var(--itemColour);\n\tbox-shadow: 0px 2px 5px rgba(0, 0, 0, 0.5);\n}\n\n.tablepoint, .tablemidpoint\n{\n\tmargin: 2px;\n\tborder-radius: 2px;\n\tbackground-color: var(--itemColour2);\n\tbox-shadow: 0px 2px 5px black;\n}\n\n.tablemidpoint\n{\n\tborder-radius: 50% !important;\n}\n\n.tablemidpoint:hover, .tablepoint:hover\n{\n\tbackground-color: white;\n}\n\n.playhead::before\n{\n\tcontent: '';\n\twidth: 1px;\n\tleft: calc(calc(var(--playhead) * 100%) - 1px);\n\tbackground-color: var(--itemColour2);\n}\n\nlabel\n{\n\tbackground: rgba(255, 255, 255, 0.9);\n\tcolor: #222;\n\tborder: 1px solid #aaa;\n\tpadding: 5px;\n}\n\n\");\n\nTable1.setLocalLookAndFeel(USE_SCRIPT_LAF ? scriptLaf : cssLaf);\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "ScriptPanel Slider",
    "category": "UI",
    "tags": [
      "Graphics API",
      "ScriptPanel"
    ],
    "description": "\nA circular slider painted with a ScriptPanel.",
    "code": "Content.makeFrontInterface(120, 120);\n\n\ninline function createVectorKnob(name, x, y)\n{\n    local widget = Content.addPanel(name, x, y);\n    \n    Content.setPropertiesFromJSON(name, {\n      \"width\": 80,\n      \"height\": 80,\n      \"saveInPreset\": 1,\n      \"allowCallbacks\": \"Clicks, Hover & Dragging\",\n      \"enableMidiLearn\": true\n    });\n    \n    widget.data.p = Content.createPath();\n    \n    widget.setPaintRoutine(function(g)\n    {\n        // this is the start radian\n        var startOffset = 2.5;\n        \n        var arcThickness = 0.15;\n        var arcWidth = 1.0 - 2.0 * arcThickness;\n        \n        // Make sure you reset the path!\n        this.data.p.clear();\n        \n        g.setColour(Colours.white);\n        \n        // Draw the inner circle\n        g.fillEllipse([0.3*this.getWidth(), 0.3*this.getWidth(), 0.4*this.getWidth(), 0.4*this.getWidth()]);\n        \n        // Calculate the normalized value (in case the range is different from 0...1)\n        var min = this.get(\"min\");\n        var max = this.get(\"max\");\n        var normalizedValue = (this.getValue() - min) / (max - min);\n        \n        // calculate the end radian from the current value\n        var endOffset = -startOffset + 2.0 * startOffset * normalizedValue;\n        \n        // make sure the zero value draws a tiny fraction of the arc\n        endOffset = Math.max(endOffset, -startOffset + 0.1);\n        \n        // Add the arc with the given area and its offsets in radian (0 ... 2*PI)\n        this.data.p.addArc([arcThickness, arcThickness, arcWidth, arcWidth], -startOffset, endOffset);\n        g.setColour(Colours.aliceblue);\n        \n        // this new method returns the scaled bounds with the correct ratio\n        var pathArea = this.data.p.getBounds(this.getWidth());\n        \n        // draws the arc (use the area from above to avoid weird rescaling)\n        g.drawPath(this.data.p, pathArea, this.getWidth() * arcThickness);\n    });\n    \n    widget.setMouseCallback(function(event)\n    {\n        if(event.clicked)\n        {\n            // save the value from the mouse click\n            this.data.downValue = this.getValue();\n        }\n        if(event.drag)\n        {\n            // Calculate the distance using diagonal drag support\n            var dragDistance = event.dragX + -1.0 * event.dragY;\n            \n            // Calculate the sensitivity value based on the value range\n            var dragSensitivity = 200 / (this.get(\"max\") - this.get(\"min\"));\n            \n            var normalizedDistance = dragDistance / dragSensitivity;\n            \n            // Calculate the new value (limit it to the given range)\n            var newValue = Math.range(this.data.downValue + normalizedDistance, this.get(\"min\"), this.get(\"max\"));\n            \n            // Ignore the mouse events above the limits\n            if(newValue != this.getValue())\n            {\n                // Change the value\n                this.setValue(newValue);\n                \n                // Call the paint method \n                // unlike repaint, this is a bit faster, but call this only\n                // in either the mouse callback or the timer callback of the panel\n                this.repaintImmediately();\n                \n                // this method triggers the control callback\n                this.changed();\n            }\n        }\n    });\n    \n    return widget;\n};\n\n// Usage: \nconst var ScriptPanel = createVectorKnob(\"VectorKnob\", 20, 20);\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Shaded Sliderpack LAF",
    "category": "UI",
    "tags": [
      "LookAndFeel"
    ],
    "description": "\nA shaded SliderPack LookAndFeel by [danh](https://forum.hise.audio/user/danh).",
    "code": "Content.makeFrontInterface(600, 600);\nconst var SliderPack4 = Content.getComponent(\"SliderPack4\");\nconst var SliderPack5 = Content.getComponent(\"SliderPack5\");\n\nconst var SPLAF = Content.createLocalLookAndFeel();\nconst var SPLAF2 = Content.createLocalLookAndFeel();\n\nSPLAF.registerFunction(\"drawLinearSlider\", function(g, obj)\n{\n\n\tvar a = obj.area;\n\tvar v = obj.valueNormalized;\n\n\tg.setColour(0x7302A3A3);\n\tg.drawHorizontalLine(a[3] / 2, a[0], a[2]);\n\n\tg.setGradientFill([0x77FFFFFF, 10, 0, 0x7798CD0C, 10, 100]);\n\n\tif (v >= 1)\n\t{\n\t\ta[1] = a[1] + a[3] / 2 * (1.0 - v);\n\t\ta[3] = a[3] / 2 - a[1];\n\t}\t\t\n\telse\n\t{\n\t\ta[1] = a[3] / 2;\n\t\ta[3] = a[3] / 2 - a[3] / 2 * (2.0 * v);\n\t}\n\n\tg.fillRect(a);\n\t\n\tg.setColour(0XEC02A3A3);\n\tg.drawRoundedRectangle(obj.area, 0, 1);\n\n});\n\nSliderPack4.setLocalLookAndFeel(SPLAF);\n\n\nSPLAF2.registerFunction(\"drawLinearSlider\", function(g, obj)\n{\n\n\tg.setGradientFill([0x770016D7, 10, 0, 0x7798CD0C, 10, 100]);\n\n\tobj.area[1] += obj.area[3] * (1.0 - obj.valueNormalized);\n\n\tg.fillRect(obj.area);\n\t\n\tg.setColour(0X7FE903D9);\n\tg.drawRect(obj.area,1);\n\t    \n});\n\nSliderPack5.setLocalLookAndFeel(SPLAF2);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "SixState Filmstrip Button",
    "category": "UI",
    "tags": [
      "ScriptPanel"
    ],
    "description": "\n\nThis creates a classic Six State filmstrip button with a ScriptPanel. Depending on the mouse-hover or mouse-pressed state the filmstrip is offset and displayed.",
    "code": "Content.makeFrontInterface(500, 400);\n\nnamespace SixStateButton\n{\n    inline function createWidget(name, x, y)\n    {\n        local widget = Content.addPanel(name, x, y);\n    \n        Content.setPropertiesFromJSON(name, {\n        \"width\": 200,\n        \"saveInPreset\": 1,\n        \"allowCallbacks\": \"Clicks & Hover\",\n        \"opaque\": 1,\n        \"stepSize\": \"1\"\n        });\n    \n    \t// Store variables in the panels .data object\n    \t\n        widget.data.hover = 0;\n        widget.data.on = 0; \n        widget.data.down = 0;\n        widget.data.heightPerFilmStrip = 50; \n    \n        widget.setPaintRoutine(function(g)\n        {\n            var offset = this.getValue() ? 1 : 0; \n            if(this.data.down) offset += 2;\n            else if(this.data.hover) offset += 4;\n        \n            g.drawImage(\"filmstrip\",[0, 0, this.getWidth(), this.getHeight()], \n                                    0, offset * this.data.heightPerFilmstrip);\n        });\n    \n        widget.setMouseCallback(function(event)\n        {\n            if(event.clicked) \n            {\n                this.data.down = true;\n                this.repaint();\n            }\n            else if(event.mouseUp) \n            {\n                this.data.down = false;\n                setButtonValue(this, 1 - this.getValue());  \n                this.changed();\n            }\n            else \n            {\n                this.data.hover = event.hover;\n                this.repaint();\n            }\n        });\n        \n        return widget;\n    };\n    \n    inline function loadFilmStrip(p, image, heightPerFilmstrip)\n    {\n        p.loadImage(image, \"filmstrip\");\n        p.data.heightPerFilmstrip = heightPerFilmstrip;\n    };\n    \n    inline function update(p, value)\n    {\n        p.setValue(value);\n        p.changed();\n        p.repaint();\n    }\n    \n    inline function setButtonValue(p, value)\n    {\n        p.setValue(value);\n        p.repaint();\n    }\n};\n\n// Create two buttons\nconst var b1 = SixStateButton.createWidget(\"b1\", 0, 0);\nconst var b2 = SixStateButton.createWidget(\"b2\", 250, 0);\n\n// Load the image file\nSixStateButton.loadFilmStrip(b1, \"{PROJECT_FOLDER}six_state_button.png\", 50);\nSixStateButton.loadFilmStrip(b2, \"{PROJECT_FOLDER}six_state_button.png\", 50);\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Slider Peak Meter LAF",
    "category": "UI",
    "tags": [
      "First contact",
      "LookAndFeel"
    ],
    "description": "\nA slider peak meter LAF by the user [steve-mohican](https://forum.hise.audio/user/steve-mohican).",
    "code": "Content.makeFrontInterface(300, 400);\n\nconst locl_laf = Content.createLocalLookAndFeel();\n\nlocl_laf.registerFunction(\"drawRotarySlider\", function(g, obj)\n{\n\n// Vertical Line Level Meter Fill\n if (obj.text == \"PeakMeterVertFill\") \n   \t{\n\tvar a = obj.area;\n    var bottomTextmargin = 0;\n    var thickness = 2;\t\n    var vertpos = obj.valueNormalized;   \n\t\n\n\tg.setGradientFill([obj.itemColour2, 0, a[3], obj.itemColour1, 0, a[3] - thickness - (a[3]-thickness)*vertpos]);\t\n\n\tg.fillRoundedRectangle([0, a[3] * (1 - obj.valueNormalized), a[2], a[3]  - a[3] * (1 - obj.valueNormalized)], 0);\n\t\t\n \t}\n \t\n \t\n// Vertical Line Level Meter Pointer\n else if (obj.text == \"PeakMeterVertPointer\") \n   \t{\n\tvar a = obj.area;\n    var bottomTextmargin = 0;\n    var thickness = 2;\t\n    var vertpos = obj.valueNormalized;   \n\t\n     \t\t\n\tg.setColour(obj.textColour);\n\tg.fillRoundedRectangle([0, a[3] - thickness - (a[3]-thickness)*vertpos, a[2], thickness], 0.1);\t\n\n\t\t\n \t} \t\n \n});\n\n\n// Add the UI Elements\n\nconst var BG_Panel = Content.addPanel(\"BG_Panel\", 0, 0);\nContent.setPropertiesFromJSON(\"BG_Panel\", {\"borderSize\": 0.0, \"borderRadius\": 0.0, \"itemColour\": \"4280295456\", \"itemColour2\": \"4280295456\", \"width\": 600.0, \"height\": 600.0 });\n\nconst var PeakMeterPnl = Content.addPanel(\"PeakMeterPnl\", 80, 30);\nContent.setPropertiesFromJSON(\"PeakMeterPnl\", {\"width\": 140.0, \"height\": 340.0, \"bgColour\": \"16777215\", \"itemColour\": \"4934475\", \"itemColour2\": \"4934475\", \"textColour\": \"16777215\", \"borderSize\": 0.0, \"borderRadius\": 0.0 });\n\nconst var PeakMeterFillL = Content.addKnob(\"PeakMeterFillL\", 23, 30);\nContent.setPropertiesFromJSON(\"PeakMeterFillL\", {\"width\": 40.0, \"height\": 280.0, \"text\": \"PeakMeterVertFill\", \"itemColour\": \"1176553415\", \"itemColour2\": \"1676492\", \"bgColour\": \"1513239\", \"min\": -100.0, \"max\": 0.0, \"middlePosition\": -20.0, \"parentComponent\": \"PeakMeterPnl\", \"enabled\": \"0\", \"textColour\": \"4280338375\"});\n\nconst var PeakMeterFillR = Content.addKnob(\"PeakMeterFillR\", 79, 30);\nContent.setPropertiesFromJSON(\"PeakMeterFillR\", {\"width\": 40.0, \"height\": 280.0, \"text\": \"PeakMeterVertFill\", \"itemColour\": \"1176553415\", \"itemColour2\": \"1676492\", \"bgColour\": \"1513239\", \"min\": -100.0, \"max\": 0.0, \"middlePosition\": -20.0, \"parentComponent\": \"PeakMeterPnl\", \"enabled\": \"0\", \"textColour\": \"4280338375\"});\n\nconst var PeakMeterPointL = Content.addKnob(\"PeakMeterPointL\", 23, 30);\nContent.setPropertiesFromJSON(\"PeakMeterPointL\", {\"width\": 40.0, \"height\": 280.0, \"text\": \"PeakMeterVertPointer\", \"itemColour\": \"1176553415\", \"itemColour2\": \"1676492\", \"bgColour\": \"2148295\", \"min\": -100.0, \"max\": 0.0, \"middlePosition\": -20.0, \"parentComponent\": \"PeakMeterPnl\", \"enabled\": \"0\", \"textColour\": \"4280338375\"});\n\nconst var PeakMeterPointR = Content.addKnob(\"PeakMeterPointR\", 79, 30);\nContent.setPropertiesFromJSON(\"PeakMeterPointR\", {\"width\": 40.0, \"height\": 280.0, \"text\": \"PeakMeterVertPointer\", \"itemColour\": \"1176553415\", \"itemColour2\": \"1676492\", \"bgColour\": \"2148295\", \"min\": -100.0, \"max\": 0.0, \"middlePosition\": -20.0, \"parentComponent\": \"PeakMeterPnl\", \"enabled\": \"0\", \"textColour\": \"4280338375\"});\n\n\n\n// Assign the Local Look And Feel to the Sliders\nPeakMeterFillL.setLocalLookAndFeel(locl_laf);\nPeakMeterPointL.setLocalLookAndFeel(locl_laf);\nPeakMeterFillR.setLocalLookAndFeel(locl_laf);\nPeakMeterPointR.setLocalLookAndFeel(locl_laf);\n\n\n\n\n\n\n// Peak Meter\n\n// Add a Simple Gain\nconst PeakMeterGain = Synth.addEffect(ModuleIds.SimpleGain, \"PeakMeterGain\", -1);\n\n\n//Decay Rate - Fill should be faster (Lower value) and Pointer should be slower (Higher value)\nconst var DECAY_RATE_Fill = 0.75;\nconst var DECAY_RATE_Pointer = 0.93;\n\n//Current Values\nvar curLevelLM_Fill = 0.0;\nvar curLevelRS_Fill = 0.0;\n\nvar curLevelLM_Pointer = 0.0;\nvar curLevelRS_Pointer = 0.0;\n\n\n//Timer Callback\nconst var t1 = Engine.createTimerObject();\n\nt1.setTimerCallback(function()\n{\n//Module Values\n  var LevelLM_Fill = PeakMeterGain.getCurrentLevel(1);  \n  var LevelRS_Fill = PeakMeterGain.getCurrentLevel(0); \n  var LevelLM_Pointer = PeakMeterGain.getCurrentLevel(1);  \n  var LevelRS_Pointer = PeakMeterGain.getCurrentLevel(0); \n  \n  \n//LM Peak Module Values  \n  var peakLevelLM_Fill = Math.max(LevelLM_Fill, LevelLM_Fill);\n  \n  if (peakLevelLM_Fill > curLevelLM_Fill) curLevelLM_Fill = peakLevelLM_Fill;\n  else curLevelLM_Fill *= DECAY_RATE_Fill;\n\n\n\n  var peakLevelLM_Pointer = Math.max(LevelLM_Pointer, LevelLM_Pointer);\n  \n  if (peakLevelLM_Pointer > curLevelLM_Pointer) curLevelLM_Pointer = peakLevelLM_Pointer;\n  else curLevelLM_Pointer *= DECAY_RATE_Pointer;\n        \n        \n\n//RS Peak Module Values  \n  var peakLevelRS_Fill = Math.max(LevelRS_Fill, LevelRS_Fill);\n  \n  if (peakLevelRS_Fill > curLevelRS_Fill) curLevelRS_Fill = peakLevelRS_Fill;\n  else curLevelRS_Fill *= DECAY_RATE_Fill;\n\n\n\n  var peakLevelRS_Pointer = Math.max(LevelRS_Pointer, LevelRS_Pointer);\n\n  if (peakLevelRS_Pointer > curLevelRS_Pointer) curLevelRS_Pointer = peakLevelRS_Pointer;\n  else curLevelRS_Pointer *= DECAY_RATE_Pointer;\n  \n    \n//Decibel Conversion     \n  LevelLM_Fill = Engine.getDecibelsForGainFactor(curLevelLM_Fill);  \n  LevelRS_Fill = Engine.getDecibelsForGainFactor(curLevelRS_Fill); \n  \n  LevelLM_Pointer = Engine.getDecibelsForGainFactor(curLevelLM_Pointer);  \n  LevelRS_Pointer = Engine.getDecibelsForGainFactor(curLevelRS_Pointer); \n \n  \n  \n//Set Values  \n  PeakMeterFillL.setValue(LevelLM_Fill);  \n  PeakMeterFillR.setValue(LevelRS_Fill); \n  \n  PeakMeterPointL.setValue(LevelLM_Pointer);  \n  PeakMeterPointR.setValue(LevelRS_Pointer); \n   \n});\n\nt1.startTimer(50);\n\n\n\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Tabbed View",
    "category": "UI",
    "tags": [
      "UI Logic"
    ],
    "description": "\nA Tab View with 6 Panels that can be switched with a row of radio buttons.",
    "code": "Content.makeFrontInterface(700, 500);\r\n\r\nconst var NUM_BUTTONS = 6;\nconst var buttons = [];\r\nconst var panels = [];\r\n\nfor (i = 0; i < NUM_BUTTONS; i++)\n{\r\n    buttons[i] = Content.getComponent(\"Button\" + (i));\r\n    panels[i] = Content.getComponent(\"Panel\" + (i));\r\n    buttons[i].setControlCallback(onButtonControl);\n}\n\r\ninline function onButtonControl(component, value)\r\n{\r\n\tlocal idx = buttons.indexOf(component);\n\t\t\r\n\tfor (i = 0; i < panels.length; i++)\r\n    {\r\n        panels[i].showControl(idx == i);\n        buttons[i].setValue(i == idx && value);\n    }\r\n}\r\n\nonButtonControl(buttons[0], true);\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Zoomable waveform (Pos+Zoom)",
    "category": "UI",
    "tags": [
      "Graphics API",
      "LookAndFeel",
      "ScriptPanel"
    ],
    "description": "\n\nA zoomable waveform with a script panel (Pos+Zoom)\n\n\nby ustk\n\n[Forum Topic](https://forum.hise.audio/topic/5912/horizontal-zoom-for-waveform/13)",
    "code": "Content.makeFrontInterface(600, 400);\nConsole.clear();\n\nconst var WFpnl = Content.getComponent(\"WFpnl\");\nconst var knbs = [Content.getComponent(\"posKnb\"),\n                  Content.getComponent(\"zoomKnb\"),\n                  Content.getComponent(\"verticalZoomKnb\")];\n\nconst var AudioLoopPlayer1 = Synth.getAudioSampleProcessor(\"Audio Loop Player1\");\n\nreg af = AudioLoopPlayer1.getAudioFile(0);\t// the audio file\nreg data = af.getContent();\t\t\t\t\t// the array of buffers\n\t\nconst var p = Content.createPath();\n\n\n// Load an audio file in the loop player\ninline function onloadFileBtnControl(component, value)\n{\n\tif (value)\n\t{\n\t\tFileSystem.browse(FileSystem.Desktop, false, \"\", function(result)\n\t\t{\n\t\t\tAudioLoopPlayer1.setFile(result.toString(0));\n\t\t\t\n\t\t\t// get audio file and buffers ready\n\t\t\taf = AudioLoopPlayer1.getAudioFile(0);\n\t\t\tdata = af.getContent();\n\t\t\t\n\t\t\tupdatePath();\n\t\t\tWFpnl.repaint();\n\t\t});\n\t}\n};\n\nContent.getComponent(\"loadFileBtn\").setControlCallback(onloadFileBtnControl);\n\n\n\n// Paint Routine\nWFpnl.setPaintRoutine(function(g)\n{\n\tg.fillAll(Colours.black);\n\tg.setColour(Colours.lightgrey);\n\t\n\tp.scaleToFit(0, 0, this.getWidth(), -this.getHeight(), false); // note the minus sign to revert the path (since 0 is at the top of the panel...)\n\t\n\tg.fillPath(p, this.getLocalBounds(10.0));\n});\n\n\n\n// create a nice mono path\ninline function updatePath()\n{\n\tlocal l = data[0].length;\n\tlocal range = Math.max(0.01, 1.0-knbs[1].getValueNormalized()) * l;\t\t\t// the range\n\tlocal start = knbs[0].getValueNormalized() * (l-range);\t\t\t\t\t\t// the start sample\n\t\n\tlocal stride = Math.max(1, range / WFpnl.getWidth()); \t// so we draw only the necessary number of sample for the panel (imagine how the CPU will be happy for a 2 channels 10sec buffer at 96kHz...)\n\t\n\tlocal fixedFactor = 20.0; \t\t\t\t\t\t\t\t// a 0 to \"whatever you need\" value\n\tlocal vertZoom = 1.0 + knbs[2].getValueNormalized() * fixedFactor;\n\t\n\tlocal sliceBuffer;\t// a buffer that will refer to the full buffer from the current start point and for the stride length so we don't lose data. Note that other methods could be used (magnitude, RMS, etc...)\n\tlocal mono;\t\t\t// if the audio buffer has multiple channels, they will be summed to mono for the sake of the example\n\t\n\tp.clear();\n\tp.startNewSubPath(0, -1);\t// these are fixed bounds so the waveform will stay in the centre\n\tp.startNewSubPath(0, 1);\n\tp.startNewSubPath(0, 0);\n\t\n\t// for a nicer look, we'll feed the path top and bottom parts separately\n\t// Positive part\n\tfor (i=0; i<range; i+=stride)\n\t{\n\t\tmono = 0.0;\n\t\t\n\t\tfor (ch=0; ch<data.length; ch++)\n\t\t{\n\t\t\tsliceBuffer = Buffer.referTo(data[ch], i+start, Math.min(stride, l - (i+start)));\n\t\t\tmono += sliceBuffer.getPeakRange()[1]; // take the positive value\n\t\t}\n\t\t\n\t\tp.lineTo(i / l, Math.max(0.0, Math.min(mono/data.length * vertZoom, 1.0)));\n\t}\n\t\n\t// Negative part (going backward)\n\tfor (i=range-stride; i>=0; i-=stride)\n\t{\n\t\tmono = 0.0;\n\t\t\n\t\tfor (ch=0; ch<data.length; ch++)\n\t\t{\n\t\t\tsliceBuffer = Buffer.referTo(data[ch], i+start, Math.min(stride, l - (i+start)));\n\t\t\tmono += sliceBuffer.getPeakRange()[0]; // take the negative value\n\t\t}\n\t\t\n\t\tp.lineTo(i / l, Math.min(Math.max(-1.0, mono/data.length * vertZoom), 0.0));\n\t}\n\t\n\tp.closeSubPath();\n}\n\n\n\n// update on knob change\ninline function onknbsControl(component, value)\n{\n\t// prevent start>end\n\t/*if (component == knbs[0] && value >= knbs[1].getValue()-1.0)\n\t\tknbs[1].setValue(value+1.0);\n\telse if (component == knbs[1] && value < knbs[0].getValue()+1.0)\n\t\tknbs[0].setValue(value-1.0);*/\n\t\n\tupdatePath();\n\tWFpnl.repaint();\n};\n\nfor (k in knbs) k.setControlCallback(onknbsControl);\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Zoomable waveform (Start+End)",
    "category": "UI",
    "tags": [
      "Graphics API",
      "LookAndFeel",
      "ScriptPanel"
    ],
    "description": "\n\nA zoomable waveform with a script panel (Start+End)\n\n\nby ustk\n\n[Forum Topic](https://forum.hise.audio/topic/5912/horizontal-zoom-for-waveform/13)\n```\n",
    "code": "Content.makeFrontInterface(600, 400);\nConsole.clear();\n\nconst var WFpnl = Content.getComponent(\"WFpnl\");\nconst var knbs = [Content.getComponent(\"loKnb\"),\n                  Content.getComponent(\"hiKnb\"),\n                  Content.getComponent(\"verticalZoomKnb\")];\n\nconst var AudioLoopPlayer1 = Synth.getAudioSampleProcessor(\"Audio Loop Player1\");\n\nreg af = AudioLoopPlayer1.getAudioFile(0);\t// the audio file\nreg data = af.getContent();\t\t\t\t\t// the array of buffers\n\t\nconst var p = Content.createPath();\n\n\n\n// load an audio file in the loop player\ninline function onloadFileBtnControl(component, value)\n{\n\tif (value)\n\t{\n\t\tFileSystem.browse(FileSystem.Desktop, false, \"\", function(result)\n\t\t{\n\t\t\tAudioLoopPlayer1.setFile(result.toString(0));\n\t\t\t\n\t\t\t// get audio file and buffers ready\n\t\t\taf = AudioLoopPlayer1.getAudioFile(0);\n\t\t\tdata = af.getContent();\n\t\t\t\n\t\t\tupdatePath();\n\t\t\tWFpnl.repaint();\n\t\t});\n\t}\n};\n\nContent.getComponent(\"loadFileBtn\").setControlCallback(onloadFileBtnControl);\n\n\n\n\n// Paint Routine\nWFpnl.setPaintRoutine(function(g)\n{\n\tg.fillAll(Colours.black);\n\tg.setColour(Colours.lightgrey);\n\t\n\tp.scaleToFit(0, 0, this.getWidth(), -this.getHeight(), false); // note the minus sign to revert the path (since 0 is at the top of the panel...)\n\t\n\tg.fillPath(p, this.getLocalBounds(10.0));\n});\n\n\n\n\n// create a nice mono path\ninline function updatePath()\n{\n\tlocal l = data[0].length;\n\tlocal start = knbs[0].getValueNormalized() * l;\t\t\t// the start sample\n\tlocal end = knbs[1].getValueNormalized() * l;\t\t\t// the end sample\n\tlocal range = end-start;\t\t\t\t\t\t\t\t// nb samples to draw\n\tlocal stride = Math.max(1, range / WFpnl.getWidth()); \t// so we draw only the necessary number of sample for the panel (imagine how the CPU will be happy for a 2 channels 10sec buffer at 96kHz...)\n\t\n\tlocal fixedFactor = 20.0; \t\t\t\t\t\t\t\t// a 0 to \"whatever you need\" value\n\tlocal vertZoom = 1.0 + knbs[2].getValueNormalized() * fixedFactor;\n\t\n\tlocal sliceBuffer;\t// a buffer that will refer to the full buffer from the current start point and for the stride length so we don't lose data. Note that other methods could be used (magnitude, RMS, etc...)\n\tlocal mono;\t\t\t// if the audio buffer has multiple channels, they will be summed to mono for the sake of the example\n\t\n\tp.clear();\n\tp.startNewSubPath(0, -1);\t// these are fixed bounds so the waveform will stay in the centre\n\tp.startNewSubPath(0, 1);\n\tp.startNewSubPath(0, 0);\n\t\n\t// for a nicer look, we'll feed the path top and bottom parts separately\n\t// Positive part\n\tfor (i=0; i<range; i+=stride)\n\t{\n\t\tmono = 0.0;\n\t\t\n\t\tfor (ch=0; ch<data.length; ch++)\n\t\t{\n\t\t\tsliceBuffer = Buffer.referTo(data[ch], i+start, Math.min(stride, l - (i+start)));\n\t\t\tmono += sliceBuffer.getPeakRange()[1]; // take the positive value\n\t\t}\n\t\t\n\t\tp.lineTo(i / l, Math.max(0.0, Math.min(mono/data.length * vertZoom, 1.0)));\n\t}\n\t\n\t// Negative part (going backward)\n\tfor (i=range-stride; i>=0; i-=stride)\n\t{\n\t\tmono = 0.0;\n\t\t\n\t\tfor (ch=0; ch<data.length; ch++)\n\t\t{\n\t\t\tsliceBuffer = Buffer.referTo(data[ch], i+start, Math.min(stride, l - (i+start)));\n\t\t\tmono += sliceBuffer.getPeakRange()[0]; // take the negative value\n\t\t}\n\t\t\n\t\tp.lineTo(i / l, Math.min(Math.max(-1.0, mono/data.length * vertZoom), 0.0));\n\t}\n\t\n\tp.closeSubPath();\n}\n\n\n\n\n// update on knob change\ninline function onknbsControl(component, value)\n{\n\t// prevent start>end\n\tif (component == knbs[0] && value >= knbs[1].getValue()-1.0)\n\t\tknbs[1].setValue(value+1.0);\n\telse if (component == knbs[1] && value < knbs[0].getValue()+1.0)\n\t\tknbs[0].setValue(value-1.0);\n\t\n\tupdatePath();\n\tWFpnl.repaint();\n};\n\nfor (k in knbs) k.setControlCallback(onknbsControl);\n\n\n\n\n\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Saving custom LFO Shapes",
    "category": "UI",
    "tags": [],
    "description": "\n\nPaint different table values and save them in their own recoverable preset format.\n\nTo make this work you have to create a folder, that is named \"LFO\" in the projects \"UserPresets\" folder. You'll be able to save/read the custom LFO shapes. You'll need to distribute this folder with the installer.\n\n",
    "code": "Content.makeFrontInterface(700, 320);\n\n/*\n For this to work you need to create a subfolder called \"LFO\" in your projects\n \"UserPresets\" folder. The custom LFO shapes will be saved there.\n*/\n\n//! ============ FILTER1 LFO SAVE PRESET ============\n\nconst var tableProcessor0 = Synth.getTableProcessor(\"FILTER1_LFO\");\nconst var tableData = tableProcessor0.exportAsBase64(0);\n\n\nnamespace PresetBrowser {\n    const var LFO_Preset_Pnl0 = Content.getComponent(\"LFO_Preset_Pnl0\"); \n    \n    const var LFO_Viewport0 = Content.getComponent(\"LFO_Viewport0\");\n    LFO_Viewport0.setControlCallback(onLFO_Viewport0Control);\n    \n    const var LFO_ShowPresetFolder0 = Content.getComponent(\"LFO_ShowPresetFolder0\");\n    LFO_ShowPresetFolder0.setControlCallback(onLFO_ShowPresetFolder0Control);\n    \n    const var LFO_SavePreset0 = Content.getComponent(\"LFO_SavePreset0\");\n    LFO_SavePreset0.setControlCallback(onLFO_SavePreset0Control);\n    \n    const var LFO_PresetOptions0 = Content.getComponent(\"LFO_PresetOptions0\");\n    const var LFO_EnterPresName_Lbl0 = Content.getComponent(\"LFO_EnterPresName_Lbl0\");\n    \n    const var LFO_SaveOk0 = Content.getComponent(\"LFO_SaveOk0\");\n    LFO_SaveOk0.setControlCallback(onLFO_SaveOk0Control);\n\n    const var LFO_SaveCancel0 = Content.getComponent(\"LFO_SaveCancel0\");\n    LFO_SaveCancel0.setControlCallback(onLFO_SaveCancel0Control);\n    \n    const var LFO_SavePresClose0 = Content.getComponent(\"LFO_SavePresClose0\");\n    LFO_SavePresClose0.setControlCallback(onLFO_SavePresClose0Control); \n    \n    const var LFO_PresBrowsOpener0 = Content.getComponent(\"LFO_PresBrowsOpener0\");\n\tLFO_PresBrowsOpener0.setControlCallback(onLFO_PresBrowsOpener0Control);     \n    \n    populateLFO_Viewport0();\n    \n\n    inline function populateLFO_Viewport0() {\n        local presetNames = PresetHandler.fetchPresetNames();\n        LFO_Viewport0.set(\"items\", presetNames.join(\"\\n\"));\n    }\n    \n    inline function onLFO_Viewport0Control(component, value) {\n        local items = component.get(\"items\").split(\"\\n\");\n        local preset = PresetHandler.loadPresetFile(items[value]);\n        setControlValues(preset);\n    };\n    \n    inline function onLFO_ShowPresetFolder0Control(component, value) {\n        if (value) PresetHandler.showPresetFolder();\n    };\n    \n    inline function onLFO_SavePreset0Control(component, value) {\n        LFO_PresetOptions0.showControl(value);\n    };\n        \n    inline function onLFO_SavePresClose0Control(component, value) {\n    \tLFO_Preset_Pnl0.showControl(false);\n    };\n        \n    inline function onLFO_PresBrowsOpener0Control(component, value) {\n    \tLFO_Preset_Pnl0.showControl(true);\n    };\n    \n    inline function onLFO_SaveOk0Control(component, value) {\n        if (value) {\n            local presetName = LFO_EnterPresName_Lbl0.get(\"text\");\n            PresetHandler.savePresetFile(presetName, getControlValues());\n            LFO_SavePreset0.setValue(false);\n            LFO_SavePreset0.changed();\n            populateLFO_Viewport0();\n        }\n    };\n    \n    inline function onLFO_SaveCancel0Control(component, value) {\n        LFO_SavePreset0.setValue(false);\n        LFO_SavePreset0.changed();\n    };\n    \n    inline function getControlValues() {\n        return {\n            \"tableData\": tableProcessor0.exportAsBase64(0)\n        };\n    }\n    \n    inline function setControlValues(data) {\n        tableProcessor0.restoreFromBase64(0, data.tableData);\n    }\n}\n\n\n\nnamespace PresetHandler {\n    inline function getPresetFolder() {\n        return FileSystem.getFolder(FileSystem.UserPresets).getChildFile(\"LFO\");\n    }\n    \n\tinline function fetchPresetNames() {\n\t\tlocal presets = FileSystem.findFiles(getPresetFolder(), \"*.lfo\", true);\n\t\tlocal presetNames = [];\n\t\tfor (file in presets)\n\t\t\tpresetNames.push(file.toString(1));\n\t\t\t\n\t\treturn presetNames;\n\t}\n\n\tinline function loadPresetFile(presetName) {\n\t\tlocal presetFile = FileSystem.findFiles(getPresetFolder(), presetName + \".lfo\", true);\n\t\treturn presetFile[0].loadAsObject();\n\t}\n\n\tinline function savePresetFile(presetName, data) {\n\t\tlocal presetFile = getPresetFolder().getChildFile(presetName + \".lfo\");\n\t\tpresetFile.writeObject(data);\n\t}\n\n\tinline function presetNameExists(presetName) {\n\t\treturn getPresetFolder().getChildFile(presetName + \".lfo\").isFile();\n\t}\n\n\tinline function showPresetFolder() {\n\t\tgetPresetFolder().show();\n\t}\n}\n\n\n\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Two linked Sliders",
    "category": "UI",
    "tags": [
      "Simple",
      "UI Logic"
    ],
    "description": "\n\nTwo Sliders modify their Gain Value independently but can be linked together. You can easily add new Sliders to be linked.",
    "code": "Content.makeFrontInterface(600, 120);\r\n\r\nreg i;\r\n\r\nconst var fx = [];\r\nfx[0] = Synth.getEffect(\"Simple Gain\");\r\nfx[1] = Synth.getEffect(\"Simple Gain2\");\r\n\r\nconst var btnLink = Content.getComponent(\"Button1\");\r\n\r\nconst var knobs = [];\r\nknobs[0] = Content.getComponent(\"Knob1\");\r\nknobs[1] = Content.getComponent(\"Knob2\");\r\n\r\nknobs[0].setControlCallback(knobCB);\r\nknobs[1].setControlCallback(knobCB);\r\n\r\ninline function knobCB(control, value)\r\n{\r\n    local idx = knobs.indexOf(control);\r\n    \r\n    if (btnLink.getValue() == 0) // Controls not linked\r\n    {\r\n        fx[idx].setAttribute(0, value);\n    }\r\n    else \r\n    {\r\n        for (i = 0; i < knobs.length; i++)\r\n        {\r\n            fx[i].setAttribute(0, value);\r\n            knobs[i].setValue(value);\n        }\n    }\r\n        \n}\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Dynamic List",
    "category": "UI",
    "tags": [
      "ScriptPanel"
    ],
    "description": "Add items to a list dynamically. This can serve as an entry point for building a custom preset browser, file browser, task list, etc.. ",
    "code": "Content.makeFrontInterface(600, 250);\n\n/** Dynamic List example\r\n\r\n    This example snippet shows the usage of the new addChildPanel() function\r\n    in order to implement a dynamic list of items that are aligned vertically\r\n    (like the list items in a viewport).\r\n\r\n    The text from the label will be used as data for each row. Just enter some\r\n    text and press the Add Item button and it will create a new row.\r\n    \r\n    Each row has a close button on the right that will remove the item.\r\n    \r\n    This example can be used as starting point for any kind of dynamic list\r\n    (eg. file browser, custom preset browser, etc).\r\n*/\r\n\r\n// This is the canvas for the list items. It's placed in a viewport and will\r\n// be dynamically resized to match the height of the list.\r\nconst var Panel1 = Content.getComponent(\"Panel1\");\r\n\r\nconst var Label1 = Content.getComponent(\"Label1\");\r\n\r\n// This array will contain all list items. It's important to store the child\r\n// panels in a variable or array because they will be deleted when they are\r\n// not referenced anymore\r\nconst var list = [];\r\n\r\nPanel1.setPaintRoutine(function(g)\n{\n\tg.fillAll(0xFF444444);\r\n});\n\r\nconst var lineHeight = 30;\r\n\r\n/** This function will be called whenever the list item changes. */\r\ninline function updateList()\r\n{\r\n    Panel1.set(\"height\", list.length * lineHeight);\r\n    \r\n    local y = 0;\r\n    \r\n    for(c in list)\r\n    {\r\n        c.set(\"y\", y);\r\n        y += lineHeight;\r\n    }\r\n}\r\n\r\n/** Adds a close button to a panel. We will call this method with an anonymous panel\r\n    as parent so you can see how to create nested child panel structures. */\r\ninline function addCloseButton(p)\r\n{\r\n    reg b = p.addChildPanel();\r\n    p.data.closeButton = b;\r\n    \r\n    // This line would be a big No-No. If you don't know why,\r\n    // read up on cyclic references...\r\n    //b.data.parent = p;\r\n    \r\n    \r\n    b.set(\"allowCallbacks\", \"Clicks & Hover\");\r\n    b.setPosition(p.getWidth() - lineHeight, 0, lineHeight, lineHeight);\r\n    b.setMouseCallback(function(event)\r\n    {\r\n        this.data.hover = event.hover;\r\n        \r\n        if(event.clicked)\r\n        {\r\n            // we will use the `getParentPanel()` method in order\r\n            // to fetch the parent without creating a cyclic reference\r\n            this.getParentPanel().removeFromParent();\r\n            \r\n            // Remove the parent from the list\r\n            list.remove(this.getParentPanel());\r\n            \r\n            // update all positions\r\n            updateList();\r\n            \r\n        }\r\n        else\r\n            this.repaint();\r\n    });\r\n    \r\n    // Just paints the X icon\r\n    b.setPaintRoutine(function(g)\r\n    {\r\n        var path = Content.createPath();\r\n        path.startNewSubPath(0, 0);\r\n        path.lineTo(1, 1);\r\n        path.startNewSubPath(0, 1);\r\n        path.lineTo(1, 0);\r\n        \r\n        g.setColour(Colours.withAlpha(Colours.white, this.data.hover ? 0.9 : 0.4));\r\n        \r\n        g.drawPath(path, [8, 8, this.getWidth()-16, this.getHeight()-16], 3);\n    });\n}\r\n\r\ninline function createRow(text)\r\n{\r\n    local p = Panel1.addChildPanel();\r\n    p.data.text = text;\r\n    \r\n    // We'll place it inside the panel. The y-position will get updated with \r\n    // updateList later on, but the other values will remain the same\r\n    p.setPosition(0, list.length * lineHeight, Panel1.getWidth(), lineHeight);\r\n    p.setPaintRoutine(function(g)\r\n    {\r\n        var a = [0, 0, this.getWidth(), this.getHeight() - 1];\r\n        g.setColour(0x44FFFFFF);\r\n        g.drawRect(a, 1);\r\n        g.setFont(\"Oxygen\", 16.0);\r\n        g.setColour(0x88FFFFFF);\r\n        a[0] += 10;\r\n        \r\n        g.drawAlignedText(this.data.text, a, \"left\"); \r\n    });\r\n    \r\n    // Add a close button to each row\r\n    addCloseButton(p);\r\n    \r\n    // add the row to the array so it will be referenced\r\n    list.push(p);\r\n    updateList();\r\n}\r\n\r\n// on initialisation there will be no rows, so we'll set the height to zero.\r\nPanel1.set(\"height\", 0);\r\n\r\ninline function onButton1Control(component, value)\r\n{\r\n    if(value)\r\n        createRow(Label1.getValue());\r\n};\r\n\r\nContent.getComponent(\"Button1\").setControlCallback(onButton1Control);\r\n\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Colour the Keyboard",
    "category": "UI",
    "tags": [
      "Simple"
    ],
    "description": "\nPaint the keyboard in random colours, and change their hue on NoteOn and NoteOff.\n\n",
    "code": "Content.makeFrontInterface(700, 100);\r\n\r\nfor(i = 0; i < 127; i++)\r\n{\r\n    // Paints all keys in random colours\r\n    Engine.setKeyColour(i, Colours.withAlpha(Math.randInt(100000, 99999999), 0.55));    \r\n}\r\n\n// Take a look at the onNoteOn and onNoteOff callbacks in the Interface > onInit dropdown\n \r\n\r\n\r\n\nfunction onNoteOn()\n{\r\n    // Paints a white hover color when the key is pressed\n\tif (Message.getNoteNumber()) {\r\n\t    Engine.setKeyColour(Message.getNoteNumber(), Colours.withAlpha(Colours.white, 0.2));\n\t}\n}\n \nfunction onNoteOff()\n{\r\n    // Paints a new random colour when the key is released\n    if (Message.getNoteNumber()) {\r\n        Engine.setKeyColour(Message.getNoteNumber(), Colours.withAlpha(Math.randInt(0, 99999999), 0.55));\n    }\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "RadioButton Panel",
    "category": "UI",
    "tags": [
      "Graphics API",
      "ScriptPanel",
      "Simple"
    ],
    "description": "\nThis example shows how to use a panel instead of multiple radio grouped buttons.\n\nThis is helpful if you want to assign the radio group to a plugin parameter so that it can be changed with a single value.",
    "code": "Content.makeFrontInterface(600, 100);\n\nnamespace RadioPanel\n{\n\t\ninline function paintFunction(g)\n{\n\tlocal idx = 0;\n\t\n\tfor(a in this.data.areas)\n\t{\n\t\tg.setColour(0x22000000);\n\t\t\n\t\tif(idx == this.getValue())\n\t\t\tg.setColour(0x55FFFFFF);\n\t\t\n\t\tg.fillRect(a.reduced(this.data.down ? 2 : 1));\n\n\t\tg.setColour(Colours.withAlpha(Colours.white, this.data.hoverIndex == idx ? 0.9 : 0.6));\n\t\tg.drawAlignedText(this.data.values[idx], a, \"centred\");\n\t\t\n\t\tidx++;\n\t}\n}\t\n\ninline function mouseCallback(event)\n{\n\tthis.data.hoverIndex = -1;\n\tlocal pos = [event.x, event.y];\n\tlocal idx = 0;\n\t\n\tthis.data.down = event.clicked;\n\t\n\tif(event.hover)\n\t{\n\t\tfor(a in this.data.areas)\n\t\t{\n\t\t\tif(a.contains(pos))\n\t\t\t{\n\t\t\t\tthis.data.hoverIndex = idx;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tidx++;\n\t\t}\n\t}\n\t\n\tif(event.clicked && this.data.hoverIndex != -1)\n\t{\n\t\tthis.setValue(this.data.hoverIndex);\n\t\tthis.changed();\n\t}\n\t\n\tthis.repaint();\n}\n\ninline function make(name:string, values:Array)\n{\n\tlocal p = Content.getComponent(name);\n\tp.data.values = values;\n\t\n\tlocal b = Rectangle(p.getLocalBounds(0));\n\t\n\tlocal w = b[2] / values.length;\n\t\n\tp.data.areas = [];\n\t\n\t// this is necessary for the plugin parameters to display the range correctly\n\tp.set(\"min\", 0);\n\tp.set(\"max\", values.length-1);\n\tp.set(\"stepSize\", 1);\n\t\n\tfor(v in p.data.values)\n\t{\n\t\tp.data.areas.push(b.removeFromLeft(w));\n\t}\n\t\n\tp.set(\"allowCallbacks\", \"All Callbacks\");\n\t\n\tp.setPaintRoutine(paintFunction);\n\tp.setMouseCallback(mouseCallback);\n}\n}\n\nRadioPanel.make(\"Panel1\", [\"Funky\", \"Value 2\", \"Something else\"]);\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  },
  {
    "title": "Drag Modulated Parameter",
    "category": "UI",
    "tags": [
      "ScriptPanel",
      "UI Logic",
      "Modulation"
    ],
    "description": "\n\nA modification of the drag example that uses a modulated parameter as a drop target. This bypasses the drop callback and creates the modulation connection.",
    "code": "Content.makeFrontInterface(600, 100);\n\n// a simple paint routine\ninline function paint(g)\n{\n\tg.fillAll(this.get(\"bgColour\"));\n\tg.setColour(Colours.white);\n\tg.drawAlignedText(this.get(\"text\"), this.getLocalBounds(0), \"centred\");\n}\n\n// setup the panels\nconst var Source = Content.getComponent(\"Source\");\n\n\nSource.set(\"bgColour\", Colours.blue);\n\nSource.setPaintRoutine(paint);\n\n\n// set the source to listen to mouse callbacks and change the cursor to the\n// dragging hand\nSource.set(\"allowCallbacks\", \"Clicks, Hover & Dragging\");\nSource.setMouseCursor(\"DraggingHandCursor\", Colours.white, [0, 0]);\n\n// this function will be called to render a drag image. This is called whenever\n// you call Content.refreshDragImage()\nfunction dragPaint(g, obj)\n{\n\tvar isValid = obj.valid;\n\tisValid |= obj.target.length == 0;\n\tisValid |= obj.target == obj.source;\n\tg.fillAll(isValid ? Colours.white : Colours.red);\n}\n\n// this function will be executed whenever the object was dropped on something\nfunction onDrag(isValid, targetName)\n{\n\tConsole.print(isValid ? targetName : \"Cancelled\");\n}\n\n// this function will be called to check whether the \n// drag target is valid. It will be executed whenever you hover\n// over a different object\nfunction checkValid(targetId)\n{\n\t// we want to update the drag image to reflect the draggability\n\tContent.refreshDragImage();\n\treturn targetId == \"Knob1\";\n}\n\nSource.setMouseCallback(function(event)\n{\n\tif(event.clicked && !event.rightClick)\n\t{\n\t\t// on left mouse down we'll call this method once\n\t\t// and the dragging will be handled automatically\n\t\tSource.startInternalDrag({\n\t\t\tType: \"ModulationDrag\",\n\t\t\tSourceIndex: 0,\n\t\t\tarea: [0, 0, 50, 50],    // the size of the drag image\n\t\t\tpaintRoutine: dragPaint, // the paint function that renders the dragged image\n\t\t\tdragCallback: onDrag,    // the callback that is executed when dropped\n\t\t\tisValid: checkValid      // the function that checks the draggability on hover\n\t\t});\n\t}\n});\nfunction onNoteOn()\n{\n\t\n}\n \nfunction onNoteOff()\n{\n\t\n}\n \nfunction onController()\n{\n\t\n}\n \nfunction onTimer()\n{\n\t\n}\n \nfunction onControl(number, value)\n{\n\t\n}\n \n"
  }
]