# HISE MCP Server Environment Variables
# Copy this file to .env and fill in your values

# ===========================================
# Phase 1-2: Simple Token Auth (Required)
# ===========================================

# Django OAuth Server - Token Validation Endpoint
# This is where the MCP server validates user tokens
MCP_VALIDATE_TOKEN_URL=https://store.hise.dev/api/mcp/validate-token/

# Shared secret between MCP server and Django server
# Must match the MCP_SHARED_SECRET in your Django .env
MCP_SHARED_SECRET=your-shared-secret-here

# Token cache TTL in seconds (default: 300 = 5 minutes)
# Cached tokens won't be re-validated until TTL expires
TOKEN_CACHE_TTL=300

# Server port (default: 3000)
PORT=3000

# ===========================================
# Phase 3: OAuth 2.0 (Claude Desktop Support)
# ===========================================

# The public URL of this MCP server
# Used in OAuth metadata for token_endpoint and registration_endpoint
MCP_SERVER_URL=https://docs.hise.dev/mcp

# OAuth Issuer URL (the Django server)
OAUTH_ISSUER=https://store.hise.dev

# OAuth Endpoints (Django OAuth Toolkit)
OAUTH_AUTHORIZE_URL=https://store.hise.dev/o/authorize/
OAUTH_TOKEN_URL=https://store.hise.dev/o/token/

# MCP Application OAuth Credentials
# Create an OAuth Application in Django admin with:
# - Client type: Confidential
# - Authorization grant type: Authorization code
# - Redirect URIs: (as needed by Claude Desktop)
MCP_CLIENT_ID=hise-mcp-server
MCP_CLIENT_SECRET=your-client-secret-here

# ===========================================
# Optional: Additional OAuth Endpoints
# ===========================================

# OAUTH_INTROSPECT_URL=https://store.hise.dev/o/introspect/
# OAUTH_USERINFO_URL=https://store.hise.dev/o/userinfo/
# OAUTH_REVOKE_URL=https://store.hise.dev/o/revoke_token/

# ===========================================
# HISE Runtime Bridge (Local Development)
# ===========================================

# URL of the local HISE REST API
# Only needed when running MCP server locally to bridge to HISE
# The production server does not use this (HISE runs locally, not on the server)
HISE_API_URL=http://localhost:1900
